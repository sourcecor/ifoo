/*!
 * jQuery JavaScript Library v1.12.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-02-22T19:07Z
 */
function check_buy(){return $("#buy_buy_count").val()<1?(alert("\u5c1a\u672a\u9078\u64c7\u5c3a\u5bf8"),!1):void 0}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=fe.type(e);return"function"===n||fe.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(fe.isFunction(t))return fe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return fe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ie.test(t))return fe.filter(t,e,n);t=fe.filter(t,e)}return fe.grep(e,function(e){return fe.inArray(e,t)>-1!==n})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function a(e){var t={};return fe.each(e.match(Ke)||[],function(e,n){t[n]=!0}),t}function r(){ie.addEventListener?(ie.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s)):(ie.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(ie.addEventListener||"load"===e.event.type||"complete"===ie.readyState)&&(r(),fe.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Ae,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?fe.parseJSON(n):n}catch(o){}fe.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,i){if(Se(e)){var o,a,r=fe.expando,s=e.nodeType,l=s?fe.cache:e,c=s?e[r]:e[r]&&r;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[r]=ne.pop()||fe.guid++:r),l[c]||(l[c]=s?{}:{toJSON:fe.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=fe.extend(l[c],t):l[c].data=fe.extend(l[c].data,t)),a=l[c],i||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[fe.camelCase(t)]=n),"string"==typeof t?(o=a[t],null==o&&(o=a[fe.camelCase(t)])):o=a,o}}function d(e,t,n){if(Se(e)){var i,o,a=e.nodeType,r=a?fe.cache:e,s=a?e[fe.expando]:fe.expando;if(r[s]){if(t&&(i=n?r[s]:r[s].data)){fe.isArray(t)?t=t.concat(fe.map(t,fe.camelCase)):t in i?t=[t]:(t=fe.camelCase(t),t=t in i?[t]:t.split(" ")),o=t.length;for(;o--;)delete i[t[o]];if(n?!c(i):!fe.isEmptyObject(i))return}(n||(delete r[s].data,c(r[s])))&&(a?fe.cleanData([e],!0):de.deleteExpando||r!=r.window?delete r[s]:r[s]=void 0)}}}function h(e,t,n,i){var o,a=1,r=20,s=i?function(){return i.cur()}:function(){return fe.css(e,t,"")},l=s(),c=n&&n[3]||(fe.cssNumber[t]?"":"px"),u=(fe.cssNumber[t]||"px"!==c&&+l)&&Pe.exec(fe.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do a=a||".5",u/=a,fe.style(e,t,u+c);while(a!==(a=s()/l)&&1!==a&&--r)}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function f(e){var t=je.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,i,o=0,a="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||fe.nodeName(i,t)?a.push(i):fe.merge(a,m(i,t));return void 0===t||t&&fe.nodeName(e,t)?fe.merge([e],a):a}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)fe._data(n,"globalEval",!t||fe._data(t[i],"globalEval"))}function p(e){Me.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,n,i,o){for(var a,r,s,l,c,u,d,h=e.length,v=f(t),b=[],E=0;h>E;E++)if(r=e[E],r||0===r)if("object"===fe.type(r))fe.merge(b,r.nodeType?[r]:r);else if(We.test(r)){for(l=l||v.appendChild(t.createElement("div")),c=(He.exec(r)||["",""])[1].toLowerCase(),d=Ve[c]||Ve._default,l.innerHTML=d[1]+fe.htmlPrefilter(r)+d[2],a=d[0];a--;)l=l.lastChild;if(!de.leadingWhitespace&&ze.test(r)&&b.push(t.createTextNode(ze.exec(r)[0])),!de.tbody)for(r="table"!==c||Ue.test(r)?"<table>"!==d[1]||Ue.test(r)?0:l:l.firstChild,a=r&&r.childNodes.length;a--;)fe.nodeName(u=r.childNodes[a],"tbody")&&!u.childNodes.length&&r.removeChild(u);for(fe.merge(b,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else b.push(t.createTextNode(r));for(l&&v.removeChild(l),de.appendChecked||fe.grep(m(b,"input"),p),E=0;r=b[E++];)if(i&&fe.inArray(r,i)>-1)o&&o.push(r);else if(s=fe.contains(r.ownerDocument,r),l=m(v.appendChild(r),"script"),s&&g(l),n)for(a=0;r=l[a++];)qe.test(r.type||"")&&n.push(r);return l=null,v}function b(){return!0}function E(){return!1}function T(){try{return ie.activeElement}catch(e){}}function C(e,t,n,i,o,a){var r,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)C(e,s,n,i,t[s],a);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),o===!1)o=E;else if(!o)return e;return 1===a&&(r=o,o=function(e){return fe().off(e),r.apply(this,arguments)},o.guid=r.guid||(r.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,o,i,n)})}function y(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function I(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function O(e){var t=ot.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function D(e,t){if(1===t.nodeType&&fe.hasData(e)){var n,i,o,a=fe._data(e),r=fe._data(t,a),s=a.events;if(s){delete r.handle,r.events={};for(n in s)for(i=0,o=s[n].length;o>i;i++)fe.event.add(t,n,s[n][i])}r.data&&(r.data=fe.extend({},r.data))}}function R(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!de.noCloneEvent&&t[fe.expando]){o=fe._data(t);for(i in o.events)fe.removeEvent(t,i,o.handle);t.removeAttribute(fe.expando)}"script"===n&&t.text!==e.text?(I(t).text=e.text,O(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),de.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Me.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function _(e,t,n,i){t=ae.apply([],t);var o,a,r,s,l,c,u=0,d=e.length,h=d-1,f=t[0],g=fe.isFunction(f);if(g||d>1&&"string"==typeof f&&!de.checkClone&&it.test(f))return e.each(function(o){var a=e.eq(o);g&&(t[0]=f.call(this,o,a.html())),_(a,t,n,i)});if(d&&(c=v(t,e[0].ownerDocument,!1,e,i),o=c.firstChild,1===c.childNodes.length&&(c=o),o||i)){for(s=fe.map(m(c,"script"),I),r=s.length;d>u;u++)a=c,u!==h&&(a=fe.clone(a,!0,!0),r&&fe.merge(s,m(a,"script"))),n.call(e[u],a,u);if(r)for(l=s[s.length-1].ownerDocument,fe.map(s,O),u=0;r>u;u++)a=s[u],qe.test(a.type||"")&&!fe._data(a,"globalEval")&&fe.contains(l,a)&&(a.src?fe._evalUrl&&fe._evalUrl(a.src):fe.globalEval((a.text||a.textContent||a.innerHTML||"").replace(at,"")));c=o=null}return e}function k(e,t,n){for(var i,o=t?fe.filter(t,e):e,a=0;null!=(i=o[a]);a++)n||1!==i.nodeType||fe.cleanData(m(i)),i.parentNode&&(n&&fe.contains(i.ownerDocument,i)&&g(m(i,"script")),i.parentNode.removeChild(i));return e}function K(e,t){var n=fe(t.createElement(e)).appendTo(t.body),i=fe.css(n[0],"display");return n.detach(),i}function w(e){var t=ie,n=ct[e];return n||(n=K(e,t),"none"!==n&&n||(lt=(lt||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(lt[0].contentWindow||lt[0].contentDocument).document,t.write(),t.close(),n=K(e,t),lt.detach()),ct[e]=n),n}function x(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e){if(e in Ot)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=It.length;n--;)if(e=It[n]+t,e in Ot)return e}function N(e,t){for(var n,i,o,a=[],r=0,s=e.length;s>r;r++)i=e[r],i.style&&(a[r]=fe._data(i,"olddisplay"),n=i.style.display,t?(a[r]||"none"!==n||(i.style.display=""),""===i.style.display&&$e(i)&&(a[r]=fe._data(i,"olddisplay",w(i.nodeName)))):(o=$e(i),(n&&"none"!==n||!o)&&fe._data(i,"olddisplay",o?n:fe.css(i,"display"))));for(r=0;s>r;r++)i=e[r],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[r]||"":"none"));return e}function A(e,t,n){var i=Tt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function L(e,t,n,i,o){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,r=0;4>a;a+=2)"margin"===n&&(r+=fe.css(e,n+Fe[a],!0,o)),i?("content"===n&&(r-=fe.css(e,"padding"+Fe[a],!0,o)),"margin"!==n&&(r-=fe.css(e,"border"+Fe[a]+"Width",!0,o))):(r+=fe.css(e,"padding"+Fe[a],!0,o),"padding"!==n&&(r+=fe.css(e,"border"+Fe[a]+"Width",!0,o)));return r}function P(t,n,i){var o=!0,a="width"===n?t.offsetWidth:t.offsetHeight,r=mt(t),s=de.boxSizing&&"border-box"===fe.css(t,"boxSizing",!1,r);if(ie.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(a=Math.round(100*t.getBoundingClientRect()[n])),0>=a||null==a){if(a=gt(t,n,r),(0>a||null==a)&&(a=t.style[n]),dt.test(a))return a;o=s&&(de.boxSizingReliable()||a===t.style[n]),a=parseFloat(a)||0}return a+L(t,n,i||(s?"border":"content"),o,r)+"px"}function F(e,t,n,i,o){return new F.prototype.init(e,t,n,i,o)}function $(){return e.setTimeout(function(){Dt=void 0}),Dt=fe.now()}function B(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=Fe[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function M(e,t,n){for(var i,o=(z.tweeners[t]||[]).concat(z.tweeners["*"]),a=0,r=o.length;r>a;a++)if(i=o[a].call(n,t,e))return i}function H(e,t,n){var i,o,a,r,s,l,c,u,d=this,h={},f=e.style,m=e.nodeType&&$e(e),g=fe._data(e,"fxshow");n.queue||(s=fe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,fe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=fe.css(e,"display"),u="none"===c?fe._data(e,"olddisplay")||w(e.nodeName):c,"inline"===u&&"none"===fe.css(e,"float")&&(de.inlineBlockNeedsLayout&&"inline"!==w(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",de.shrinkWrapBlocks()||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],_t.exec(o)){if(delete t[i],a=a||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;m=!0}h[i]=g&&g[i]||fe.style(e,i)}else c=void 0;if(fe.isEmptyObject(h))"inline"===("none"===c?w(e.nodeName):c)&&(f.display=c);else{g?"hidden"in g&&(m=g.hidden):g=fe._data(e,"fxshow",{}),a&&(g.hidden=!m),m?fe(e).show():d.done(function(){fe(e).hide()}),d.done(function(){var t;fe._removeData(e,"fxshow");for(t in h)fe.style(e,t,h[t])});for(i in h)r=M(m?g[i]:0,i,d),i in g||(g[i]=r.start,m&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}}function q(e,t){var n,i,o,a,r;for(n in e)if(i=fe.camelCase(n),o=t[i],a=e[n],fe.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),r=fe.cssHooks[i],r&&"expand"in r){a=r.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=o)}else t[i]=o}function z(e,t,n){var i,o,a=0,r=z.prefilters.length,s=fe.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Dt||$(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,a=1-i,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(a);return s.notifyWith(e,[c,a,n]),1>a&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},n),originalProperties:t,originalOptions:n,startTime:Dt||$(),duration:n.duration,tweens:[],createTween:function(t,n){var i=fe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(q(u,c.opts.specialEasing);r>a;a++)if(i=z.prefilters[a].call(c,e,u,c.opts))return fe.isFunction(i.stop)&&(fe._queueHooks(c.elem,c.opts.queue).stop=fe.proxy(i.stop,i)),i;return fe.map(u,M,c),fe.isFunction(c.opts.start)&&c.opts.start.call(e,c),fe.fx.timer(fe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function j(e){return fe.attr(e,"class")||""}function V(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,a=t.toLowerCase().match(Ke)||[];if(fe.isFunction(n))for(;i=a[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function W(e,t,n,i){function o(s){var l;return a[s]=!0,fe.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||r||a[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var a={},r=e===Qt;return o(t.dataTypes[0])||!a["*"]&&o("*")}function U(e,t){var n,i,o=fe.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&fe.extend(!0,e,n),e}function G(e,t,n){for(var i,o,a,r,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}i||(i=r)}a=a||i}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}function X(e,t,n,i){var o,a,r,s,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(r=c[l+" "+a]||c["* "+a],!r)for(o in c)if(s=o.split(" "),s[1]===a&&(r=c[l+" "+s[0]]||c["* "+s[0]])){r===!0?r=c[o]:c[o]!==!0&&(a=s[0],u.unshift(s[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function Y(e){return e.style&&e.style.display||fe.css(e,"display")}function Q(e){for(;e&&1===e.nodeType;){if("none"===Y(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Z(e,t,n,i){var o;if(fe.isArray(t))fe.each(t,function(t,o){n||nn.test(e)?i(e,o):Z(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)});else if(n||"object"!==fe.type(t))i(e,t);else for(o in t)Z(e+"["+o+"]",t[o],n,i)}function J(){try{return new e.XMLHttpRequest}catch(t){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function te(e){return fe.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var ne=[],ie=e.document,oe=ne.slice,ae=ne.concat,re=ne.push,se=ne.indexOf,le={},ce=le.toString,ue=le.hasOwnProperty,de={},he="1.12.1",fe=function(e,t){return new fe.fn.init(e,t)},me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,pe=/-([\da-z])/gi,ve=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:he,constructor:fe,selector:"",length:0,toArray:function(){return oe.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:oe.call(this)},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:re,sort:ne.sort,splice:ne.splice},fe.extend=fe.fn.extend=function(){var e,t,n,i,o,a,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"==typeof r||fe.isFunction(r)||(r={}),s===l&&(r=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(i in o)e=r[i],n=o[i],r!==n&&(c&&n&&(fe.isPlainObject(n)||(t=fe.isArray(n)))?(t?(t=!1,a=e&&fe.isArray(e)?e:[]):a=e&&fe.isPlainObject(e)?e:{},r[i]=fe.extend(c,a,n)):void 0!==n&&(r[i]=n));return r},fe.extend({expando:"jQuery"+(he+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!ue.call(e,"constructor")&&!ue.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!de.ownFirst)for(t in e)return ue.call(e,t);for(t in e);return void 0===t||ue.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ce.call(e)]||"object":typeof e},globalEval:function(t){t&&fe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ge,"ms-").replace(pe,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,o=0;if(n(e))for(i=e.length;i>o&&t.call(e[o],o,e[o])!==!1;o++);else for(o in e)if(t.call(e[o],o,e[o])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(me,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?fe.merge(i,"string"==typeof e?[e]:e):re.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(se)return se.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;n>i;)e[o++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],a=0,r=e.length,s=!n;r>a;a++)i=!t(e[a],a),i!==s&&o.push(e[a]);return o},map:function(e,t,i){var o,a,r=0,s=[];if(n(e))for(o=e.length;o>r;r++)a=t(e[r],r,i),null!=a&&s.push(a);else for(r in e)a=t(e[r],r,i),null!=a&&s.push(a);return ae.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(o=e[t],t=e,e=o),fe.isFunction(e)?(n=oe.call(arguments,2),i=function(){return e.apply(t||this,n.concat(oe.call(arguments)))},i.guid=e.guid=e.guid||fe.guid++,i):void 0},now:function(){return+new Date},support:de}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ne[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var be=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){function t(e,t,n,i){var o,a,r,s,l,c,d,f,m=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!i&&((t?t.ownerDocument||t:M)!==S&&x(t),t=t||S,A)){if(11!==g&&(c=ve.exec(e)))if(o=c[1]){if(9===g){if(!(r=t.getElementById(o)))return n;if(r.id===o)return n.push(r),n}else if(m&&(r=m.getElementById(o))&&$(t,r)&&r.id===o)return n.push(r),n}else{if(c[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((o=c[3])&&C.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(o)),n}if(C.qsa&&!V[e+" "]&&(!L||!L.test(e))){if(1!==g)m=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(Ee,"\\$&"):t.setAttribute("id",s=B),d=D(e),a=d.length,l=he.test(s)?"#"+s:"[id='"+s+"']";a--;)d[a]=l+" "+h(d[a]);f=d.join(","),m=be.test(e)&&u(t.parentNode)||t}if(f)try{return Z.apply(n,m.querySelectorAll(f)),n}catch(p){}finally{s===B&&t.removeAttribute("id")}}}return _(e.replace(se,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>y.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function o(e){var t=S.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=n.length;i--;)y.attrHandle[n[i]]=t}function r(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var o,a=e([],n.length,t),r=a.length;r--;)n[o=a[r]]&&(n[o]=!(i[o]=n[o]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=q++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,a)}:function(t,n,r){var s,l,c,u=[H,a];if(r){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,r))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if(c=t[B]||(t[B]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(s=l[i])&&s[0]===H&&s[1]===a)return u[2]=s[2];if(l[i]=u,u[2]=e(t,n,r))return!0}}}function m(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var o=0,a=n.length;a>o;o++)t(e,n[o],i);return i}function p(e,t,n,i,o){for(var a,r=[],s=0,l=e.length,c=null!=t;l>s;s++)(a=e[s])&&(!n||n(a,i,o))&&(r.push(a),c&&t.push(s));return r}function v(e,t,n,o,a,r){return o&&!o[B]&&(o=v(o)),a&&!a[B]&&(a=v(a,r)),i(function(i,r,s,l){var c,u,d,h=[],f=[],m=r.length,v=i||g(t||"*",s.nodeType?[s]:s,[]),b=!e||!i&&t?v:p(v,h,e,s,l),E=n?a||(i?e:m||o)?[]:r:b;if(n&&n(b,E,s,l),o)for(c=p(E,f),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(E[f[u]]=!(b[f[u]]=d));if(i){if(a||e){if(a){for(c=[],u=E.length;u--;)(d=E[u])&&c.push(b[u]=d);a(null,E=[],c,l)}for(u=E.length;u--;)(d=E[u])&&(c=a?ee(i,d):h[u])>-1&&(i[c]=!(r[c]=d))}}else E=p(E===r?E.splice(m,E.length):E),a?a(null,r,E,l):Z.apply(r,E)})}function b(e){for(var t,n,i,o=e.length,a=y.relative[e[0].type],r=a||y.relative[" "],s=a?1:0,l=f(function(e){return e===t},r,!0),c=f(function(e){return ee(t,e)>-1},r,!0),u=[function(e,n,i){var o=!a&&(i||n!==k)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,o}];o>s;s++)if(n=y.relative[e[s].type])u=[f(m(u),n)];else{if(n=y.filter[e[s].type].apply(null,e[s].matches),n[B]){for(i=++s;o>i&&!y.relative[e[i].type];i++);return v(s>1&&m(u),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,i>s&&b(e.slice(s,i)),o>i&&b(e=e.slice(i)),o>i&&h(e))}u.push(n)}return m(u)}function E(e,n){var o=n.length>0,a=e.length>0,r=function(i,r,s,l,c){var u,d,h,f=0,m="0",g=i&&[],v=[],b=k,E=i||a&&y.find.TAG("*",c),T=H+=null==b?1:Math.random()||.1,C=E.length;for(c&&(k=r===S||r||c);m!==C&&null!=(u=E[m]);m++){if(a&&u){for(d=0,r||u.ownerDocument===S||(x(u),s=!A);h=e[d++];)if(h(u,r||S,s)){l.push(u);break}c&&(H=T)}o&&((u=!h&&u)&&f--,i&&g.push(u))}if(f+=m,o&&m!==f){for(d=0;h=n[d++];)h(g,v,r,s);if(i){if(f>0)for(;m--;)g[m]||v[m]||(v[m]=Y.call(l));v=p(v)}Z.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(H=T,k=b),g};return o?i(r):r}var T,C,y,I,O,D,R,_,k,K,w,x,S,N,A,L,P,F,$,B="sizzle"+1*new Date,M=e.document,H=0,q=0,z=n(),j=n(),V=n(),W=function(e,t){return e===t&&(w=!0),0},U=1<<31,G={}.hasOwnProperty,X=[],Y=X.pop,Q=X.push,Z=X.push,J=X.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",re=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ae),he=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,pe=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,Ee=/'|\\/g,Te=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ce=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ye=function(){x()};try{Z.apply(X=J.call(M.childNodes),M.childNodes),X[M.childNodes.length].nodeType}catch(Ie){Z={apply:X.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}C=t.support={},O=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:M;return i!==S&&9===i.nodeType&&i.documentElement?(S=i,N=S.documentElement,A=!O(S),(n=S.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ye,!1):n.attachEvent&&n.attachEvent("onunload",ye)),C.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=o(function(e){return e.appendChild(S.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=pe.test(S.getElementsByClassName),C.getById=o(function(e){return N.appendChild(e).id=B,!S.getElementsByName||!S.getElementsByName(B).length}),C.getById?(y.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&A){var n=t.getElementById(e);return n?[n]:[]}},y.filter.ID=function(e){var t=e.replace(Te,Ce);return function(e){return e.getAttribute("id")===t}}):(delete y.find.ID,y.filter.ID=function(e){var t=e.replace(Te,Ce);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),y.find.TAG=C.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):C.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[o++];)1===n.nodeType&&i.push(n);return i}return a},y.find.CLASS=C.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&A?t.getElementsByClassName(e):void 0},P=[],L=[],(C.qsa=pe.test(S.querySelectorAll))&&(o(function(e){N.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||L.push(".#.+[+~]")}),o(function(e){var t=S.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(C.matchesSelector=pe.test(F=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(e){C.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),P.push("!=",ae)}),L=L.length&&new RegExp(L.join("|")),P=P.length&&new RegExp(P.join("|")),t=pe.test(N.compareDocumentPosition),$=t||pe.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return w=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!C.sortDetached&&t.compareDocumentPosition(e)===n?e===S||e.ownerDocument===M&&$(M,e)?-1:t===S||t.ownerDocument===M&&$(M,t)?1:K?ee(K,e)-ee(K,t):0:4&n?-1:1)}:function(e,t){if(e===t)return w=!0,0;var n,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(!o||!a)return e===S?-1:t===S?1:o?-1:a?1:K?ee(K,e)-ee(K,t):0;if(o===a)return r(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?r(s[i],l[i]):s[i]===M?-1:l[i]===M?1:0},S):S},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==S&&x(e),n=n.replace(ue,"='$1']"),C.matchesSelector&&A&&!V[n+" "]&&(!P||!P.test(n))&&(!L||!L.test(n)))try{var i=F.call(e,n);if(i||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(o){}return t(n,S,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==S&&x(e),$(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==S&&x(e);var n=y.attrHandle[t.toLowerCase()],i=n&&G.call(y.attrHandle,t.toLowerCase())?n(e,t,!A):void 0;return void 0!==i?i:C.attributes||!A?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(w=!C.detectDuplicates,K=!C.sortStable&&e.slice(0),e.sort(W),w){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return K=null,e},I=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=I(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=I(t);return n},y=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Te,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(Te,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=D(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Te,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var a=t.attr(o,e);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(re," ")+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,o){var a="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,m,g=a!==r?"nextSibling":"previousSibling",p=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,E=!1;if(p){if(a){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;m=g="only"===e&&!m&&"nextSibling"}return!0}if(m=[r?p.firstChild:p.lastChild],r&&b){for(h=p,d=h[B]||(h[B]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[e]||[],f=c[0]===H&&c[1],E=f&&c[2],h=f&&p.childNodes[f];h=++f&&h&&h[g]||(E=f=0)||m.pop();)if(1===h.nodeType&&++E&&h===t){u[e]=[H,f,E];break}}else if(b&&(h=t,d=h[B]||(h[B]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[e]||[],f=c[0]===H&&c[1],E=f),E===!1)for(;(h=++f&&h&&h[g]||(E=f=0)||m.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++E||(b&&(d=h[B]||(h[B]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),u[e]=[H,E]),h!==t)););return E-=o,E===i||E%i===0&&E/i>=0}}},PSEUDO:function(e,n){var o,a=y.pseudos[e]||y.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[B]?a(n):a.length>1?(o=[e,e,"",n],y.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=a(e,n),r=o.length;r--;)i=ee(e,o[r]),e[i]=!(t[i]=o[r])}):function(e){return a(e,0,o)}):a}},pseudos:{not:i(function(e){var t=[],n=[],o=R(e.replace(se,"$1"));return o[B]?i(function(e,t,n,i){for(var a,r=o(e,null,i,[]),s=e.length;s--;)(a=r[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,o(t,null,a,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(Te,Ce),function(t){return(t.textContent||t.innerText||I(t)).indexOf(e)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Te,Ce).toLowerCase(),function(t){var n;do if(n=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!y.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},y.pseudos.nth=y.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[T]=s(T);for(T in{submit:!0,reset:!0})y.pseudos[T]=l(T);return d.prototype=y.filters=y.pseudos,y.setFilters=new d,D=t.tokenize=function(e,n){var i,o,a,r,s,l,c,u=j[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=y.preFilter;s;){(!i||(o=le.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),i=!1,(o=ce.exec(s))&&(i=o.shift(),a.push({value:i,type:o[0].replace(se," ")}),s=s.slice(i.length));for(r in y.filter)!(o=fe[r].exec(s))||c[r]&&!(o=c[r](o))||(i=o.shift(),a.push({value:i,type:r,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):j(e,l).slice(0)},R=t.compile=function(e,t){var n,i=[],o=[],a=V[e+" "];if(!a){for(t||(t=D(e)),n=t.length;n--;)a=b(t[n]),a[B]?i.push(a):o.push(a);a=V(e,E(o,i)),a.selector=e}return a},_=t.select=function(e,t,n,i){var o,a,r,s,l,c="function"==typeof e&&e,d=!i&&D(e=c.selector||e);if(n=n||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(r=a[0]).type&&C.getById&&9===t.nodeType&&A&&y.relative[a[1].type]){if(t=(y.find.ID(r.matches[0].replace(Te,Ce),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(o=fe.needsContext.test(e)?0:a.length;o--&&(r=a[o],!y.relative[s=r.type]);)if((l=y.find[s])&&(i=l(r.matches[0].replace(Te,Ce),be.test(a[0].type)&&u(t.parentNode)||t))){if(a.splice(o,1),e=i.length&&h(a),!e)return Z.apply(n,i),n;break}}return(c||R(e,d))(i,t,!A,n,!t||be.test(e)&&u(t.parentNode)||t),n},C.sortStable=B.split("").sort(W).join("")===B,C.detectDuplicates=!!w,x(),C.sortDetached=o(function(e){return 1&e.compareDocumentPosition(S.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);fe.find=be,fe.expr=be.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=be.uniqueSort,fe.text=be.getText,fe.isXMLDoc=be.isXML,fe.contains=be.contains;var Ee=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&fe(e).is(n))break;i.push(e)}return i},Te=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ce=fe.expr.match.needsContext,ye=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ie=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?fe.find.matchesSelector(i,e)?[i]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;o>t;t++)if(fe.contains(i[t],this))return!0}));for(t=0;o>t;t++)fe.find(e,i[t],n);return n=this.pushStack(o>1?fe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&Ce.test(e)?fe(e):e||[],!1).length}});var Oe,De=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Re=fe.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||Oe,"string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:De.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ie,!0)),ye.test(i[1])&&fe.isPlainObject(t))for(i in t)fe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(o=ie.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return Oe.find(e);this.length=1,this[0]=o}return this.context=ie,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):fe.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(fe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),fe.makeArray(e,this))};Re.prototype=fe.fn,Oe=fe(ie);var _e=/^(?:parents|prev(?:Until|All))/,ke={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,n=fe(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(fe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,a=[],r=Ce.test(e)||"string"!=typeof e?fe(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&fe.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?fe.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ee(e,"parentNode")},parentsUntil:function(e,t,n){return Ee(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return Ee(e,"nextSibling")},prevAll:function(e){return Ee(e,"previousSibling")},nextUntil:function(e,t,n){return Ee(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ee(e,"previousSibling",n)},siblings:function(e){return Te((e.parentNode||{}).firstChild,e)},children:function(e){return Te(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes)}},function(e,t){fe.fn[e]=function(n,i){var o=fe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=fe.filter(i,o)),this.length>1&&(ke[e]||(o=fe.uniqueSort(o)),_e.test(e)&&(o=o.reverse())),this.pushStack(o)}});var Ke=/\S+/g;fe.Callbacks=function(e){e="string"==typeof e?a(e):fe.extend({},e);var t,n,i,o,r=[],s=[],l=-1,c=function(){for(o=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<r.length;)r[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},u={add:function(){return r&&(n&&!t&&(l=r.length-1,s.push(n)),function i(t){fe.each(t,function(t,n){fe.isFunction(n)?e.unique&&u.has(n)||r.push(n):n&&n.length&&"string"!==fe.type(n)&&i(n)})}(arguments),n&&!t&&c()),this},remove:function(){return fe.each(arguments,function(e,t){for(var n;(n=fe.inArray(t,r,n))>-1;)r.splice(n,1),l>=n&&l--}),this},has:function(e){return e?fe.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=!0,n||u.disable(),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},fe.extend({Deferred:function(e){var t=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return fe.Deferred(function(n){fe.each(t,function(t,a){var r=fe.isFunction(e[t])&&e[t];o[a[1]](function(){var e=r&&r.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[a[0]+"With"](this===i?n.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?fe.extend(e,i):i}},o={};return i.pipe=i.then,fe.each(t,function(e,a){var r=a[2],s=a[3];i[a[1]]=r.add,s&&r.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[a[0]]=function(){return o[a[0]+"With"](this===o?i:this,arguments),this},o[a[0]+"With"]=r.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,a=oe.call(arguments),r=a.length,s=1!==r||e&&fe.isFunction(e.promise)?r:0,l=1===s?e:fe.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?oe.call(arguments):o,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(r>1)for(t=new Array(r),n=new Array(r),i=new Array(r);r>o;o++)a[o]&&fe.isFunction(a[o].promise)?a[o].promise().progress(c(o,n,t)).done(c(o,i,a)).fail(l.reject):--s;return s||l.resolveWith(i,a),l.promise()}});var we;fe.fn.ready=function(e){return fe.ready.promise().done(e),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(e===!0?--fe.readyWait:fe.isReady)||(fe.isReady=!0,e!==!0&&--fe.readyWait>0||(we.resolveWith(ie,[fe]),fe.fn.triggerHandler&&(fe(ie).triggerHandler("ready"),fe(ie).off("ready"))))}}),fe.ready.promise=function(t){if(!we)if(we=fe.Deferred(),"complete"===ie.readyState||"loading"!==ie.readyState&&!ie.documentElement.doScroll)e.setTimeout(fe.ready);else if(ie.addEventListener)ie.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s);else{ie.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&ie.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!fe.isReady){try{n.doScroll("left")}catch(t){return e.setTimeout(o,50)}r(),fe.ready()}}()}return we.promise(t)},fe.ready.promise();var xe;for(xe in fe(de))break;de.ownFirst="0"===xe,de.inlineBlockNeedsLayout=!1,fe(function(){var e,t,n,i;n=ie.getElementsByTagName("body")[0],n&&n.style&&(t=ie.createElement("div"),i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",de.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ie.createElement("div");de.deleteExpando=!0;try{delete e.test}catch(t){de.deleteExpando=!1}e=null}();var Se=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t},Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/([A-Z])/g;fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando],!!e&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),fe.fn.extend({data:function(e,t){var n,i,o,a=this[0],r=a&&a.attributes;if(void 0===e){if(this.length&&(o=fe.data(a),1===a.nodeType&&!fe._data(a,"parsedAttrs"))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf("data-")&&(i=fe.camelCase(i.slice(5)),l(a,i,o[i])));fe._data(a,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){fe.data(this,e)}):arguments.length>1?this.each(function(){fe.data(this,e,t)}):a?l(a,e,fe.data(a,e)):void 0},removeData:function(e){return this.each(function(){fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=fe._data(e,t),n&&(!i||fe.isArray(n)?i=fe._data(e,t,fe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),i=n.length,o=n.shift(),a=fe._queueHooks(e,t),r=function(){fe.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,r,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return fe._data(e,n)||fe._data(e,n,{empty:fe.Callbacks("once memory").add(function(){fe._removeData(e,t+"queue"),fe._removeData(e,n)})})}}),fe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?fe.queue(this[0],e):void 0===t?this:this.each(function(){var n=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&fe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=fe.Deferred(),a=this,r=this.length,s=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)n=fe._data(a[r],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}}),function(){var e;de.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=ie.getElementsByTagName("body")[0],n&&n.style?(t=ie.createElement("div"),i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ie.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var Le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=new RegExp("^(?:([+-])=|)("+Le+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],$e=function(e,t){return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},Be=function(e,t,n,i,o,a,r){var s=0,l=e.length,c=null==n;if("object"===fe.type(n)){o=!0;for(s in n)Be(e,t,s,n[s],!0,a,r)}else if(void 0!==i&&(o=!0,fe.isFunction(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(fe(e),n)})),t))for(;l>s;s++)t(e[s],n,r?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):a},Me=/^(?:checkbox|radio)$/i,He=/<([\w:-]+)/,qe=/^$|\/(?:java|ecma)script/i,ze=/^\s+/,je="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=ie.createElement("div"),t=ie.createDocumentFragment(),n=ie.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",de.leadingWhitespace=3===e.firstChild.nodeType,de.tbody=!e.getElementsByTagName("tbody").length,de.htmlSerialize=!!e.getElementsByTagName("link").length,de.html5Clone="<:nav></:nav>"!==ie.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),de.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=ie.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),de.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,de.noCloneEvent=!!e.addEventListener,e[fe.expando]=1,de.attributes=!e.getAttribute(fe.expando)}();var Ve={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:de.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td;var We=/<|&#?\w+;/,Ue=/<tbody/i;!function(){var t,n,i=ie.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(de[t]=n in e)||(i.setAttribute(n,"t"),de[t]=i.attributes[n].expando===!1);i=null}();var Ge=/^(?:input|select|textarea)$/i,Xe=/^key/,Ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^(?:focusinfocus|focusoutblur)$/,Ze=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,n,i,o){var a,r,s,l,c,u,d,h,f,m,g,p=fe._data(e);if(p){for(n.handler&&(l=n,n=l.handler,o=l.selector),n.guid||(n.guid=fe.guid++),(r=p.events)||(r=p.events={}),(u=p.handle)||(u=p.handle=function(e){return"undefined"==typeof fe||e&&fe.event.triggered===e.type?void 0:fe.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(Ke)||[""],s=t.length;s--;)a=Ze.exec(t[s])||[],f=g=a[1],m=(a[2]||"").split(".").sort(),f&&(c=fe.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=fe.event.special[f]||{},d=fe.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,
selector:o,needsContext:o&&fe.expr.match.needsContext.test(o),namespace:m.join(".")},l),(h=r[f])||(h=r[f]=[],h.delegateCount=0,c.setup&&c.setup.call(e,i,m,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),fe.event.global[f]=!0);e=null}},remove:function(e,t,n,i,o){var a,r,s,l,c,u,d,h,f,m,g,p=fe.hasData(e)&&fe._data(e);if(p&&(u=p.events)){for(t=(t||"").match(Ke)||[""],c=t.length;c--;)if(s=Ze.exec(t[c])||[],f=g=s[1],m=(s[2]||"").split(".").sort(),f){for(d=fe.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=h.length;a--;)r=h[a],!o&&g!==r.origType||n&&n.guid!==r.guid||s&&!s.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(h.splice(a,1),r.selector&&h.delegateCount--,d.remove&&d.remove.call(e,r));l&&!h.length&&(d.teardown&&d.teardown.call(e,m,p.handle)!==!1||fe.removeEvent(e,f,p.handle),delete u[f])}else for(f in u)fe.event.remove(e,f+t[c],n,i,!0);fe.isEmptyObject(u)&&(delete p.handle,fe._removeData(e,"events"))}},trigger:function(t,n,i,o){var a,r,s,l,c,u,d,h=[i||ie],f=ue.call(t,"type")?t.type:t,m=ue.call(t,"namespace")?t.namespace.split("."):[];if(s=u=i=i||ie,3!==i.nodeType&&8!==i.nodeType&&!Qe.test(f+fe.event.triggered)&&(f.indexOf(".")>-1&&(m=f.split("."),f=m.shift(),m.sort()),r=f.indexOf(":")<0&&"on"+f,t=t[fe.expando]?t:new fe.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:fe.makeArray(n,[t]),c=fe.event.special[f]||{},o||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!o&&!c.noBubble&&!fe.isWindow(i)){for(l=c.delegateType||f,Qe.test(l+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;u===(i.ownerDocument||ie)&&h.push(u.defaultView||u.parentWindow||e)}for(d=0;(s=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||f,a=(fe._data(s,"events")||{})[t.type]&&fe._data(s,"handle"),a&&a.apply(s,n),a=r&&s[r],a&&a.apply&&Se(s)&&(t.result=a.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=f,!o&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),n)===!1)&&Se(i)&&r&&i[f]&&!fe.isWindow(i)){u=i[r],u&&(i[r]=null),fe.event.triggered=f;try{i[f]()}catch(g){}fe.event.triggered=void 0,u&&(i[r]=u)}return t.result}},dispatch:function(e){e=fe.event.fix(e);var t,n,i,o,a,r=[],s=oe.call(arguments),l=(fe._data(this,"events")||{})[e.type]||[],c=fe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(r=fe.event.handlers.call(this,e,l),t=0;(o=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((fe.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,a,r=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],n=0;s>n;n++)a=t[n],o=a.selector+" ",void 0===i[o]&&(i[o]=a.needsContext?fe(o,this).index(l)>-1:fe.find(o,this,null,[l]).length),i[o]&&i.push(a);i.length&&r.push({elem:l,handlers:i})}return s<t.length&&r.push({elem:this,handlers:t.slice(s)}),r},fix:function(e){if(e[fe.expando])return e;var t,n,i,o=e.type,a=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Ye.test(o)?this.mouseHooks:Xe.test(o)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,e=new fe.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=a.srcElement||ie),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,a=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ie,o=i.documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===T()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var i=fe.extend(new fe.Event,n,{type:e,isSimulated:!0});fe.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}},fe.removeEvent=ie.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},fe.Event=function(e,t){return this instanceof fe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?b:E):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),void(this[fe.expando]=!0)):new fe.Event(e,t)},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=b,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=b,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=b,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,a=e.handleObj;return(!o||o!==i&&!fe.contains(i,o))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),de.submit||(fe.event.special.submit={setup:function(){return fe.nodeName(this,"form")?!1:void fe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):void 0;n&&!fe._data(n,"submit")&&(fe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),fe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){return fe.nodeName(this,"form")?!1:void fe.event.remove(this,"._submit")}}),de.change||(fe.event.special.change={setup:function(){return Ge.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(fe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e)})),!1):void fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ge.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e)}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return fe.event.remove(this,"._change"),!Ge.test(this.nodeName)}}),de.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=fe._data(i,t);o||i.addEventListener(e,n,!0),fe._data(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=fe._data(i,t)-1;o?fe._data(i,t,o):(i.removeEventListener(e,n,!0),fe._removeData(i,t))}}}),fe.fn.extend({on:function(e,t,n,i){return C(this,e,t,n,i)},one:function(e,t,n,i){return C(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,fe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=E),this.each(function(){fe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?fe.event.trigger(e,t,n,!0):void 0}});var Je=/ jQuery\d+="(?:null|\d+)"/g,et=new RegExp("<(?:"+je+")[\\s/>]","i"),tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,nt=/<script|<style|<link/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,ot=/^true\/(.*)/,at=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rt=f(ie),st=rt.appendChild(ie.createElement("div"));fe.extend({htmlPrefilter:function(e){return e.replace(tt,"<$1></$2>")},clone:function(e,t,n){var i,o,a,r,s,l=fe.contains(e.ownerDocument,e);if(de.html5Clone||fe.isXMLDoc(e)||!et.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(st.innerHTML=e.outerHTML,st.removeChild(a=st.firstChild)),!(de.noCloneEvent&&de.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(i=m(a),s=m(e),r=0;null!=(o=s[r]);++r)i[r]&&R(o,i[r]);if(t)if(n)for(s=s||m(e),i=i||m(a),r=0;null!=(o=s[r]);r++)D(o,i[r]);else D(e,a);return i=m(a,"script"),i.length>0&&g(i,!l&&m(e,"script")),i=s=o=null,a},cleanData:function(e,t){for(var n,i,o,a,r=0,s=fe.expando,l=fe.cache,c=de.attributes,u=fe.event.special;null!=(n=e[r]);r++)if((t||Se(n))&&(o=n[s],a=o&&l[o])){if(a.events)for(i in a.events)u[i]?fe.event.remove(n,i):fe.removeEvent(n,i,a.handle);l[o]&&(delete l[o],c||"undefined"==typeof n.removeAttribute?n[s]=void 0:n.removeAttribute(s),ne.push(o))}}}),fe.fn.extend({domManip:_,detach:function(e){return k(this,e,!0)},remove:function(e){return k(this,e)},text:function(e){return Be(this,function(e){return void 0===e?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ie).createTextNode(e))},null,e,arguments.length)},append:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return Be(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Je,""):void 0;if("string"==typeof e&&!nt.test(e)&&(de.htmlSerialize||!et.test(e))&&(de.leadingWhitespace||!ze.test(e))&&!Ve[(He.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(fe.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return _(this,arguments,function(t){var n=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(m(this)),n&&n.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var n,i=0,o=[],a=fe(e),r=a.length-1;r>=i;i++)n=i===r?this:this.clone(!0),fe(a[i])[t](n),re.apply(o,n.get());return this.pushStack(o)}});var lt,ct={HTML:"block",BODY:"block"},ut=/^margin/,dt=new RegExp("^("+Le+")(?!px)[a-z%]+$","i"),ht=function(e,t,n,i){var o,a,r={};for(a in t)r[a]=e.style[a],e.style[a]=t[a];o=n.apply(e,i||[]);for(a in t)e.style[a]=r[a];return o},ft=ie.documentElement;!function(){function t(){var t,u,d=ie.documentElement;d.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=o=s=!1,i=r=!0,e.getComputedStyle&&(u=e.getComputedStyle(c),n="1%"!==(u||{}).top,s="2px"===(u||{}).marginLeft,o="4px"===(u||{width:"4px"}).width,c.style.marginRight="50%",i="4px"===(u||{marginRight:"4px"}).marginRight,t=c.appendChild(ie.createElement("div")),t.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",r=!parseFloat((e.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",a=0===c.getClientRects().length,a&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=c.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===t[0].offsetHeight,a&&(t[0].style.display="",t[1].style.display="none",a=0===t[0].offsetHeight)),d.removeChild(l)}var n,i,o,a,r,s,l=ie.createElement("div"),c=ie.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",de.opacity="0.5"===c.style.opacity,de.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===c.style.backgroundClip,l=ie.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),de.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,fe.extend(de,{reliableHiddenOffsets:function(){return null==n&&t(),a},boxSizingReliable:function(){return null==n&&t(),o},pixelMarginRight:function(){return null==n&&t(),i},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),r},reliableMarginLeft:function(){return null==n&&t(),s}}))}();var mt,gt,pt=/^(top|right|bottom|left)$/;e.getComputedStyle?(mt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},gt=function(e,t,n){var i,o,a,r,s=e.style;return n=n||mt(e),r=n?n.getPropertyValue(t)||n[t]:void 0,""!==r&&void 0!==r||fe.contains(e.ownerDocument,e)||(r=fe.style(e,t)),n&&!de.pixelMarginRight()&&dt.test(r)&&ut.test(t)&&(i=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=i,s.minWidth=o,s.maxWidth=a),void 0===r?r:r+""}):ft.currentStyle&&(mt=function(e){return e.currentStyle},gt=function(e,t,n){var i,o,a,r,s=e.style;return n=n||mt(e),r=n?n[t]:void 0,null==r&&s&&s[t]&&(r=s[t]),dt.test(r)&&!pt.test(t)&&(i=s.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":r,r=s.pixelLeft+"px",s.left=i,a&&(o.left=a)),void 0===r?r:r+""||"auto"});var vt=/alpha\([^)]*\)/i,bt=/opacity\s*=\s*([^)]*)/i,Et=/^(none|table(?!-c[ea]).+)/,Tt=new RegExp("^("+Le+")(.*)$","i"),Ct={position:"absolute",visibility:"hidden",display:"block"},yt={letterSpacing:"0",fontWeight:"400"},It=["Webkit","O","Moz","ms"],Ot=ie.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=gt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":de.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,r,s=fe.camelCase(t),l=e.style;if(t=fe.cssProps[s]||(fe.cssProps[s]=S(s)||s),r=fe.cssHooks[t]||fe.cssHooks[s],void 0===n)return r&&"get"in r&&void 0!==(o=r.get(e,!1,i))?o:l[t];if(a=typeof n,"string"===a&&(o=Pe.exec(n))&&o[1]&&(n=h(e,t,o),a="number"),null!=n&&n===n&&("number"===a&&(n+=o&&o[3]||(fe.cssNumber[s]?"":"px")),de.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(r&&"set"in r&&void 0===(n=r.set(e,n,i)))))try{l[t]=n}catch(c){}}},css:function(e,t,n,i){var o,a,r,s=fe.camelCase(t);return t=fe.cssProps[s]||(fe.cssProps[s]=S(s)||s),r=fe.cssHooks[t]||fe.cssHooks[s],r&&"get"in r&&(a=r.get(e,!0,n)),void 0===a&&(a=gt(e,t,i)),"normal"===a&&t in yt&&(a=yt[t]),""===n||n?(o=parseFloat(a),n===!0||isFinite(o)?o||0:a):a}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,n,i){return n?Et.test(fe.css(e,"display"))&&0===e.offsetWidth?ht(e,Ct,function(){return P(e,t,i)}):P(e,t,i):void 0},set:function(e,n,i){var o=i&&mt(e);return A(e,n,i?L(e,t,i,de.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,o),o):0)}}}),de.opacity||(fe.cssHooks.opacity={get:function(e,t){return bt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===fe.trim(a.replace(vt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=vt.test(a)?a.replace(vt,o):a+" "+o)}}),fe.cssHooks.marginRight=x(de.reliableMarginRight,function(e,t){return t?ht(e,{display:"inline-block"},gt,[e,"marginRight"]):void 0}),fe.cssHooks.marginLeft=x(de.reliableMarginLeft,function(e,t){return t?(parseFloat(gt(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ht(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(n){for(var i=0,o={},a="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+Fe[i]+t]=a[i]||a[i-2]||a[0];return o}},ut.test(e)||(fe.cssHooks[e+t].set=A)}),fe.fn.extend({css:function(e,t){return Be(this,function(e,t,n){var i,o,a={},r=0;if(fe.isArray(t)){for(i=mt(e),o=t.length;o>r;r++)a[t[r]]=fe.css(e,t[r],!1,i);return a}return void 0!==n?fe.style(e,t,n):fe.css(e,t)},e,t,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){$e(this)?fe(this).show():fe(this).hide()})}}),fe.Tween=F,F.prototype={constructor:F,init:function(e,t,n,i,o,a){this.elem=e,this.prop=n,this.easing=o||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(fe.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=F.prototype.init,fe.fx.step={};var Dt,Rt,_t=/^(?:toggle|show|hide)$/,kt=/queueHooks$/;fe.Animation=fe.extend(z,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return h(n.elem,e,Pe.exec(t),n),n}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(Ke);for(var n,i=0,o=e.length;o>i;i++)n=e[i],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(t)},prefilters:[H],prefilter:function(e,t){t?z.prefilters.unshift(e):z.prefilters.push(e)}}),fe.speed=function(e,t,n){var i=e&&"object"==typeof e?fe.extend({},e):{complete:n||!n&&t||fe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!fe.isFunction(t)&&t};return i.duration=fe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in fe.fx.speeds?fe.fx.speeds[i.duration]:fe.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){fe.isFunction(i.old)&&i.old.call(this),i.queue&&fe.dequeue(this,i.queue)},i},fe.fn.extend({fadeTo:function(e,t,n,i){return this.filter($e).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=fe.isEmptyObject(e),a=fe.speed(t,n,i),r=function(){var t=z(this,fe.extend({},e),a);(o||fe._data(this,"finish"))&&t.stop(!0)};return r.finish=r,o||a.queue===!1?this.each(r):this.queue(a.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",a=fe.timers,r=fe._data(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&kt.test(o)&&i(r[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(n),t=!1,a.splice(o,1));(t||!n)&&fe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=fe._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],a=fe.timers,r=i?i.length:0;for(n.finish=!0,fe.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;r>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),fe.each(["toggle","show","hide"],function(e,t){var n=fe.fn[t];fe.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,i,o)}}),fe.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){fe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),fe.timers=[],fe.fx.tick=function(){var e,t=fe.timers,n=0;for(Dt=fe.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||fe.fx.stop(),Dt=void 0},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){Rt||(Rt=e.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){e.clearInterval(Rt),Rt=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(t,n){return t=fe.fx?fe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var o=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(o)}})},function(){var e,t=ie.createElement("input"),n=ie.createElement("div"),i=ie.createElement("select"),o=i.appendChild(ie.createElement("option"));n=ie.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",de.getSetAttribute="t"!==n.className,de.style=/top/.test(e.getAttribute("style")),de.hrefNormalized="/a"===e.getAttribute("href"),de.checkOn=!!t.value,de.optSelected=o.selected,de.enctype=!!ie.createElement("form").enctype,i.disabled=!0,de.optDisabled=!o.disabled,t=ie.createElement("input"),t.setAttribute("value",""),de.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),de.radioValue="t"===t.value}();var Kt=/\r/g;fe.fn.extend({val:function(e){var t,n,i,o=this[0];{if(arguments.length)return i=fe.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,fe(this).val()):e,null==o?o="":"number"==typeof o?o+="":fe.isArray(o)&&(o=fe.map(o,function(e){return null==e?"":e+""})),t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=fe.valHooks[o.type]||fe.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Kt,""):null==n?"":n)}}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e))}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,a="select-one"===e.type||0>o,r=a?null:[],s=a?o+1:i.length,l=0>o?s:a?o:0;s>l;l++)if(n=i[l],(n.selected||l===o)&&(de.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!fe.nodeName(n.parentNode,"optgroup"))){if(t=fe(n).val(),a)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,a=fe.makeArray(t),r=o.length;r--;)if(i=o[r],fe.inArray(fe.valHooks.option.get(i),a)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),o}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){return fe.isArray(t)?e.checked=fe.inArray(fe(e).val(),t)>-1:void 0}},de.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,xt,St=fe.expr.attrHandle,Nt=/^(?:checked|selected)$/i,At=de.getSetAttribute,Lt=de.input;fe.fn.extend({attr:function(e,t){return Be(this,fe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,n){var i,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof e.getAttribute?fe.prop(e,t,n):(1===a&&fe.isXMLDoc(e)||(t=t.toLowerCase(),o=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?xt:wt)),void 0!==n?null===n?void fe.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:(i=fe.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!de.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,o=0,a=t&&t.match(Ke);if(a&&1===e.nodeType)for(;n=a[o++];)i=fe.propFix[n]||n,fe.expr.match.bool.test(n)?Lt&&At||!Nt.test(n)?e[i]=!1:e[fe.camelCase("default-"+n)]=e[i]=!1:fe.attr(e,n,""),e.removeAttribute(At?n:i)}}),xt={set:function(e,t,n){return t===!1?fe.removeAttr(e,n):Lt&&At||!Nt.test(n)?e.setAttribute(!At&&fe.propFix[n]||n,n):e[fe.camelCase("default-"+n)]=e[n]=!0,n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=St[t]||fe.find.attr;Lt&&At||!Nt.test(t)?St[t]=function(e,t,i){var o,a;return i||(a=St[t],St[t]=o,o=null!=n(e,t,i)?t.toLowerCase():null,St[t]=a),o}:St[t]=function(e,t,n){return n?void 0:e[fe.camelCase("default-"+t)]?t.toLowerCase():null}}),Lt&&At||(fe.attrHooks.value={set:function(e,t,n){return fe.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),At||(wt={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},St.id=St.name=St.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},fe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},fe.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},fe.each(["width","height"],function(e,t){fe.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),de.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Pt=/^(?:input|select|textarea|button|object)$/i,Ft=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return Be(this,fe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=fe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),fe.extend({prop:function(e,t,n){var i,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,o=fe.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):Pt.test(e.nodeName)||Ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),de.hrefNormalized||fe.each(["href","src"],function(e,t){fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),de.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),de.enctype||(fe.propFix.enctype="encoding");var $t=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(e){var t,n,i,o,a,r,s,l=0;if(fe.isFunction(e))return this.each(function(t){fe(this).addClass(e.call(this,t,j(this)))});if("string"==typeof e&&e)for(t=e.match(Ke)||[];n=this[l++];)if(o=j(n),i=1===n.nodeType&&(" "+o+" ").replace($t," ")){for(r=0;a=t[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");s=fe.trim(i),o!==s&&fe.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,o,a,r,s,l=0;if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,j(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ke)||[];n=this[l++];)if(o=j(n),i=1===n.nodeType&&(" "+o+" ").replace($t," ")){for(r=0;a=t[r++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");s=fe.trim(i),o!==s&&fe.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(n){fe(this).toggleClass(e.call(this,n,j(this),t),t)}):this.each(function(){var t,i,o,a;if("string"===n)for(i=0,o=fe(this),a=e.match(Ke)||[];t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(void 0===e||"boolean"===n)&&(t=j(this),t&&fe._data(this,"__className__",t),fe.attr(this,"class",t||e===!1?"":fe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+j(n)+" ").replace($t," ").indexOf(t)>-1)return!0;return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Bt=e.location,Mt=fe.now(),Ht=/\?/,qt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,o=fe.trim(t+"");return o&&!fe.trim(o.replace(qt,function(e,t,o,a){return n&&t&&(i=0),0===i?e:(n=o||t,i+=!a-!o,"")}))?Function("return "+o)():fe.error("Invalid JSON: "+t)},fe.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new e.DOMParser,n=i.parseFromString(t,"text/xml")):(n=new e.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),n};var zt=/#.*$/,jt=/([?&])_=[^&]*/,Vt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ut=/^(?:GET|HEAD)$/,Gt=/^\/\//,Xt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Yt={},Qt={},Zt="*/".concat("*"),Jt=Bt.href,en=Xt.exec(Jt.toLowerCase())||[];
fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jt,type:"GET",isLocal:Wt.test(en[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,fe.ajaxSettings),t):U(fe.ajaxSettings,e)},ajaxPrefilter:V(Yt),ajaxTransport:V(Qt),ajax:function(t,n){function i(t,n,i,o){var a,d,b,E,C,I=n;2!==T&&(T=2,l&&e.clearTimeout(l),u=void 0,s=o||"",y.readyState=t>0?4:0,a=t>=200&&300>t||304===t,i&&(E=G(h,y,i)),E=X(h,E,y,a),a?(h.ifModified&&(C=y.getResponseHeader("Last-Modified"),C&&(fe.lastModified[r]=C),C=y.getResponseHeader("etag"),C&&(fe.etag[r]=C)),204===t||"HEAD"===h.type?I="nocontent":304===t?I="notmodified":(I=E.state,d=E.data,b=E.error,a=!b)):(b=I,(t||!I)&&(I="error",0>t&&(t=0))),y.status=t,y.statusText=(n||I)+"",a?g.resolveWith(f,[d,I,y]):g.rejectWith(f,[y,I,b]),y.statusCode(v),v=void 0,c&&m.trigger(a?"ajaxSuccess":"ajaxError",[y,h,a?d:b]),p.fireWith(f,[y,I]),c&&(m.trigger("ajaxComplete",[y,h]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,a,r,s,l,c,u,d,h=fe.ajaxSetup({},n),f=h.context||h,m=h.context&&(f.nodeType||f.jquery)?fe(f):fe.event,g=fe.Deferred(),p=fe.Callbacks("once memory"),v=h.statusCode||{},b={},E={},T=0,C="canceled",y={readyState:0,getResponseHeader:function(e){var t;if(2===T){if(!d)for(d={};t=Vt.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===T?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return T||(e=E[n]=E[n]||e,b[e]=t),this},overrideMimeType:function(e){return T||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>T)for(t in e)v[t]=[v[t],e[t]];else y.always(e[y.status]);return this},abort:function(e){var t=e||C;return u&&u.abort(t),i(0,t),this}};if(g.promise(y).complete=p.add,y.success=y.done,y.error=y.fail,h.url=((t||h.url||Jt)+"").replace(zt,"").replace(Gt,en[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=fe.trim(h.dataType||"*").toLowerCase().match(Ke)||[""],null==h.crossDomain&&(o=Xt.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===en[1]&&o[2]===en[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(en[3]||("http:"===en[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=fe.param(h.data,h.traditional)),W(Yt,h,n,y),2===T)return y;c=fe.event&&h.global,c&&0===fe.active++&&fe.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ut.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(Ht.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=jt.test(r)?r.replace(jt,"$1_="+Mt++):r+(Ht.test(r)?"&":"?")+"_="+Mt++)),h.ifModified&&(fe.lastModified[r]&&y.setRequestHeader("If-Modified-Since",fe.lastModified[r]),fe.etag[r]&&y.setRequestHeader("If-None-Match",fe.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&y.setRequestHeader("Content-Type",h.contentType),y.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Zt+"; q=0.01":""):h.accepts["*"]);for(a in h.headers)y.setRequestHeader(a,h.headers[a]);if(h.beforeSend&&(h.beforeSend.call(f,y,h)===!1||2===T))return y.abort();C="abort";for(a in{success:1,error:1,complete:1})y[a](h[a]);if(u=W(Qt,h,n,y)){if(y.readyState=1,c&&m.trigger("ajaxSend",[y,h]),2===T)return y;h.async&&h.timeout>0&&(l=e.setTimeout(function(){y.abort("timeout")},h.timeout));try{T=1,u.send(b,i)}catch(I){if(!(2>T))throw I;i(-1,I)}}else i(-1,"No Transport");return y},getJSON:function(e,t,n){return fe.get(e,t,n,"json")},getScript:function(e,t){return fe.get(e,void 0,t,"script")}}),fe.each(["get","post"],function(e,t){fe[t]=function(e,n,i,o){return fe.isFunction(n)&&(o=o||i,i=n,n=void 0),fe.ajax(fe.extend({url:e,type:t,dataType:o,data:n,success:i},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},fe.fn.extend({wrapAll:function(e){if(fe.isFunction(e))return this.each(function(t){fe(this).wrapAll(e.call(this,t))});if(this[0]){var t=fe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(n){fe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){return de.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var tn=/%20/g,nn=/\[\]$/,on=/\r?\n/g,an=/^(?:submit|button|image|reset|file)$/i,rn=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var n,i=[],o=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){o(this.name,this.value)});else for(n in e)Z(n,e[n],t,o);return i.join("&").replace(tn,"+")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&rn.test(this.nodeName)&&!an.test(e)&&(this.checked||!Me.test(e))}).map(function(e,t){var n=fe(this).val();return null==n?null:fe.isArray(n)?fe.map(n,function(e){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),fe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():ie.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||ee()}:J;var sn=0,ln={},cn=fe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in ln)ln[e](void 0,!0)}),de.cors=!!cn&&"withCredentials"in cn,cn=de.ajax=!!cn,cn&&fe.ajaxTransport(function(t){if(!t.crossDomain||de.cors){var n;return{send:function(i,o){var a,r=t.xhr(),s=++sn;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)r[a]=t.xhrFields[a];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)void 0!==i[a]&&r.setRequestHeader(a,i[a]+"");r.send(t.hasContent&&t.data||null),n=function(e,i){var a,l,c;if(n&&(i||4===r.readyState))if(delete ln[s],n=void 0,r.onreadystatechange=fe.noop,i)4!==r.readyState&&r.abort();else{c={},a=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(u){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&o(a,l,c,r.getAllResponseHeaders())},t.async?4===r.readyState?e.setTimeout(n):r.onreadystatechange=ln[s]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),fe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ie.head||fe("head")[0]||ie.documentElement;return{send:function(i,o){t=ie.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var un=[],dn=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=un.pop()||fe.expando+"_"+Mt++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(t,n,i){var o,a,r,s=t.jsonp!==!1&&(dn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(dn,"$1"+o):t.jsonp!==!1&&(t.url+=(Ht.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return r||fe.error(o+" was not called"),r[0]},t.dataTypes[0]="json",a=e[o],e[o]=function(){r=arguments},i.always(function(){void 0===a?fe(e).removeProp(o):e[o]=a,t[o]&&(t.jsonpCallback=n.jsonpCallback,un.push(o)),r&&fe.isFunction(a)&&a(r[0]),r=a=void 0}),"script"):void 0}),de.createHTMLDocument=function(){if(!ie.implementation.createHTMLDocument)return!1;var e=ie.implementation.createHTMLDocument("");return e.body.innerHTML="<form></form><form></form>",2===e.body.childNodes.length}(),fe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||(de.createHTMLDocument?ie.implementation.createHTMLDocument(""):ie);var i=ye.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=v([e],t,o),o&&o.length&&fe(o).remove(),fe.merge([],i.childNodes))};var hn=fe.fn.load;fe.fn.load=function(e,t,n){if("string"!=typeof e&&hn)return hn.apply(this,arguments);var i,o,a,r=this,s=e.indexOf(" ");return s>-1&&(i=fe.trim(e.slice(s,e.length)),e=e.slice(0,s)),fe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),r.length>0&&fe.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){a=arguments,r.html(i?fe("<div>").append(fe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){r.each(function(){n.apply(r,a||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(e){return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,n){var i,o,a,r,s,l,c,u=fe.css(e,"position"),d=fe(e),h={};"static"===u&&(e.style.position="relative"),s=d.offset(),a=fe.css(e,"top"),l=fe.css(e,"left"),c=("absolute"===u||"fixed"===u)&&fe.inArray("auto",[a,l])>-1,c?(i=d.position(),r=i.top,o=i.left):(r=parseFloat(a)||0,o=parseFloat(l)||0),fe.isFunction(t)&&(t=t.call(e,n,fe.extend({},s))),null!=t.top&&(h.top=t.top-s.top+r),null!=t.left&&(h.left=t.left-s.left+o),"using"in t?t.using.call(e,h):d.css(h)}},fe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){fe.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return t=a.documentElement,fe.contains(t,o)?("undefined"!=typeof o.getBoundingClientRect&&(i=o.getBoundingClientRect()),n=te(a),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===fe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(n=e.offset()),n.top+=fe.css(e[0],"borderTopWidth",!0),n.left+=fe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-fe.css(i,"marginTop",!0),left:t.left-n.left-fe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||ft})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);fe.fn[e]=function(i){return Be(this,function(e,i,o){var a=te(e);return void 0===o?a?t in a?a[t]:a.document.documentElement[i]:e[i]:void(a?a.scrollTo(n?fe(a).scrollLeft():o,n?o:fe(a).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=x(de.pixelPosition,function(e,n){return n?(n=gt(e,t),dt.test(n)?fe(e).position()[t]+"px":n):void 0})}),fe.each({Height:"height",Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){fe.fn[i]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),r=n||(i===!0||o===!0?"margin":"border");return Be(this,function(t,n,i){var o;return fe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?fe.css(t,n,r):fe.style(t,n,i,r)},t,a?i:void 0,a,null)}})}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var fn=e.jQuery,mn=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=mn),t&&e.jQuery===fe&&(e.jQuery=fn),fe},t||(e.jQuery=e.$=fe),fe}),/*
jQuery.Turbolinks ~ https://github.com/kossnocorp/jquery.turbolinks
jQuery plugin for drop-in fix binded events problem caused by Turbolinks

The MIT License
Copyright (c) 2012-2013 Sasha Koss & Rico Sta. Cruz
 */
function(){var e,t;e=window.jQuery||("function"==typeof require?require("jquery"):void 0),t=e(document),e.turbo={version:"2.1.0",isReady:!1,use:function(e,n){return t.off(".turbo").on(""+e+".turbo",this.onLoad).on(""+n+".turbo",this.onFetch)},addCallback:function(n){return e.turbo.isReady&&n(e),t.on("turbo:ready",function(){return n(e)})},onLoad:function(){return e.turbo.isReady=!0,t.trigger("turbo:ready")},onFetch:function(){return e.turbo.isReady=!1},register:function(){return e(this.onLoad),e.fn.ready=this.addCallback}},e.turbo.register(),e.turbo.use("page:load","page:fetch")}.call(this),function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,i){var o=e.Event(n);return t.trigger(o,i),o.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&e.data("remote")!==!1},handleRemote:function(i){var o,a,r,s,l,c;if(n.fire(i,"ajax:before")){if(s=i.data("with-credentials")||null,l=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){o=i.data("ujs:submit-button-formmethod")||i.attr("method"),a=i.data("ujs:submit-button-formaction")||i.attr("action"),r=e(i[0]).serializeArray();var u=i.data("ujs:submit-button");u&&(r.push(u),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(o=i.data("method"),a=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",a=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):(o=i.data("method"),a=n.href(i),r=i.data("params")||null);return c={type:o||"GET",data:r,dataType:l,beforeSend:function(e,o){return o.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),n.fire(i,"ajax:beforeSend",[e,o])?void i.trigger("ajax:send",e):!1},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(a)},s&&(c.xhrFields={withCredentials:s}),a&&(c.url=a),n.ajax(c)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var o=n.href(i),a=i.data("method"),r=i.attr("target"),s=n.csrfToken(),l=n.csrfParam(),c=e('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+a+'" type="hidden" />';l===t||s===t||n.isCrossDomain(o)||(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),r&&c.attr("target",r),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),i!==t&&(e.data("ujs:enable-with",e[n]()),e[n](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,i=e.data("confirm"),o=!1;if(!i)return!0;if(n.fire(e,"confirm")){try{o=n.confirm(i)}catch(a){(console.error||console.log).call(console,a.stack||a)}t=n.fire(e,"confirm:complete",[o])}return o&&t},blankInputs:function(t,n,i){var o,a,r,s,l=e(),c=n||"input,textarea",u=t.find(c),d={};return u.each(function(){o=e(this),o.is("input[type=radio]")?(s=o.attr("name"),d[s]||(0===t.find('input[type=radio]:checked[name="'+s+'"]').length&&(r=t.find('input[type=radio][name="'+s+'"]'),l=l.add(r)),d[s]=s)):(a=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val(),a===i&&(l=l.add(o)))}),l.length?l:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");i!==t&&(e.data("ujs:enable-with",e.html()),e.html(i)),e.bind("click.railsDisable",function(e){return n.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(t){var i=e(this),o=i.data("method"),a=i.data("params"),r=t.metaKey||t.ctrlKey;if(!n.allowAction(i))return n.stopEverything(t);if(!r&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(r&&(!o||"GET"===o)&&!a)return!0;var s=n.handleRemote(i);return s===!1?n.enableElement(i):s.fail(function(){n.enableElement(i)}),!1}return o?(n.handleMethod(i),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var o=n.handleRemote(i);return o===!1?n.enableFormElement(i):o.fail(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var o,a,r=e(this),s=n.isRemote(r);if(!n.allowAction(r))return n.stopEverything(i);if(r.attr("novalidate")===t)if(r.data("ujs:formnovalidate-button")===t){if(o=n.blankInputs(r,n.requiredInputSelector,!1),o&&n.fire(r,"ajax:aborted:required",[o]))return n.stopEverything(i)}else r.data("ujs:formnovalidate-button",t);if(s){if(a=n.nonBlankInputs(r,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var o=i.attr("name"),a=o?{name:o,value:i.val()}:null,r=i.closest("form");0===r.length&&(r=e("#"+i.attr("form"))),r.data("ujs:submit-button",a),r.data("ujs:formnovalidate-button",i.attr("formnovalidate")),r.data("ujs:submit-button-formaction",i.attr("formaction")),r.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(t){this===t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),/*!
 * JavaScript Cookie v2.0.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var t=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=t,n}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(n){function i(t,o,a){var r;if(arguments.length>1){if(a=e({path:"/"},i.defaults,a),"number"==typeof a.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}try{r=JSON.stringify(o),/^[\{\[]/.test(r)&&(o=r)}catch(l){}return o=encodeURIComponent(String(o)),o=o.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,a.expires&&"; expires="+a.expires.toUTCString(),a.path&&"; path="+a.path,a.domain&&"; domain="+a.domain,a.secure?"; secure":""].join("")}t||(r={});for(var c=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var h=c[d].split("="),f=h[0].replace(u,decodeURIComponent),m=h.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{if(m=n&&n(m,f)||m.replace(u,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(l){}if(t===f){r=m;break}t||(r[f]=m)}catch(l){}}return r}return i.get=i.set=i,i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}return t()}),/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,i){var o,a,r,s=t.nodeName.toLowerCase();return"area"===s?(o=t.parentNode,a=o.name,t.href&&a&&"map"===o.nodeName.toLowerCase()?(r=e("img[usemap='#"+a+"']")[0],!!r&&n(r)):!1):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return i&&"static"===t.css("position")?!1:o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),o=isNaN(i);return(o||i>=0)&&t(n,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,a){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?r["inner"+n].call(this):this.each(function(){e(this).css(a,i(this,t)+"px")})},e.fn["outer"+n]=function(t,o){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(a,i(this,t,!0,o)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,o=e(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var o,a=e.ui[t].prototype;for(o in i)a.plugins[o]=a.plugins[o]||[],a.plugins[o].push([n,i[o]])},call:function(e,t,n,i){var o,a=e.plugins[t];if(a&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<a.length;o++)e.options[a[o][0]]&&a[o][1].apply(e.element,n)}}}),/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var i,o,a;for(a=0;null!=(o=n[a]);a++)try{i=e._data(o,"events"),i&&i.remove&&e(o).triggerHandler("remove")}catch(r){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var o,a,r,s,l={},c=t.split(".")[0];return t=t.split(".")[1],o=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},a=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,a,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,a=this._superApply;return this._super=e,this._superApply=o,t=i.apply(this,arguments),this._super=n,this._superApply=a,t}}()):void(l[t]=i)}),r.prototype=e.widget.extend(s,{widgetEventPrefix:a?s.widgetEventPrefix||t:t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:o}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete a._childConstructors):n._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var i,o,a=n.call(arguments,1),r=0,s=a.length;s>r;r++)for(i in a[r])o=a[r][i],a[r].hasOwnProperty(i)&&void 0!==o&&(e.isPlainObject(o)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],o):e.widget.extend({},o):t[i]=o);return t},e.widget.bridge=function(t,i){var o=i.prototype.widgetFullName||t;e.fn[t]=function(a){var r="string"==typeof a,s=n.call(arguments,1),l=this;return r?this.each(function(){var n,i=e.data(this,o);return"instance"===a?(l=i,!1):i?e.isFunction(i[a])&&"_"!==a.charAt(0)?(n=i[a].apply(i,s),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}):(s.length&&(a=e.widget.extend.apply(null,[a].concat(s))),this.each(function(){var t=e.data(this,o);t?(t.option(a||{}),t._init&&t._init()):e.data(this,o,new i(a,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,o,a,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},i=t.split("."),t=i.shift(),i.length){for(o=r[t]=e.widget.extend({},this.options[t]),a=0;a<i.length-1;a++)o[i[a]]=o[i[a]]||{},o=o[i[a]];if(t=i.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=n}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var o,a=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=o=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),e.each(i,function(i,r){function s(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):void 0}"string"!=typeof r&&(s.guid=r.guid=r.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,s):n.bind(c,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var o,a,r=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(o in a)o in n||(n[o]=a[o]);return this.element.trigger(n,i),!(e.isFunction(r)&&r.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,o,a){"string"==typeof o&&(o={effect:o});var r,s=o?o===!0||"number"==typeof o?n:o.effect||n:t;o=o||{},"number"==typeof o&&(o={duration:o}),r=!e.isEmptyObject(o),o.complete=a,o.delay&&i.delay(o.delay),r&&e.effects&&e.effects.effect[s]?i[t](o):s!==t&&i[s]?i[s](o.duration,o.easing,a):i.queue(function(n){e(this)[t](),a&&a.call(i[0]),n()})}}),e.widget}),/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,o=1===n.which,a="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return o&&!a&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return function(){function t(e,t,n){return[parseFloat(e[0])*(f.test(e[0])?t/100:1),parseFloat(e[1])*(f.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function i(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,a,r=Math.max,s=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,f=/%$/,m=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=i.children()[0];return e("body").append(i),t=a.offsetWidth,i.css("overflow","scroll"),n=a.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),o=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,a="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||o?n.width():n.outerWidth(),height:i||o?n.height():n.outerHeight()}}},e.fn.position=function(o){if(!o||!o.of)return m.apply(this,arguments);o=e.extend({},o);var f,g,p,v,b,E,T=e(o.of),C=e.position.getWithinInfo(o.within),y=e.position.getScrollInfo(C),I=(o.collision||"flip").split(" "),O={};return E=i(T),T[0].preventDefault&&(o.at="left top"),g=E.width,p=E.height,v=E.offset,b=e.extend({},v),e.each(["my","at"],function(){var e,t,n=(o[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",e=d.exec(n[0]),t=d.exec(n[1]),O[this]=[e?e[0]:0,t?t[0]:0],o[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===I.length&&(I[1]=I[0]),"right"===o.at[0]?b.left+=g:"center"===o.at[0]&&(b.left+=g/2),"bottom"===o.at[1]?b.top+=p:"center"===o.at[1]&&(b.top+=p/2),f=t(O.at,g,p),b.left+=f[0],b.top+=f[1],this.each(function(){var i,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),m=n(this,"marginLeft"),E=n(this,"marginTop"),D=d+m+n(this,"marginRight")+y.width,R=h+E+n(this,"marginBottom")+y.height,_=e.extend({},b),k=t(O.my,u.outerWidth(),u.outerHeight());"right"===o.my[0]?_.left-=d:"center"===o.my[0]&&(_.left-=d/2),"bottom"===o.my[1]?_.top-=h:"center"===o.my[1]&&(_.top-=h/2),_.left+=k[0],_.top+=k[1],a||(_.left=l(_.left),_.top=l(_.top)),i={marginLeft:m,marginTop:E},e.each(["left","top"],function(t,n){e.ui.position[I[t]]&&e.ui.position[I[t]][n](_,{targetWidth:g,targetHeight:p,elemWidth:d,elemHeight:h,collisionPosition:i,collisionWidth:D,collisionHeight:R,offset:[f[0]+k[0],f[1]+k[1]],my:o.my,at:o.at,within:C,elem:u})}),o.using&&(c=function(e){var t=v.left-_.left,n=t+g-d,i=v.top-_.top,a=i+p-h,l={target:{element:T,left:v.left,top:v.top,width:g,height:p},element:{element:u,left:_.left,top:_.top,width:d,height:h},horizontal:0>n?"left":t>0?"right":"center",vertical:0>a?"top":i>0?"bottom":"middle"};d>g&&s(t+n)<g&&(l.horizontal="center"),h>p&&s(i+a)<p&&(l.vertical="middle"),r(s(t),s(n))>r(s(i),s(a))?l.important="horizontal":l.important="vertical",o.using.call(this,e,l)}),u.offset(e.extend(_,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=e.left-t.collisionPosition.marginLeft,l=o-s,c=s+t.collisionWidth-a-o;t.collisionWidth>a?l>0&&0>=c?(n=e.left+l+t.collisionWidth-a-o,e.left+=l-n):c>0&&0>=l?e.left=o:l>c?e.left=o+a-t.collisionWidth:e.left=o:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-s,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=o-s,c=s+t.collisionHeight-a-o;t.collisionHeight>a?l>0&&0>=c?(n=e.top+l+t.collisionHeight-a-o,e.top+=l-n):c>0&&0>=l?e.top=o:l>c?e.top=o+a-t.collisionHeight:e.top=o:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,o=t.within,a=o.offset.left+o.scrollLeft,r=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-r-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,m=-2*t.offset[0];0>u?(n=e.left+h+f+m+t.collisionWidth-r-a,(0>n||n<s(u))&&(e.left+=h+f+m)):d>0&&(i=e.left-t.collisionPosition.marginLeft+h+f+m-l,(i>0||s(i)<d)&&(e.left+=h+f+m))},top:function(e,t){var n,i,o=t.within,a=o.offset.top+o.scrollTop,r=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-r-l,h="top"===t.my[1],f=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,m="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];0>u?(i=e.top+f+m+g+t.collisionHeight-r-a,(0>i||i<s(u))&&(e.top+=f+m+g)):d>0&&(n=e.top-t.collisionPosition.marginTop+f+m+g-l,(n>0||s(n)<d)&&(e.top+=f+m+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,o,r,s=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in i)t.style[r]=i[r];t.appendChild(l),n=s||document.documentElement,n.insertBefore(t,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=e(l).offset().left,a=o>10&&11>o,t.innerHTML="",n.removeChild(t)}()}(),e.ui.position}),/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(i){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),o=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,o=this.options,a=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),n=e(o.containment),i=n[0],void(i&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,o,a,r=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-r.grid[1]:o+r.grid[1]:o,a=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=n?a-this.offset.click.left>=n[0]||a-this.offset.click.left>n[2]?a:a-this.offset.click.left>=n[0]?a-r.grid[0]:a+r.grid[0]:a),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var o=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n,i){var o=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))})},drag:function(t,n,i){e.each(i.sortables,function(){var o=!1,a=this;a.positionAbs=i.positionAbs,a.helperProportions=i.helperProportions,a.offset.click=i.offset.click,a._intersectsWith(a.containerCache)&&(o=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(o=!1),o})),o?(a.isOver||(a.isOver=1,i._parent=n.helper.parent(),a.currentItem=n.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return n.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=i.offset.click.top,a.offset.click.left=i.offset.click.left,a.offset.parent.left-=i.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=i.offset.parent.top-a.offset.parent.top,i._trigger("toSortable",t),i.dropped=a.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,a.fromOutside=i),a.currentItem&&(a._mouseDrag(t),n.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var o=e("body"),a=i.options;o.css("cursor")&&(a._cursor=o.css("cursor")),o.css("cursor",a.cursor)},stop:function(t,n,i){var o=i.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var o=e(n.helper),a=i.options;o.css("opacity")&&(a._opacity=o.css("opacity")),o.css("opacity",a.opacity)},stop:function(t,n,i){var o=i.options;o._opacity&&e(n.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var o=i.options,a=!1,r=i.scrollParentNotHidden[0],s=i.document[0];r!==s&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-t.pageY<o.scrollSensitivity?r.scrollTop=a=r.scrollTop+o.scrollSpeed:t.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=a=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-t.pageX<o.scrollSensitivity?r.scrollLeft=a=r.scrollLeft+o.scrollSpeed:t.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=a=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(s).scrollTop()<o.scrollSensitivity?a=e(s).scrollTop(e(s).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<o.scrollSensitivity&&(a=e(s).scrollTop(e(s).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(s).scrollLeft()<o.scrollSensitivity?a=e(s).scrollLeft(e(s).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<o.scrollSensitivity&&(a=e(s).scrollLeft(e(s).scrollLeft()+o.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var o=i.options;i.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var o,a,r,s,l,c,u,d,h,f,m=i.options,g=m.snapTolerance,p=n.offset.left,v=p+i.helperProportions.width,b=n.offset.top,E=b+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)l=i.snapElements[h].left-i.margins.left,c=l+i.snapElements[h].width,u=i.snapElements[h].top-i.margins.top,d=u+i.snapElements[h].height,l-g>v||p>c+g||u-g>E||b>d+g||!e.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==m.snapMode&&(o=Math.abs(u-E)<=g,a=Math.abs(d-b)<=g,r=Math.abs(l-v)<=g,s=Math.abs(c-p)<=g,o&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),a&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),f=o||a||r||s,"outer"!==m.snapMode&&(o=Math.abs(u-b)<=g,a=Math.abs(d-E)<=g,r=Math.abs(l-p)<=g,s=Math.abs(c-v)<=g,o&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),a&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(o||a||r||s||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=o||a||r||s||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var o,a=i.options,r=e.makeArray(e(a.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});r.length&&(o=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(t){e(this).css("zIndex",o+t)}),this.css("zIndex",o+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var o=e(n.helper),a=i.options;o.css("zIndex")&&(a._zIndex=o.css("zIndex")),o.css("zIndex",a.zIndex)},stop:function(t,n,i){var o=i.options;o._zIndex&&e(n.helper).css("zIndex",o._zIndex)}}),e.ui.draggable}),/*!
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./mouse","./draggable"],e):e(jQuery)}(function(e){return e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,o=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,i,o){if(!n.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,s=a+t.helperProportions.width,l=r+t.helperProportions.height,c=n.offset.left,u=n.offset.top,d=c+n.proportions().width,h=u+n.proportions().height;switch(i){case"fit":return a>=c&&d>=s&&r>=u&&h>=l;case"intersect":return c<a+t.helperProportions.width/2&&s-t.helperProportions.width/2<d&&u<r+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(o.pageY,u,n.proportions().height)&&e(o.pageX,c,n.proportions().width);case"touch":return(r>=u&&h>=r||l>=u&&h>=l||u>r&&l>h)&&(a>=c&&d>=a||s>=c&&d>=s||c>a&&s>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var i,o,a=e.ui.ddmanager.droppables[t.options.scope]||[],r=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<a.length;i++)if(!(a[i].options.disabled||t&&!a[i].accept.call(a[i].element[0],t.currentItem||t.element))){for(o=0;o<s.length;o++)if(s[o]===a[i].element[0]){a[i].proportions().height=0;continue e}a[i].visible="none"!==a[i].element.css("display"),a[i].visible&&("mousedown"===r&&a[i]._activate.call(a[i],n),a[i].offset=a[i].element.offset(),a[i].proportions({width:a[i].element[0].offsetWidth,height:a[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,o,a,r=e.ui.intersect(t,this,this.options.tolerance,n),s=!r&&this.isover?"isout":r&&!this.isover?"isover":null;s&&(this.options.greedy&&(o=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o}),a.length&&(i=e(a[0]).droppable("instance"),i.greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},e.ui.droppable}),/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return t[i]>0?!0:(t[i]=1,o=t[i]>0,t[i]=0,o)},_create:function(){var t,n,i,o,a,r=this,s=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)i=e.trim(t[n]),a="ui-resizable-"+i,o=e("<div class='ui-resizable-handle "+a+"'></div>"),o.css({zIndex:s.zIndex}),"se"===i&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(o);this._renderAxis=function(t){var n,i,o,a;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),a=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(o,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){s.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,o=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var n,i,o,a=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),a.containment&&(n+=e(a.containment).scrollLeft()||0,i+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,o=this.originalMousePosition,a=this.axis,r=t.pageX-o.left||0,s=t.pageY-o.top||0,l=this._change[a];return this._updatePrevProperties(),l?(n=l.apply(this,[t,r,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,i,o,a,r,s,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),o=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,a=i?0:u.sizeDiff.width,r={width:u.helper.width()-a,height:u.helper.height()-o},s=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,o,a,r=this.options;a={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,i=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),i>a.minHeight&&(a.minHeight=i),n<a.maxWidth&&(a.maxWidth=n),o<a.maxHeight&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return a&&(e.width=t.minWidth),r&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),a&&c&&(e.left=s-t.minWidth),i&&c&&(e.left=s-t.maxWidth),r&&u&&(e.top=l-t.minHeight),o&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(i[t],10)||0,n[t]+=parseInt(o[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,o=this.originalPosition;return{top:o.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,o=n._proportionallyResizeElements,a=o.length&&/textarea/i.test(o[0].nodeName),r=a&&n._hasScroll(o[0],"left")?0:n.sizeDiff.height,s=a?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-r},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,o,a,r,s,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,o=l.containerSize.height,a=l.containerSize.width,r=l._hasScroll(h,"left")?h.scrollWidth:a,s=l._hasScroll(h)?h.scrollHeight:o,l.parentData={element:h,left:i.left,top:i.top,width:r,height:s}))},resize:function(t){var n,i,o,a,r=e(this).resizable("instance"),s=r.options,l=r.containerOffset,c=r.position,u=r._aspectRatio||t.shiftKey,d={top:0,left:0},h=r.containerElement,f=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-d.left),u&&(r.size.height=r.size.width/r.aspectRatio,f=!1),r.position.left=s.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio,f=!1),r.position.top=r._helper?l.top:0),o=r.containerElement.get(0)===r.element.parent().get(0),a=/relative|absolute/.test(r.containerElement.css("position")),o&&a?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),n=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-d.left:r.offset.left-l.left)),i=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-d.top:r.offset.top-l.top)),n+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-n,u&&(r.size.height=r.size.width/r.aspectRatio,f=!1)),i+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-i,u&&(r.size.width=r.size.height*r.aspectRatio,f=!1)),f||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,o=t.containerPosition,a=t.containerElement,r=e(t.helper),s=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(a.css("position"))&&e(this).css({left:s.left-o.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(a.css("position"))&&e(this).css({left:s.left-o.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,n){var i=e(this).resizable("instance"),o=i.options,a=i.originalSize,r=i.originalPosition,s={height:i.size.height-a.height||0,width:i.size.width-a.width||0,top:i.position.top-r.top||0,left:i.position.left-r.left||0};e(o.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),o={},a=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var n=(i[t]||0)+(s[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,o=n.size,a=n.originalSize,r=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((o.width-a.width)/c)*c,h=Math.round((o.height-a.height)/u)*u,f=a.width+d,m=a.height+h,g=i.maxWidth&&i.maxWidth<f,p=i.maxHeight&&i.maxHeight<m,v=i.minWidth&&i.minWidth>f,b=i.minHeight&&i.minHeight>m;i.grid=l,v&&(f+=c),b&&(m+=u),g&&(f-=c),p&&(m-=u),/^(se|s|e)$/.test(s)?(n.size.width=f,n.size.height=m):/^(ne)$/.test(s)?(n.size.width=f,n.size.height=m,n.position.top=r.top-h):/^(sw)$/.test(s)?(n.size.width=f,n.size.height=m,n.position.left=r.left-d):((0>=m-u||0>=f-c)&&(t=n._getPaddingPlusBorderDimensions(this)),m-u>0?(n.size.height=m,n.position.top=r.top-h):(m=u-t.height,n.size.height=m,n.position.top=r.top+a.height-m),f-c>0?(n.size.width=f,n.position.left=r.left-d):(f=c-t.width,n.size.width=f,n.position.left=r.left+a.width-f))}}),e.ui.resizable}),/*!
 * jQuery UI Selectable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,o=e.data(this,"selectable-item");return o?(i=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),o.unselecting=!i,o.selecting=i,o.selected=i,i?n._trigger("selecting",t,{selecting:o.element}):n._trigger("unselecting",t,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,o=this.options,a=this.opos[0],r=this.opos[1],s=t.pageX,l=t.pageY;return a>s&&(n=s,s=a,a=n),r>l&&(n=l,l=r,r=n),this.helper.css({left:a,top:r,width:s-a,height:l-r}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===o.tolerance?c=!(n.left>s||n.right<a||n.top>l||n.bottom<r):"fit"===o.tolerance&&(c=n.left>a&&n.right<s&&n.top>r&&n.bottom<l),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}),/*!
 * jQuery UI Sortable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,o=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(i=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(i=e(t.target)),i&&(!this.options.handle||n||(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(o=!0)}),o))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,n,i){var o,a,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(a)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,o,a,r=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],o=i.item[0],a=this._intersectsWithPointer(i),a&&i.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==o&&!e.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],o):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,o=this.placeholder.offset(),a=this.options.axis,r={};a&&"x"!==a||(r.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(r.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,a=e.left,r=a+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>s&&l>i+c,h="y"===this.options.axis||t+u>a&&r>t+u,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:a<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<r&&s<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&n,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return i?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){s.push(this)}var i,o,a,r,s=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(a=e(c[i],this.document[0]),o=a.length-1;o>=0;o--)r=e.data(a[o],this.widgetFullName),r&&r!==this&&!r.options.disabled&&l.push([e.isFunction(r.options.items)?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,o,a,r,s,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(o=e(h[n],this.document[0]),i=o.length-1;i>=0;i--)a=e.data(o[i],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(n=d.length-1;n>=0;n--)for(r=d[n][1],s=d[n][0],i=0,c=s.length;c>i;i++)l=e(s[i]),l.data(this.widgetName+"-item",r),u.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,o,a;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=o.outerWidth(),i.height=o.outerHeight()),a=o.offset(),i.left=a.left,i.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)a=this.containers[n].element.offset(),this.containers[n].containerCache.left=a.left,this.containers[n].containerCache.top=a.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(o)):"tr"===i?t._createTrPlaceholder(t.currentItem,o):"img"===i&&o.attr("src",t.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(e,o){(!n||i.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,o,a,r,s,l,c,u,d,h=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,a=null,u=h.floating||this._isFloating(this.currentItem),r=u?"left":"top",s=u?"width":"height",d=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[r],c=!1,t[d]-l>this.items[i][s]/2&&(c=!0),Math.abs(t[d]-l)<o&&(o=Math.abs(t[d]-l),a=this.items[i],this.direction=c?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],n=e(o.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:o.scrollLeft())*i}},_generatePosition:function(t){var n,i,o=this.options,a=t.pageX,r=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1],r=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0],a=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&o.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||o.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(o.push(function(e){this._trigger("remove",e,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<o.length;i++)o[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}),function(e,t,n,i){"use strict";e.api=e.fn.api=function(n){var o,a=e(e.isFunction(this)?t:this),r=a.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var a,h,f,m,g,p,v=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),b=v.namespace,E=v.metadata,T=v.selector,C=v.error,y=v.className,I="."+b,O="module-"+b,D=e(this),R=D.closest(T.form),_=v.stateContext?e(v.stateContext):D,k=this,K=_[0],w=D.data(O);p={initialize:function(){u||p.bind.events(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),w=p,D.data(O,w)},destroy:function(){p.verbose("Destroying previous module for",k),D.removeData(O).off(I)},bind:{events:function(){var e=p.get.event();e?(p.verbose("Attaching API events to element",e),D.on(e+I,p.event.trigger)):"now"==v.on&&(p.debug("Querying API endpoint immediately"),p.query())}},decode:{json:function(e){if(e!==i&&"string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}},read:{cachedResponse:function(e){var n;return t.Storage===i?void p.error(C.noStorage):(n=sessionStorage.getItem(e),p.debug("Using cached response",e,n),n=p.decode.json(n),!1)}},write:{cachedResponse:function(n,o){return o&&""===o?void p.debug("Response empty, not caching",o):t.Storage===i?void p.error(C.noStorage):(e.isPlainObject(o)&&(o=JSON.stringify(o)),sessionStorage.setItem(n,o),void p.verbose("Storing cached response for url",n,o))}},query:function(){if(p.is.disabled())return void p.debug("Element is disabled API request aborted");if(p.is.loading()){if(!v.interruptRequests)return void p.debug("Cancelling request, previous request is still pending");p.debug("Interrupting previous request"),p.abort()}return v.defaultData&&e.extend(!0,v.urlData,p.get.defaultData()),v.serializeForm&&(v.data=p.add.formData(v.data)),h=p.get.settings(),h===!1?(p.cancelled=!0,void p.error(C.beforeSend)):(p.cancelled=!1,f=p.get.templatedURL(),f||p.is.mocked()?(f=p.add.urlData(f),f||p.is.mocked()?(h.url=v.base+f,a=e.extend(!0,{},v,{type:v.method||v.type,data:m,url:v.base+f,beforeSend:v.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),p.debug("Querying URL",a.url),p.verbose("Using AJAX settings",a),"local"===v.cache&&p.read.cachedResponse(f)?(p.debug("Response returned from local cache"),p.request=p.create.request(),void p.request.resolveWith(K,[p.read.cachedResponse(f)])):void(v.throttle?v.throttleFirstRequest||p.timer?(p.debug("Throttling request",v.throttle),clearTimeout(p.timer),p.timer=setTimeout(function(){p.timer&&delete p.timer,p.debug("Sending throttled request",m,a.method),p.send.request()},v.throttle)):(p.debug("Sending request",m,a.method),p.send.request(),p.timer=setTimeout(function(){},v.throttle)):(p.debug("Sending request",m,a.method),p.send.request()))):void 0):void p.error(C.missingURL))},should:{removeError:function(){return v.hideError===!0||"auto"===v.hideError&&!p.is.form()}},is:{disabled:function(){return D.filter(T.disabled).length>0},form:function(){return D.is("form")||_.is("form")},mocked:function(){return v.mockResponse||v.mockResponseAsync||v.response||v.responseAsync},input:function(){return D.is("input")},loading:function(){return p.request&&"pending"==p.request.state()},abortedRequest:function(e){return e&&e.readyState!==i&&0===e.readyState?(p.verbose("XHR request determined to be aborted"),!0):(p.verbose("XHR request was not aborted"),!1)},validResponse:function(t){return"json"!==v.dataType&&"jsonp"!==v.dataType||!e.isFunction(v.successTest)?(p.verbose("Response is not JSON, skipping validation",v.successTest,t),!0):(p.debug("Checking JSON returned success",v.successTest,t),v.successTest(t)?(p.debug("Response passed success test",t),!0):(p.debug("Response failed success test",t),!1))}},was:{cancelled:function(){return p.cancelled||!1},succesful:function(){return p.request&&"resolved"==p.request.state()},failure:function(){return p.request&&"rejected"==p.request.state()},complete:function(){return p.request&&("resolved"==p.request.state()||"rejected"==p.request.state())}},add:{urlData:function(t,n){var o,a;return t&&(o=t.match(v.regExp.required),a=t.match(v.regExp.optional),n=n||v.urlData,o&&(p.debug("Looking for required URL variables",o),e.each(o,function(o,a){var r=-1!==a.indexOf("$")?a.substr(2,a.length-3):a.substr(1,a.length-2),s=e.isPlainObject(n)&&n[r]!==i?n[r]:D.data(r)!==i?D.data(r):_.data(r)!==i?_.data(r):n[r];return s===i?(p.error(C.requiredParameter,r,t),t=!1,!1):(p.verbose("Found required variable",r,s),s=v.encodeParameters?p.get.urlEncodedValue(s):s,t=t.replace(a,s),void 0)})),a&&(p.debug("Looking for optional URL variables",o),e.each(a,function(o,a){var r=-1!==a.indexOf("$")?a.substr(3,a.length-4):a.substr(2,a.length-3),s=e.isPlainObject(n)&&n[r]!==i?n[r]:D.data(r)!==i?D.data(r):_.data(r)!==i?_.data(r):n[r];s!==i?(p.verbose("Optional variable Found",r,s),t=t.replace(a,s)):(p.verbose("Optional variable not found",r),t=-1!==t.indexOf("/"+a)?t.replace("/"+a,""):t.replace(a,""))}))),t},formData:function(t){var n,o=e.fn.serializeObject!==i,a=o?R.serializeObject():R.serialize();return t=t||v.data,n=e.isPlainObject(t),n?o?(p.debug("Extending existing data with form data",t,a),t=e.extend(!0,{},t,a)):(p.error(C.missingSerialize),p.debug("Cant extend data. Replacing data with form data",t,a),t=a):(p.debug("Adding form data",a),t=a),t}},send:{request:function(){p.set.loading(),p.request=p.create.request(),p.is.mocked()?p.mockedXHR=p.create.mockedXHR():p.xhr=p.create.xhr(),v.onRequest.call(K,p.request,p.xhr)}},event:{trigger:function(e){p.query(),("submit"==e.type||"click"==e.type)&&e.preventDefault()},xhr:{always:function(){},done:function(t,n,i){var o=this,a=(new Date).getTime()-g,r=v.loadingDuration-a,s=e.isFunction(v.onResponse)?v.onResponse.call(o,e.extend(!0,{},t)):!1;r=r>0?r:0,s&&(p.debug("Modified API response in onResponse callback",v.onResponse,s,t),t=s),r>0&&p.debug("Response completed early delaying state change by",r),setTimeout(function(){p.is.validResponse(t)?p.request.resolveWith(o,[t,i]):p.request.rejectWith(o,[i,"invalid"])},r)},fail:function(e,t,n){var i=this,o=(new Date).getTime()-g,a=v.loadingDuration-o;a=a>0?a:0,a>0&&p.debug("Response completed early delaying state change by",a),setTimeout(function(){p.is.abortedRequest(e)?p.request.rejectWith(i,[e,"aborted",n]):p.request.rejectWith(i,[e,"error",t,n])},a)}},request:{done:function(e,t){p.debug("Successful API Response",e),"local"===v.cache&&f&&(p.write.cachedResponse(f,e),p.debug("Saving server response locally",p.cache)),v.onSuccess.call(K,e,D,t)},complete:function(e,t){var n,i;p.was.succesful()?(i=e,n=t):(n=e,i=p.get.responseFromXHR(n)),p.remove.loading(),v.onComplete.call(K,i,D,n)},fail:function(e,t,n){var o=p.get.responseFromXHR(e),r=p.get.errorFromRequest(o,t,n);"aborted"==t?(p.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,n),v.onAbort.call(K,t,D,e)):"invalid"==t?p.debug("JSON did not pass success test. A server-side error has most likely occurred",o):"error"==t&&e!==i&&(p.debug("XHR produced a server error",t,n),200!=e.status&&n!==i&&""!==n&&p.error(C.statusMessage+n,a.url),v.onError.call(K,r,D,e)),v.errorDuration&&"aborted"!==t&&(p.debug("Adding error state"),p.set.error(),p.should.removeError()&&setTimeout(p.remove.error,v.errorDuration)),p.debug("API Request failed",r,e),v.onFailure.call(K,o,D,e)}}},create:{request:function(){return e.Deferred().always(p.event.request.complete).done(p.event.request.done).fail(p.event.request.fail)},mockedXHR:function(){var t,n,i,o=!1,a=!1,r=!1,s=v.mockResponse||v.response,l=v.mockResponseAsync||v.responseAsync;return i=e.Deferred().always(p.event.xhr.complete).done(p.event.xhr.done).fail(p.event.xhr.fail),s?(e.isFunction(s)?(p.debug("Using specified synchronous callback",s),n=s.call(K,h)):(p.debug("Using settings specified response",s),n=s),i.resolveWith(K,[n,o,{responseText:n}])):e.isFunction(l)&&(t=function(e){p.debug("Async callback returned response",e),e?i.resolveWith(K,[e,o,{responseText:e}]):i.rejectWith(K,[{responseText:e},a,r]);
},p.debug("Using specified async response callback",l),l.call(K,h,t)),i},xhr:function(){var t;return t=e.ajax(a).always(p.event.xhr.always).done(p.event.xhr.done).fail(p.event.xhr.fail),p.verbose("Created server request",t),t}},set:{error:function(){p.verbose("Adding error state to element",_),_.addClass(y.error)},loading:function(){p.verbose("Adding loading state to element",_),_.addClass(y.loading),g=(new Date).getTime()}},remove:{error:function(){p.verbose("Removing error state from element",_),_.removeClass(y.error)},loading:function(){p.verbose("Removing loading state from element",_),_.removeClass(y.loading)}},get:{responseFromXHR:function(t){return e.isPlainObject(t)?"json"==v.dataType||"jsonp"==v.dataType?p.decode.json(t.responseText):t.responseText:!1},errorFromRequest:function(t,n,o){return e.isPlainObject(t)&&t.error!==i?t.error:v.error[n]!==i?v.error[n]:o},request:function(){return p.request||!1},xhr:function(){return p.xhr||!1},settings:function(){var t;return t=v.beforeSend.call(K,v),t&&(t.success!==i&&(p.debug("Legacy success callback detected",t),p.error(C.legacyParameters,t.success),t.onSuccess=t.success),t.failure!==i&&(p.debug("Legacy failure callback detected",t),p.error(C.legacyParameters,t.failure),t.onFailure=t.failure),t.complete!==i&&(p.debug("Legacy complete callback detected",t),p.error(C.legacyParameters,t.complete),t.onComplete=t.complete)),t===i&&p.error(C.noReturnedValue),t!==i?e.extend(!0,{},t):e.extend(!0,{},v)},urlEncodedValue:function(e){var n=t.decodeURIComponent(e),i=t.encodeURIComponent(e),o=n!==e;return o?(p.debug("URL value is already encoded, avoiding double encoding",e),e):(p.verbose("Encoding value using encodeURIComponent",e,i),i)},defaultData:function(){var t={};return e.isWindow(k)||(p.is.input()?t.value=D.val():p.is.form()&&(t.text=D.text())),t},event:function(){return e.isWindow(k)||"now"==v.on?(p.debug("API called without element, no events attached"),!1):"auto"==v.on?D.is("input")?k.oninput!==i?"input":k.onpropertychange!==i?"propertychange":"keyup":D.is("form")?"submit":"click":v.on},templatedURL:function(e){if(e=e||D.data(E.action)||v.action||!1,f=D.data(E.url)||v.url||!1)return p.debug("Using specified url",f),f;if(e){if(p.debug("Looking up url for action",e,v.api),v.api[e]===i&&!p.is.mocked())return void p.error(C.missingAction,v.action,v.api);f=v.api[e]}else p.is.form()&&(f=D.attr("action")||_.attr("action")||!1,p.debug("No url or action specified, defaulting to form action",f));return f}},abort:function(){var e=p.get.xhr();e&&"resolved"!==e.state()&&(p.debug("Cancelling API request"),e.abort())},reset:function(){p.remove.error(),p.remove.loading()},setting:function(t,n){if(p.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,v,t);else{if(n===i)return v[t];v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},debug:function(){v.debug&&(v.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,v.name+":"),p.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,v.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;v.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=v.name+":",n=0;s=!1,clearTimeout(p.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=w;return n=n||d,a=k||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(p.error(C.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(w===i&&p.initialize(),p.invoke(c)):(w!==i&&w.invoke("destroy"),p.initialize())}),o!==i?o:this},e.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.colorize=function(t){var n=e.isPlainObject(t)?e.extend(!0,{},e.fn.colorize.settings,t):e.extend({},e.fn.colorize.settings),o=arguments||!1;return e(this).each(function(t){var a,r,s,l,c,u,d,h,f=e(this),m=e("<canvas />")[0],g=e("<canvas />")[0],p=e("<canvas />")[0],v=new Image,b=n.colors,E=(n.paths,n.namespace),T=n.error,C=f.data("module-"+E);return h={checkPreconditions:function(){return h.debug("Checking pre-conditions"),!e.isPlainObject(b)||e.isEmptyObject(b)?(h.error(T.undefinedColors),!1):!0},async:function(e){n.async?setTimeout(e,0):e()},getMetadata:function(){h.debug("Grabbing metadata"),l=f.data("image")||n.image||i,c=f.data("name")||n.name||t,u=n.width||f.width(),d=n.height||f.height(),(0===u||0===d)&&h.error(T.undefinedSize)},initialize:function(){h.debug("Initializing with colors",b),h.checkPreconditions()&&h.async(function(){h.getMetadata(),h.canvas.create(),h.draw.image(function(){h.draw.colors(),h.canvas.merge()}),f.data("module-"+E,h)})},redraw:function(){h.debug("Redrawing image"),h.async(function(){h.canvas.clear(),h.draw.colors(),h.canvas.merge()})},change:{color:function(e,t){return h.debug("Changing color",e),b[e]===i?(h.error(T.missingColor),!1):(b[e]=t,void h.redraw())}},canvas:{create:function(){h.debug("Creating canvases"),m.width=u,m.height=d,g.width=u,g.height=d,p.width=u,p.height=d,a=m.getContext("2d"),r=g.getContext("2d"),s=p.getContext("2d"),f.append(m),a=f.children("canvas")[0].getContext("2d")},clear:function(e){h.debug("Clearing canvas"),s.fillStyle="#FFFFFF",s.fillRect(0,0,u,d)},merge:function(){return e.isFunction(a.blendOnto)?(a.putImageData(r.getImageData(0,0,u,d),0,0),void s.blendOnto(a,"multiply")):void h.error(T.missingPlugin)}},draw:{image:function(e){h.debug("Drawing image"),e=e||function(){},l?(v.src=l,v.onload=function(){r.drawImage(v,0,0),e()}):(h.error(T.noImage),e())},colors:function(){h.debug("Drawing color overlays",b),e.each(b,function(e,t){n.onDraw(s,c,e,t)})}},debug:function(e,t){n.debug&&(t!==i?console.info(n.name+": "+e,t):console.info(n.name+": "+e))},error:function(e){console.warn(n.name+": "+e)},invoke:function(t,o,a){var r;return a=a||Array.prototype.slice.call(arguments,2),"string"==typeof t&&C!==i&&(t=t.split("."),e.each(t,function(t,i){return e.isPlainObject(C[i])?(C=C[i],!0):e.isFunction(C[i])?(r=C[i],!0):(h.error(n.error.method),!1)})),e.isFunction(r)?r.apply(o,a):!1}},C!==i&&o?("invoke"==o[0]&&(o=Array.prototype.slice.call(o,1)),h.invoke(o[0],this,Array.prototype.slice.call(o,1))):void h.initialize()}),this},e.fn.colorize.settings={name:"Image Colorizer",debug:!0,namespace:"colorize",onDraw:function(e,t,n,i){},async:!0,colors:{},metadata:{image:"image",name:"name"},error:{noImage:"No tracing image specified",undefinedColors:"No default colors specified.",missingColor:"Attempted to change color that does not exist",missingPlugin:"Blend onto plug-in must be included",undefinedHeight:"The width or height of image canvas could not be automatically determined. Please specify a height."}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.embed=function(n){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var h,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.embed.settings,n):e.extend({},e.fn.embed.settings),m=f.selector,g=f.className,p=f.sources,v=f.error,b=f.metadata,E=f.namespace,T=f.templates,C="."+E,y="module-"+E,I=(e(t),e(this)),O=I.find(m.placeholder),D=I.find(m.icon),R=I.find(m.embed),_=this,k=I.data(y);h={initialize:function(){h.debug("Initializing embed"),h.determine.autoplay(),h.create(),h.bind.events(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),k=h,I.data(y,h)},destroy:function(){h.verbose("Destroying previous instance of embed"),h.reset(),I.removeData(y).off(C)},refresh:function(){h.verbose("Refreshing selector cache"),O=I.find(m.placeholder),D=I.find(m.icon),R=I.find(m.embed)},bind:{events:function(){h.has.placeholder()&&(h.debug("Adding placeholder events"),I.on("click"+C,m.placeholder,h.createAndShow).on("click"+C,m.icon,h.createAndShow))}},create:function(){var e=h.get.placeholder();e?h.createPlaceholder():h.createAndShow()},createPlaceholder:function(e){var t=h.get.icon(),n=h.get.url();h.generate.embed(n);e=e||h.get.placeholder(),I.html(T.placeholder(e,t)),h.debug("Creating placeholder for embed",e,t)},createEmbed:function(t){h.refresh(),t=t||h.get.url(),R=e("<div/>").addClass(g.embed).html(h.generate.embed(t)).appendTo(I),f.onCreate.call(_,t),h.debug("Creating embed object",R)},createAndShow:function(){h.createEmbed(),h.show()},change:function(e,t,n){h.debug("Changing video to ",e,t,n),I.data(b.source,e).data(b.id,t).data(b.url,n),h.create()},reset:function(){h.debug("Clearing embed and showing placeholder"),h.remove.active(),h.remove.embed(),h.showPlaceholder(),f.onReset.call(_)},show:function(){h.debug("Showing embed"),h.set.active(),f.onDisplay.call(_)},hide:function(){h.debug("Hiding embed"),h.showPlaceholder()},showPlaceholder:function(){h.debug("Showing placeholder image"),h.remove.active(),f.onPlaceholderDisplay.call(_)},get:{id:function(){return f.id||I.data(b.id)},placeholder:function(){return f.placeholder||I.data(b.placeholder)},icon:function(){return f.icon?f.icon:I.data(b.icon)!==i?I.data(b.icon):h.determine.icon()},source:function(e){return f.source?f.source:I.data(b.source)!==i?I.data(b.source):h.determine.source()},type:function(){var e=h.get.source();return p[e]!==i?p[e].type:!1},url:function(){return f.url?f.url:I.data(b.url)!==i?I.data(b.url):h.determine.url()}},determine:{autoplay:function(){h.should.autoplay()&&(f.autoplay=!0)},source:function(t){var n=!1;return t=t||h.get.url(),t&&e.each(p,function(e,i){return-1!==t.search(i.domain)?(n=e,!1):void 0}),n},icon:function(){var e=h.get.source();return p[e]!==i?p[e].icon:!1},url:function(){var e,t=f.id||I.data(b.id),n=f.source||I.data(b.source);return e=p[n]!==i?p[n].url.replace("{id}",t):!1,e&&I.data(b.url,e),e}},set:{active:function(){I.addClass(g.active)}},remove:{active:function(){I.removeClass(g.active)},embed:function(){R.empty()}},encode:{parameters:function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&amp;")}},generate:{embed:function(e){h.debug("Generating embed html");var t,n,i=h.get.source();return e=h.get.url(e),e?(n=h.generate.parameters(i),t=T.iframe(e,n)):h.error(v.noURL,I),t},parameters:function(t,n){var o=p[t]&&p[t].parameters!==i?p[t].parameters(f):{};return n=n||f.parameters,n&&(o=e.extend({},o,n)),o=f.onEmbed(o),h.encode.parameters(o)}},has:{placeholder:function(){return f.placeholder||I.data(b.placeholder)}},should:{autoplay:function(){return"auto"===f.autoplay?f.placeholder||I.data(b.placeholder)!==i:f.autoplay}},is:{video:function(){return"video"==h.get.type()}},setting:function(t,n){if(h.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:_,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=k;return n=n||d,a=_||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(h.error(v.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(k===i&&h.initialize(),h.invoke(c)):(k!==i&&k.invoke("destroy"),h.initialize())}),o!==i?o:this},e.fn.embed.settings={name:"Embed",namespace:"embed",debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.colors||i,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.colors||i,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,t){return'<iframe src="'+e+"?"+t+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,t){var n="";return t&&(n+='<i class="'+t+' icon"></i>'),e&&(n+='<img class="placeholder" src="'+e+'">'),n}},api:!0,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.form=function(t){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u=arguments[1],d="string"==typeof c,h=[].slice.call(arguments,1);return a.each(function(){var f,m,g,p,v,b,E,T,C,y,I,O,D,R,_,k,K,w,x=e(this),S=this,N=[],A=!1;w={initialize:function(){w.get.settings(),d?(K===i&&w.instantiate(),w.invoke(c)):(w.verbose("Initializing form validation",x,T),w.bindEvents(),w.set.defaults(),w.instantiate())},instantiate:function(){w.verbose("Storing instance of module",w),K=w,x.data(_,w)},destroy:function(){w.verbose("Destroying previous module",K),w.removeEvents(),x.removeData(_)},refresh:function(){w.verbose("Refreshing selector cache"),f=x.find(I.field),m=x.find(I.group),g=x.find(I.message),p=x.find(I.prompt),v=x.find(I.submit),b=x.find(I.clear),E=x.find(I.reset)},submit:function(){w.verbose("Submitting form",x),x.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click"+k,function(e){w[n](),e.preventDefault()})},bindEvents:function(){w.verbose("Attaching form events"),x.on("submit"+k,w.validate.form).on("blur"+k,I.field,w.event.field.blur).on("click"+k,I.submit,w.submit).on("click"+k,I.reset,w.reset).on("click"+k,I.clear,w.clear),T.keyboardShortcuts&&x.on("keydown"+k,I.field,w.event.field.keydown),f.each(function(){var t=e(this),n=t.prop("type"),i=w.get.changeEvent(n,t);e(this).on(i+k,w.event.field.change)})},clear:function(){f.each(function(){var t=e(this),n=t.parent(),i=t.closest(m),o=i.find(I.prompt),a=t.data(y.defaultValue)||"",r=n.is(I.uiCheckbox),s=n.is(I.uiDropdown),l=i.hasClass(O.error);l&&(w.verbose("Resetting error on field",i),i.removeClass(O.error),o.remove()),s?(w.verbose("Resetting dropdown value",n,a),n.dropdown("clear")):r?t.prop("checked",!1):(w.verbose("Resetting field value",t,a),t.val(""))})},reset:function(){f.each(function(){var t=e(this),n=t.parent(),o=t.closest(m),a=o.find(I.prompt),r=t.data(y.defaultValue),s=n.is(I.uiCheckbox),l=n.is(I.uiDropdown),c=o.hasClass(O.error);r!==i&&(c&&(w.verbose("Resetting error on field",o),o.removeClass(O.error),a.remove()),l?(w.verbose("Resetting dropdown value",n,r),n.dropdown("restore defaults")):s?(w.verbose("Resetting checkbox value",n,r),t.prop("checked",r)):(w.verbose("Resetting field value",t,r),t.val(r)))})},is:{bracketedRule:function(e){return e.type&&e.type.match(T.regExp.bracket)},valid:function(){var t=!0;return w.verbose("Checking if form is valid"),e.each(C,function(e,n){w.validate.field(n,e)||(t=!1)}),t}},removeEvents:function(){x.off(k),f.off(k),v.off(k),f.off(k)},event:{field:{keydown:function(t){var n=e(this),i=t.which,o={enter:13,escape:27};i==o.escape&&(w.verbose("Escape key pressed blurring field"),n.blur()),!t.ctrlKey&&i==o.enter&&n.is(I.input)&&n.not(I.checkbox).length>0&&(A||(n.one("keyup"+k,w.event.field.keyup),w.submit(),w.debug("Enter pressed on input submitting form")),A=!0)},keyup:function(){A=!1},blur:function(t){var n=e(this),i=n.closest(m),o=w.get.validation(n);i.hasClass(O.error)?(w.debug("Revalidating field",n,o),w.validate.form.call(w,t,!0)):("blur"==T.on||"change"==T.on)&&o&&w.validate.field(o)},change:function(t){var n=e(this),i=n.closest(m);("change"==T.on||i.hasClass(O.error)&&T.revalidate)&&(clearTimeout(w.timer),w.timer=setTimeout(function(){w.debug("Revalidating field",n,w.get.validation(n)),w.validate.form.call(w,t,!0)},T.delay))}}},get:{ancillaryValue:function(e){return e.type&&w.is.bracketedRule(e)?e.type.match(T.regExp.bracket)[1]+"":!1},ruleName:function(e){return w.is.bracketedRule(e)?e.type.replace(e.type.match(T.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":w.get.inputEvent()},inputEvent:function(){return n.createElement("input").oninput!==i?"input":n.createElement("input").onpropertychange!==i?"propertychange":"keyup"},prompt:function(e,t){var n,i,o,a=w.get.ruleName(e),r=w.get.ancillaryValue(e),s=e.prompt||T.prompt[a]||T.text.unspecifiedRule,l=-1!==s.search("{value}"),c=-1!==s.search("{name}");return(c||l)&&(i=w.get.field(t.identifier)),l&&(s=s.replace("{value}",i.val())),c&&(n=i.closest(I.group).find("label").eq(0),o=1==n.size()?n.text():i.prop("placeholder")||T.text.unspecifiedField,s=s.replace("{name}",o)),s=s.replace("{identifier}",t.identifier),s=s.replace("{ruleValue}",r),e.prompt||w.verbose("Using default validation prompt for type",s,a),s},settings:function(){if(e.isPlainObject(t)){var n,o=Object.keys(t),a=o.length>0?t[o[0]].identifier!==i&&t[o[0]].rules!==i:!1;a?(T=e.extend(!0,{},e.fn.form.settings,u),C=e.extend({},e.fn.form.settings.defaults,t),w.error(T.error.oldSyntax,S),w.verbose("Extending settings from legacy parameters",C,T)):(t.fields&&(n=Object.keys(t.fields),("string"==typeof t.fields[n[0]]||e.isArray(t.fields[n[0]]))&&e.each(t.fields,function(n,i){"string"==typeof i&&(i=[i]),t.fields[n]={rules:[]},e.each(i,function(e,i){t.fields[n].rules.push({type:i})})})),T=e.extend(!0,{},e.fn.form.settings,t),C=e.extend({},e.fn.form.settings.defaults,T.fields),w.verbose("Extending settings",C,T))}else T=e.fn.form.settings,C=e.fn.form.settings.defaults,w.verbose("Using default form validation",C,T);R=T.namespace,y=T.metadata,I=T.selector,O=T.className,D=T.error,_="module-"+R,k="."+R,K=x.data(_),w.refresh()},field:function(t){return w.verbose("Finding field with identifier",t),f.filter("#"+t).length>0?f.filter("#"+t):f.filter('[name="'+t+'"]').length>0?f.filter('[name="'+t+'"]'):f.filter('[name="'+t+'[]"]').length>0?f.filter('[name="'+t+'[]"]'):f.filter("[data-"+y.validate+'="'+t+'"]').length>0?f.filter("[data-"+y.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(w.get.field(t))}),n},validation:function(t){var n,i;return C?(e.each(C,function(e,o){i=o.identifier||e,w.get.field(i)[0]==t[0]&&(o.identifier=i,n=o)}),n||!1):!1},value:function(e){var t,n=[];return n.push(e),t=w.get.values.call(S,n),t[e]},values:function(t){var n=e.isArray(t)?w.get.fields(t):f,i={};return n.each(function(t,n){var o=e(n),a=(o.prop("type"),o.prop("name")),r=o.val(),s=o.is(I.checkbox),l=o.is(I.radio),c=-1!==a.indexOf("[]"),u=s?o.is(":checked"):!1;a&&(c?(a=a.replace("[]",""),i[a]||(i[a]=[]),s?u?i[a].push(r||!0):i[a].push(!1):i[a].push(r)):l?u&&(i[a]=r):s?u?i[a]=r||!0:i[a]=!1:i[a]=r)}),i}},has:{field:function(e){return w.verbose("Checking for existence of a field with identifier",e),"string"!=typeof e&&w.error(D.identifier,e),f.filter("#"+e).length>0?!0:f.filter('[name="'+e+'"]').length>0?!0:f.filter("[data-"+y.validate+'="'+e+'"]').length>0?!0:!1}},add:{prompt:function(t,n){var o=w.get.field(t),a=o.closest(m),r=a.children(I.prompt),s=0!==r.length;n="string"==typeof n?[n]:n,w.verbose("Adding field error state",t),a.addClass(O.error),T.inline&&(s||(r=T.templates.prompt(n),r.appendTo(a)),r.html(n[0]),s?w.verbose("Inline errors are disabled, no inline error added",t):T.transition&&e.fn.transition!==i&&x.transition("is supported")?(w.verbose("Displaying error with css transition",T.transition),r.transition(T.transition+" in",T.duration)):(w.verbose("Displaying error with fallback javascript animation"),r.fadeIn(T.duration)))},errors:function(e){w.debug("Adding form error messages",e),w.set.error(),g.html(T.templates.error(e))}},remove:{prompt:function(t){var n=w.get.field(t),o=n.closest(m),a=o.children(I.prompt);o.removeClass(O.error),T.inline&&a.is(":visible")&&(w.verbose("Removing prompt for field",t),T.transition&&e.fn.transition!==i&&x.transition("is supported")?a.transition(T.transition+" out",T.duration,function(){a.remove()}):a.fadeOut(T.duration,function(){a.remove()}))}},set:{success:function(){x.removeClass(O.error).addClass(O.success)},defaults:function(){f.each(function(){var t=e(this),n=t.filter(I.checkbox).length>0,i=n?t.is(":checked"):t.val();t.data(y.defaultValue,i)})},error:function(){x.removeClass(O.success).addClass(O.error)},value:function(e,t){var n={};return n[e]=t,w.set.values.call(S,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var i,o=w.get.field(t),a=o.parent(),r=e.isArray(n),s=a.is(I.uiCheckbox),l=a.is(I.uiDropdown),c=o.is(I.radio)&&s,u=o.length>0;u&&(r&&s?(w.verbose("Selecting multiple",n,o),a.checkbox("uncheck"),e.each(n,function(e,t){i=o.filter('[value="'+t+'"]'),a=i.parent(),i.length>0&&a.checkbox("check")})):c?(w.verbose("Selecting radio value",n,o),o.filter('[value="'+n+'"]').parent(I.uiCheckbox).checkbox("check")):s?(w.verbose("Setting checkbox value",n,a),n===!0?a.checkbox("check"):a.checkbox("uncheck")):l?(w.verbose("Setting dropdown value",n,a),a.dropdown("set selected",n)):(w.verbose("Setting field value",n,o),o.val(n)))})}},validate:{form:function(e,t){var n=w.get.values();if(A)return!1;if(N=[],w.is.valid()){if(w.debug("Form has no validation errors, submitting"),w.set.success(),t!==!0)return T.onSuccess.call(S,e,n)}else if(w.debug("Form has errors"),w.set.error(),T.inline||w.add.errors(N),x.data("moduleApi")!==i&&e.stopImmediatePropagation(),t!==!0)return T.onFailure.call(S,N,n)},field:function(t,n){var o=t.identifier||n,a=w.get.field(o),r=!0,s=[];return t.identifier||(w.debug("Using field name as identifier",o),t.identifier=o),a.prop("disabled")?(w.debug("Field is disabled. Skipping",o),r=!0):t.optional&&""===e.trim(a.val())?(w.debug("Field is optional and empty. Skipping",o),r=!0):t.rules!==i&&e.each(t.rules,function(e,n){w.has.field(o)&&!w.validate.rule(t,n)&&(w.debug("Field is invalid",o,n.type),s.push(w.get.prompt(n,t)),r=!1)}),r?(w.remove.prompt(o,s),T.onValid.call(a),!0):(N=N.concat(s),w.add.prompt(o,s),T.onInvalid.call(a,s),!1)},rule:function(t,n){var o=w.get.field(t.identifier),a=(n.type,o.val()),r=w.get.ancillaryValue(n),s=w.get.ruleName(n),l=T.rules[s];return e.isFunction(l)?(a=a===i||""===a||null===a?"":e.trim(a+""),l.call(o,a,r)):void w.error(D.noRule,s)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];T[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},debug:function(){T.debug&&(T.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,T.name+":"),w.debug.apply(console,arguments)))},verbose:function(){T.verbose&&T.debug&&(T.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,T.name+":"),w.verbose.apply(console,arguments)))},error:function(){w.error=Function.prototype.bind.call(console.error,console,T.name+":"),w.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;T.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=T.name+":",n=0;s=!1,clearTimeout(w.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=K;return n=n||h,a=S||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},w.initialize()}),o!==i?o:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(t===i||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){var n=new RegExp(e.fn.form.settings.regExp.email,"i");return n.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){var i,o=n.match(e.fn.form.settings.regExp.flags);return o&&(n=o.length>=2?o[1]:n,i=o.length>=3?o[2]:""),t.match(new RegExp(n,i))},integer:function(t,n){var o,a,r,s=e.fn.form.settings.regExp.integer;return n&&-1===["",".."].indexOf(n)&&(-1==n.indexOf("..")?s.test(n)&&(o=a=n-0):(r=n.split("..",2),s.test(r[0])&&(o=r[0]-0),s.test(r[1])&&(a=r[1]-0))),s.test(t)&&(o===i||t>=o)&&(a===i||a>=t)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,e="string"==typeof e?e.toLowerCase():e,e==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n,"i"))},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n))},doesntContain:function(t,n){
return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n,"i"))},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n))},minLength:function(e,t){return e!==i?e.length>=t:!1},length:function(e,t){return e!==i?e.length>=t:!1},exactLength:function(e,t){return e!==i?e.length==t:!1},maxLength:function(e,t){return e!==i?e.length<=t:!1},match:function(t,n){var o;e(this);return e('[data-validate="'+n+'"]').length>0?o=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?o=e("#"+n).val():e('[name="'+n+'"]').length>0?o=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(o=e('[name="'+n+'[]"]')),o!==i?t.toString()==o.toString():!1},different:function(t,n){var o;e(this);return e('[data-validate="'+n+'"]').length>0?o=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?o=e("#"+n).val():e('[name="'+n+'"]').length>0?o=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(o=e('[name="'+n+'[]"]')),o!==i?t.toString()!==o.toString():!1},creditCard:function(t,n){var i,o,a={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},r={},s=!1,l="string"==typeof n?n.split(","):!1;if("string"==typeof t&&0!==t.length){if(l&&(e.each(l,function(n,i){o=a[i],o&&(r={length:-1!==e.inArray(t.length,o.length),pattern:-1!==t.search(o.pattern)},r.length&&r.pattern&&(s=!0))}),!s))return!1;if(i={number:-1!==e.inArray(t.length,a.unionPay.length),pattern:-1!==t.search(a.unionPay.pattern)},i.number&&i.pattern)return!0;for(var c=t.length,u=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],h=0;c--;)h+=d[u][parseInt(t.charAt(c),10)],u^=1;return h%10===0&&h>0}},minCount:function(e,t){return 0==t?!0:1==t?""!==e:e.split(",").length>=t},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},maxCount:function(e,t){return 0==t?!1:1==t?-1===e.search(","):e.split(",").length<=t}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.state=function(t){var o,a=e(this),r=a.selector||"",s=("ontouchstart"in n.documentElement,(new Date).getTime()),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var n,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),f=h.error,m=h.metadata,g=h.className,p=h.namespace,v=h.states,b=h.text,E="."+p,T=p+"-module",C=e(this),y=this,I=C.data(T);n={initialize:function(){n.verbose("Initializing module"),h.automatic&&n.add.defaults(),h.context&&""!==r?e(h.context).on(r,"mouseenter"+E,n.change.text).on(r,"mouseleave"+E,n.reset.text).on(r,"click"+E,n.toggle.state):C.on("mouseenter"+E,n.change.text).on("mouseleave"+E,n.reset.text).on("click"+E,n.toggle.state),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),I=n,C.data(T,n)},destroy:function(){n.verbose("Destroying previous module",I),C.off(E).removeData(T)},refresh:function(){n.verbose("Refreshing selector cache"),C=e(y)},add:{defaults:function(){var o=t&&e.isPlainObject(t.states)?t.states:{};e.each(h.defaults,function(t,a){n.is[t]!==i&&n.is[t]()&&(n.verbose("Adding default states",t,y),e.extend(h.states,a,o))})}},is:{active:function(){return C.hasClass(g.active)},loading:function(){return C.hasClass(g.loading)},inactive:function(){return!C.hasClass(g.active)},state:function(e){return g[e]===i?!1:C.hasClass(g[e])},enabled:function(){return!C.is(h.filter.active)},disabled:function(){return C.is(h.filter.active)},textEnabled:function(){return!C.is(h.filter.text)},button:function(){return C.is(".button:not(a, .submit)")},input:function(){return C.is("input")},progress:function(){return C.is(".ui.progress")}},allow:function(e){n.debug("Now allowing state",e),v[e]=!0},disallow:function(e){n.debug("No longer allowing",e),v[e]=!1},allows:function(e){return v[e]||!1},enable:function(){C.removeClass(g.disabled)},disable:function(){C.addClass(g.disabled)},setState:function(e){n.allows(e)&&C.addClass(g[e])},removeState:function(e){n.allows(e)&&C.removeClass(g[e])},toggle:{state:function(){var t,o;if(n.allows("active")&&n.is.enabled()){if(n.refresh(),e.fn.api!==i)if(t=C.api("get request"),o=C.api("was cancelled"))n.debug("API Request cancelled by beforesend"),h.activateTest=function(){return!1},h.deactivateTest=function(){return!1};else if(t)return void n.listenTo(t);n.change.state()}}},listenTo:function(t){n.debug("API request detected, waiting for state signal",t),t&&(b.loading&&n.update.text(b.loading),e.when(t).then(function(){"resolved"==t.state()?(n.debug("API request succeeded"),h.activateTest=function(){return!0},h.deactivateTest=function(){return!0}):(n.debug("API request failed"),h.activateTest=function(){return!1},h.deactivateTest=function(){return!1}),n.change.state()}))},change:{state:function(){n.debug("Determining state change direction"),n.is.inactive()?n.activate():n.deactivate(),h.sync&&n.sync(),h.onChange.call(y)},text:function(){n.is.textEnabled()&&(n.is.disabled()?(n.verbose("Changing text to disabled text",b.hover),n.update.text(b.disabled)):n.is.active()?b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.deactivate&&(n.verbose("Changing text to deactivating text",b.deactivate),n.update.text(b.deactivate)):b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.activate&&(n.verbose("Changing text to activating text",b.activate),n.update.text(b.activate)))}},activate:function(){h.activateTest.call(y)&&(n.debug("Setting state to active"),C.addClass(g.active),n.update.text(b.active),h.onActivate.call(y))},deactivate:function(){h.deactivateTest.call(y)&&(n.debug("Setting state to inactive"),C.removeClass(g.active),n.update.text(b.inactive),h.onDeactivate.call(y))},sync:function(){n.verbose("Syncing other buttons to current state"),n.is.active()?a.not(C).state("activate"):a.not(C).state("deactivate")},get:{text:function(){return h.selector.text?C.find(h.selector.text).text():C.html()},textFor:function(e){return b[e]||!1}},flash:{text:function(e,t,i){var o=n.get.text();n.debug("Flashing text message",e,t),e=e||h.text.flash,t=t||h.flashDuration,i=i||function(){},n.update.text(e),setTimeout(function(){n.update.text(o),i.call(y)},t)}},reset:{text:function(){var e=b.active||C.data(m.storedText),t=b.inactive||C.data(m.storedText);n.is.textEnabled()&&(n.is.active()&&e?(n.verbose("Resetting active text",e),n.update.text(e)):t&&(n.verbose("Resetting inactive text",e),n.update.text(t)))}},update:{text:function(e){var t=n.get.text();e&&e!==t?(n.debug("Updating text",e),h.selector.text?C.data(m.storedText,e).find(h.selector.text).text(e):C.data(m.storedText,e).html(e)):n.debug("Text is already set, ignoring update",e)}},setting:function(t,o){if(n.debug("Changing setting",t,o),e.isPlainObject(t))e.extend(!0,h,t);else{if(o===i)return h[t];h[t]=o}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},debug:function(){h.debug&&(h.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,h.name+":"),n.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,h.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;h.performance&&(t=(new Date).getTime(),o=s||t,i=t-o,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var t=h.name+":",o=0;s=!1,clearTimeout(n.performance.timer),e.each(l,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,a,r){var s,l,c,u=I;return a=a||d,r=y||r,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(o,a){var r=o!=s?a+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(u[r])&&o!=s)u=u[r];else{if(u[r]!==i)return l=u[r],!1;if(!e.isPlainObject(u[a])||o==s)return u[a]!==i?(l=u[a],!1):(n.error(f.method,t),!1);u=u[a]}})),e.isFunction(l)?c=l.apply(r,a):l!==i&&(c=l),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),l}},u?(I===i&&n.initialize(),n.invoke(c)):(I!==i&&I.invoke("destroy"),n.initialize())}),o!==i?o:this},e.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.visibility=function(o){var a,r=e(this),s=r.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,h=[].slice.call(arguments,1);return r.each(function(){var r,f,m,g=e.isPlainObject(o)?e.extend(!0,{},e.fn.visibility.settings,o):e.extend({},e.fn.visibility.settings),p=g.className,v=g.namespace,b=g.error,E=g.metadata,T="."+v,C="module-"+v,y=e(t),I=e(this),O=e(g.context),D=(I.selector||"",I.data(C)),R=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},_=this,k=!1;m={initialize:function(){m.debug("Initializing",g),m.setup.cache(),m.should.trackChanges()&&("image"==g.type&&m.setup.image(),"fixed"==g.type&&m.setup.fixed(),g.observeChanges&&m.observeChanges(),m.bind.events()),m.save.position(),m.is.visible()||m.error(b.visible,I),g.initialCheck&&m.checkVisibility(),m.instantiate()},instantiate:function(){m.debug("Storing instance",m),I.data(C,m),D=m},destroy:function(){m.verbose("Destroying previous module"),f&&f.disconnect(),y.off("load"+T,m.event.load).off("resize"+T,m.event.resize),O.off("scrollchange"+T,m.event.scrollchange),I.off(T).removeData(C)},observeChanges:function(){"MutationObserver"in t&&(f=new MutationObserver(function(e){m.verbose("DOM tree modified, updating visibility calculations"),m.timer=setTimeout(function(){m.verbose("DOM tree modified, updating sticky menu"),m.refresh()},100)}),f.observe(_,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",f))},bind:{events:function(){m.verbose("Binding visibility events to scroll and resize"),g.refreshOnLoad&&y.on("load"+T,m.event.load),y.on("resize"+T,m.event.resize),O.off("scroll"+T).on("scroll"+T,m.event.scroll).on("scrollchange"+T,m.event.scrollchange)}},event:{resize:function(){m.debug("Window resized"),g.refreshOnResize&&R(m.refresh)},load:function(){m.debug("Page finished loading"),R(m.refresh)},scroll:function(){g.throttle?(clearTimeout(m.timer),m.timer=setTimeout(function(){O.triggerHandler("scrollchange"+T,[O.scrollTop()])},g.throttle)):R(function(){O.triggerHandler("scrollchange"+T,[O.scrollTop()])})},scrollchange:function(e,t){m.checkVisibility(t)}},precache:function(t,i){t instanceof Array||(t=[t]);for(var o=t.length,a=0,r=[],s=n.createElement("img"),l=function(){a++,a>=t.length&&e.isFunction(i)&&i()};o--;)s=n.createElement("img"),s.onload=l,s.onerror=l,s.src=t[o],r.push(s)},enableCallbacks:function(){m.debug("Allowing callbacks to occur"),k=!1},disableCallbacks:function(){m.debug("Disabling all callbacks temporarily"),k=!0},should:{trackChanges:function(){return d?(m.debug("One time query, no need to bind events"),!1):(m.debug("Callbacks being attached"),!0)}},setup:{cache:function(){m.cache={occurred:{},screen:{},element:{}}},image:function(){var e=I.data(E.src);e&&(m.verbose("Lazy loading image",e),g.once=!0,g.observeChanges=!1,g.onOnScreen=function(){m.debug("Image on screen",_),m.precache(e,function(){m.set.image(e)})})},fixed:function(){m.debug("Setting up fixed"),g.once=!1,g.observeChanges=!1,g.initialCheck=!0,g.refreshOnLoad=!0,o.transition||(g.transition=!1),m.create.placeholder(),m.debug("Added placeholder",r),g.onTopPassed=function(){m.debug("Element passed, adding fixed position",I),m.show.placeholder(),m.set.fixed(),g.transition&&e.fn.transition!==i&&I.transition(g.transition,g.duration)},g.onTopPassedReverse=function(){m.debug("Element returned to position, removing fixed",I),m.hide.placeholder(),m.remove.fixed()}}},create:{placeholder:function(){m.verbose("Creating fixed position placeholder"),r=I.clone(!1).css("display","none").addClass(p.placeholder).insertAfter(I)}},show:{placeholder:function(){m.verbose("Showing placeholder"),r.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){m.verbose("Hiding placeholder"),r.css("display","none").css("visibility","")}},set:{fixed:function(){m.verbose("Setting element to fixed position"),I.addClass(p.fixed).css({position:"fixed",top:g.offset+"px",left:"auto",zIndex:"1"})},image:function(t){I.attr("src",t),g.transition?e.fn.transition!==i?I.transition(g.transition,g.duration):I.fadeIn(g.duration):I.show()}},is:{onScreen:function(){var e=m.get.elementCalculations();return e.onScreen},offScreen:function(){var e=m.get.elementCalculations();return e.offScreen},visible:function(){return m.cache&&m.cache.element?!(0===m.cache.element.width&&0===m.cache.element.offset.top):!1}},refresh:function(){m.debug("Refreshing constants (width/height)"),"fixed"==g.type&&(m.remove.fixed(),m.remove.occurred()),m.reset(),m.save.position(),g.checkOnRefresh&&m.checkVisibility(),g.onRefresh.call(_)},reset:function(){m.verbose("Reseting all cached values"),e.isPlainObject(m.cache)&&(m.cache.screen={},m.cache.element={})},checkVisibility:function(e){m.verbose("Checking visibility of element",m.cache.element),!k&&m.is.visible()&&(m.save.scroll(e),m.save.calculations(),m.passed(),m.passingReverse(),m.topVisibleReverse(),m.bottomVisibleReverse(),m.topPassedReverse(),m.bottomPassedReverse(),m.onScreen(),m.offScreen(),m.passing(),m.topVisible(),m.bottomVisible(),m.topPassed(),m.bottomPassed(),g.onUpdate&&g.onUpdate.call(_,m.get.elementCalculations()))},passed:function(t,n){var o=m.get.elementCalculations();if(t&&n)g.onPassed[t]=n;else{if(t!==i)return m.get.pixelsPassed(t)>o.pixelsPassed;o.passing&&e.each(g.onPassed,function(e,t){o.bottomVisible||o.pixelsPassed>m.get.pixelsPassed(e)?m.execute(t,e):g.once||m.remove.occurred(t)})}},onScreen:function(e){var t=m.get.elementCalculations(),n=e||g.onOnScreen,o="onScreen";return e&&(m.debug("Adding callback for onScreen",e),g.onOnScreen=e),t.onScreen?m.execute(n,o):g.once||m.remove.occurred(o),e!==i?t.onOnScreen:void 0},offScreen:function(e){var t=m.get.elementCalculations(),n=e||g.onOffScreen,o="offScreen";return e&&(m.debug("Adding callback for offScreen",e),g.onOffScreen=e),t.offScreen?m.execute(n,o):g.once||m.remove.occurred(o),e!==i?t.onOffScreen:void 0},passing:function(e){var t=m.get.elementCalculations(),n=e||g.onPassing,o="passing";return e&&(m.debug("Adding callback for passing",e),g.onPassing=e),t.passing?m.execute(n,o):g.once||m.remove.occurred(o),e!==i?t.passing:void 0},topVisible:function(e){var t=m.get.elementCalculations(),n=e||g.onTopVisible,o="topVisible";return e&&(m.debug("Adding callback for top visible",e),g.onTopVisible=e),t.topVisible?m.execute(n,o):g.once||m.remove.occurred(o),e===i?t.topVisible:void 0},bottomVisible:function(e){var t=m.get.elementCalculations(),n=e||g.onBottomVisible,o="bottomVisible";return e&&(m.debug("Adding callback for bottom visible",e),g.onBottomVisible=e),t.bottomVisible?m.execute(n,o):g.once||m.remove.occurred(o),e===i?t.bottomVisible:void 0},topPassed:function(e){var t=m.get.elementCalculations(),n=e||g.onTopPassed,o="topPassed";return e&&(m.debug("Adding callback for top passed",e),g.onTopPassed=e),t.topPassed?m.execute(n,o):g.once||m.remove.occurred(o),e===i?t.topPassed:void 0},bottomPassed:function(e){var t=m.get.elementCalculations(),n=e||g.onBottomPassed,o="bottomPassed";return e&&(m.debug("Adding callback for bottom passed",e),g.onBottomPassed=e),t.bottomPassed?m.execute(n,o):g.once||m.remove.occurred(o),e===i?t.bottomPassed:void 0},passingReverse:function(e){var t=m.get.elementCalculations(),n=e||g.onPassingReverse,o="passingReverse";return e&&(m.debug("Adding callback for passing reverse",e),g.onPassingReverse=e),t.passing?g.once||m.remove.occurred(o):m.get.occurred("passing")&&m.execute(n,o),e!==i?!t.passing:void 0},topVisibleReverse:function(e){var t=m.get.elementCalculations(),n=e||g.onTopVisibleReverse,o="topVisibleReverse";return e&&(m.debug("Adding callback for top visible reverse",e),g.onTopVisibleReverse=e),t.topVisible?g.once||m.remove.occurred(o):m.get.occurred("topVisible")&&m.execute(n,o),e===i?!t.topVisible:void 0},bottomVisibleReverse:function(e){var t=m.get.elementCalculations(),n=e||g.onBottomVisibleReverse,o="bottomVisibleReverse";return e&&(m.debug("Adding callback for bottom visible reverse",e),g.onBottomVisibleReverse=e),t.bottomVisible?g.once||m.remove.occurred(o):m.get.occurred("bottomVisible")&&m.execute(n,o),e===i?!t.bottomVisible:void 0},topPassedReverse:function(e){var t=m.get.elementCalculations(),n=e||g.onTopPassedReverse,o="topPassedReverse";return e&&(m.debug("Adding callback for top passed reverse",e),g.onTopPassedReverse=e),t.topPassed?g.once||m.remove.occurred(o):m.get.occurred("topPassed")&&m.execute(n,o),e===i?!t.onTopPassed:void 0},bottomPassedReverse:function(e){var t=m.get.elementCalculations(),n=e||g.onBottomPassedReverse,o="bottomPassedReverse";return e&&(m.debug("Adding callback for bottom passed reverse",e),g.onBottomPassedReverse=e),t.bottomPassed?g.once||m.remove.occurred(o):m.get.occurred("bottomPassed")&&m.execute(n,o),e===i?!t.bottomPassed:void 0},execute:function(e,t){var n=m.get.elementCalculations(),i=m.get.screenCalculations();e=e||!1,e&&(g.continuous?(m.debug("Callback being called continuously",t,n),e.call(_,n,i)):m.get.occurred(t)||(m.debug("Conditions met",t,n),e.call(_,n,i))),m.save.occurred(t)},remove:{fixed:function(){m.debug("Removing fixed position"),I.removeClass(p.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(e){if(e){var t=m.cache.occurred;t[e]!==i&&t[e]===!0&&(m.debug("Callback can now be called again",e),m.cache.occurred[e]=!1)}else m.cache.occurred={}}},save:{calculations:function(){m.verbose("Saving all calculations necessary to determine positioning"),m.save.direction(),m.save.screenCalculations(),m.save.elementCalculations()},occurred:function(e){e&&(m.cache.occurred[e]===i||m.cache.occurred[e]!==!0)&&(m.verbose("Saving callback occurred",e),m.cache.occurred[e]=!0)},scroll:function(e){e=e+g.offset||O.scrollTop()+g.offset,m.cache.scroll=e},direction:function(){var e,t=m.get.scroll(),n=m.get.lastScroll();return e=t>n&&n?"down":n>t&&n?"up":"static",m.cache.direction=e,m.cache.direction},elementPosition:function(){var e=m.cache.element,t=m.get.screenSize();return m.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=I.offset(),e.width=I.outerWidth(),e.height=I.outerHeight(),m.cache.element=e,e},elementCalculations:function(){var e=m.get.screenCalculations(),t=m.get.elementPosition();return g.includeMargin?(t.margin={},t.margin.top=parseInt(I.css("margin-top"),10),t.margin.bottom=parseInt(I.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),m.cache.element=t,m.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=m.get.scroll();return m.save.direction(),m.cache.screen.top=e,m.cache.screen.bottom=e+m.cache.screen.height,m.cache.screen},screenSize:function(){m.verbose("Saving window position"),m.cache.screen={height:O.height()}},position:function(){m.save.screenSize(),m.save.elementPosition()}},get:{pixelsPassed:function(e){var t=m.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return m.cache.occurred!==i?m.cache.occurred[e]||!1:!1},direction:function(){return m.cache.direction===i&&m.save.direction(),m.cache.direction},elementPosition:function(){return m.cache.element===i&&m.save.elementPosition(),m.cache.element},elementCalculations:function(){return m.cache.element===i&&m.save.elementCalculations(),m.cache.element},screenCalculations:function(){return m.cache.screen===i&&m.save.screenCalculations(),m.cache.screen},screenSize:function(){return m.cache.screen===i&&m.save.screenSize(),m.cache.screen},scroll:function(){return m.cache.scroll===i&&m.save.scroll(),m.cache.scroll},lastScroll:function(){return m.cache.screen===i?(m.debug("First scroll event, no last scroll could be found"),!1):m.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+":"),m.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,g.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:_,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=g.name+":",n=0;l=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=D;return n=n||h,o=_||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(m.error(b.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(D===i&&m.initialize(),D.save.scroll(),D.save.calculations(),m.invoke(u)):(D!==i&&D.invoke("destroy"),m.initialize())}),a!==i?a:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,throttle:!1,type:!1,transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.visit=e.fn.visit=function(n){var o,a=e(e.isFunction(this)?t:this),r=a.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var h,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.visit.settings,n):e.extend({},e.fn.visit.settings),m=f.error,g=f.namespace,p=g+"-module",v=e(this),b=e(),E=this,T=v.data(p);h={initialize:function(){f.count?h.store(f.key.count,f.count):f.id?h.add.id(f.id):f.increment&&"increment"!==u&&h.increment(),h.add.display(v),h.instantiate()},instantiate:function(){h.verbose("Storing instance of visit module",h),T=h,v.data(p,h)},destroy:function(){h.verbose("Destroying instance"),v.removeData(p)},increment:function(e){var t=h.get.count(),n=+t+1;e?h.add.id(e):(n>f.limit&&!f.surpass&&(n=f.limit),h.debug("Incrementing visits",n),h.store(f.key.count,n))},decrement:function(e){var t=h.get.count(),n=+t-1;e?h.remove.id(e):(h.debug("Removing visit"),h.store(f.key.count,n))},get:{count:function(){return+h.retrieve(f.key.count)||0},idCount:function(e){return e=e||h.get.ids(),e.length},ids:function(e){var t=[];return e=e||h.retrieve(f.key.ids),"string"==typeof e&&(t=e.split(f.delimiter)),h.verbose("Found visited ID list",t),t},storageOptions:function(e){var t={};return f.expires&&(t.expires=f.expires),f.domain&&(t.domain=f.domain),f.path&&(t.path=f.path),t}},has:{visited:function(t,n){var o=!1;return n=n||h.get.ids(),t!==i&&n&&e.each(n,function(e,n){n==t&&(o=!0)}),o}},set:{count:function(e){h.store(f.key.count,e)},ids:function(e){h.store(f.key.ids,e)}},reset:function(){h.store(f.key.count,0),h.store(f.key.ids,null)},add:{id:function(e){var t=h.retrieve(f.key.ids),n=t===i||""===t?e:t+f.delimiter+e;h.has.visited(e)?h.debug("Unique content already visited, not adding visit",e,t):e===i?h.debug("ID is not defined"):(h.debug("Adding visit to unique content",e),h.store(f.key.ids,n)),h.set.count(h.get.idCount())},display:function(t){var n=e(t);n.length>0&&!e.isWindow(n[0])&&(h.debug("Updating visit count for element",n),b=b.length>0?b.add(n):n)}},remove:{id:function(t){var n=h.get.ids(),o=[];t!==i&&n!==i&&(h.debug("Removing visit to unique content",t,n),e.each(n,function(e,n){n!==t&&o.push(n)}),o=o.join(f.delimiter),h.store(f.key.ids,o)),h.set.count(h.get.idCount())}},check:{limit:function(e){e=e||h.get.count(),f.limit&&(e>=f.limit&&(h.debug("Pages viewed exceeded limit, firing callback",e,f.limit),f.onLimit.call(E,e)),h.debug("Limit not reached",e,f.limit),f.onChange.call(E,e)),h.update.display(e)}},update:{display:function(e){e=e||h.get.count(),b.length>0&&(h.debug("Updating displayed view count",b),b.html(e))}},store:function(n,o){var a=h.get.storageOptions(o);if("localstorage"==f.storageMethod&&t.localStorage!==i)t.localStorage.setItem(n,o),h.debug("Value stored using local storage",n,o);else{if(e.cookie===i)return void h.error(m.noCookieStorage);e.cookie(n,o,a),h.debug("Value stored using cookie",n,o,a)}n==f.key.count&&h.check.limit(o)},retrieve:function(n,o){var a;return"localstorage"==f.storageMethod&&t.localStorage!==i?a=t.localStorage.getItem(n):e.cookie!==i?a=e.cookie(n):h.error(m.noCookieStorage),("undefined"==a||"null"==a||a===i||null===a)&&(a=i),a},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){return h.debug("Changing internal",t,n),n===i?h[t]:void(e.isPlainObject(t)?e.extend(!0,h,t):h[t]=n)},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=T;return n=n||d,a=E||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(T===i&&h.initialize(),h.invoke(c)):(T!==i&&T.invoke("destroy"),h.initialize())}),o!==i?o:this},e.fn.visit.settings={name:"Visit",debug:!1,verbose:!1,performance:!0,namespace:"visit",increment:!1,surpass:!1,count:!1,limit:!1,delimiter:"&",storageMethod:"localstorage",key:{count:"visit-count",ids:"visit-ids"},expires:30,domain:!1,path:"/",onLimit:function(){},onChange:function(){},error:{method:"The method you called is not defined",missingPersist:"Using the persist setting requires the inclusion of PersistJS",noCookieStorage:"The default storage cookie requires $.cookie to be included."}}}(jQuery,window,document),function(e,t,n,i){e.site=e.fn.site=function(o){var a,r,s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1),h=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),f=h.namespace,m=h.error,g="module-"+f,p=e(n),v=p,b=this,E=v.data(g);return a={initialize:function(){a.instantiate()},instantiate:function(){a.verbose("Storing instance of site",a),E=a,v.data(g,a)},normalize:function(){a.fix.console(),a.fix.requestAnimationFrame()},fix:{console:function(){a.debug("Normalizing window.console"),(console===i||console.log===i)&&(a.verbose("Console not available, normalizing events"),a.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(a.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(a.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){a.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){a.debug("Normalizing requestAnimationFrame"),t.requestAnimationFrame===i&&(a.debug("RequestAnimationFrame not available, normalizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==i&&e.fn[t].settings!==i},enabled:{modules:function(t){var n=[];return t=t||h.modules,e.each(t,function(e,t){a.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||h.modules,e.each(t,function(e,t){a.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,o,r){o="string"==typeof o?"all"===o?h.modules:[o]:o||h.modules,r=r!==i?r:!0,e.each(o,function(i,o){var s,l=a.moduleExists(o)?e.fn[o].settings.namespace||!1:!0;a.moduleExists(o)&&(a.verbose("Changing default setting",t,n,o),
e.fn[o].settings[t]=n,r&&l&&(s=e(":data(module-"+l+")"),s.length>0&&(a.verbose("Modifying existing settings",s),s[o]("setting",t,n))))})},settings:function(t,n,o){n="string"==typeof n?[n]:n||h.modules,o=o!==i?o:!0,e.each(n,function(n,i){var r;a.moduleExists(i)&&(a.verbose("Changing default setting",t,i),e.extend(!0,e.fn[i].settings,t),o&&f&&(r=e(":data(module-"+f+")"),r.length>0&&(a.verbose("Modifying existing settings",r),r[i]("setting",t))))})}},enable:{console:function(){a.console(!0)},debug:function(e,t){e=e||h.modules,a.debug("Enabling debug for modules",e),a.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||h.modules,a.debug("Enabling verbose debug for modules",e),a.change.setting("verbose",!0,e,t)}},disable:{console:function(){a.console(!1)},debug:function(e,t){e=e||h.modules,a.debug("Disabling debug for modules",e),a.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||h.modules,a.debug("Disabling verbose debug for modules",e),a.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(E.cache.console===i)return void a.error(m.console);a.debug("Restoring console function"),t.console=E.cache.console}else a.debug("Disabling console function"),E.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){a.verbose("Destroying previous site for",v),v.removeData(g)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},debug:function(){h.debug&&(h.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,h.name+":"),a.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,h.name+":"),a.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Element:b,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(a.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var s,l,c,u=E;return n=n||d,o=b||o,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[r])&&n!=s)u=u[r];else{if(u[r]!==i)return l=u[r],!1;if(!e.isPlainObject(u[o])||n==s)return u[o]!==i?(l=u[o],!1):(a.error(m.method,t),!1);u=u[o]}})),e.isFunction(l)?c=l.apply(o,n):l!==i&&(c=l),e.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),l}},u?(E===i&&a.initialize(),a.invoke(c)):(E!==i&&a.destroy(),a.initialize()),r!==i?r:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.accordion=function(n){var o,a=e(this),r=(new Date).getTime(),s=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(){var d,h,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.accordion.settings,n):e.extend({},e.fn.accordion.settings),m=f.className,g=f.namespace,p=f.selector,v=f.error,b="."+g,E="module-"+g,T=a.selector||"",C=e(this),y=C.find(p.title),I=C.find(p.content),O=this,D=C.data(E);h={initialize:function(){h.debug("Initializing",C),h.bind.events(),f.observeChanges&&h.observeChanges(),h.instantiate()},instantiate:function(){D=h,C.data(E,h)},destroy:function(){h.debug("Destroying previous instance",C),C.off(b).removeData(E)},refresh:function(){y=C.find(p.title),I=C.find(p.content)},observeChanges:function(){"MutationObserver"in t&&(d=new MutationObserver(function(e){h.debug("DOM tree modified, updating selector cache"),h.refresh()}),d.observe(O,{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",d))},bind:{events:function(){h.debug("Binding delegated events"),C.on(f.on+b,p.trigger,h.event.click)}},event:{click:function(){h.toggle.call(this)}},toggle:function(t){var n=t!==i?"number"==typeof t?y.eq(t):e(t).closest(p.title):e(this).closest(p.title),o=n.next(I),a=o.hasClass(m.animating),r=o.hasClass(m.active),s=r&&!a,l=!r&&a;h.debug("Toggling visibility of content",n),s||l?f.collapsible?h.close.call(n):h.debug("Cannot close accordion content collapsing is disabled"):h.open.call(n)},open:function(t){var n=t!==i?"number"==typeof t?y.eq(t):e(t).closest(p.title):e(this).closest(p.title),o=n.next(I),a=o.hasClass(m.animating),r=o.hasClass(m.active),s=r||a;return s?void h.debug("Accordion already open, skipping",o):(h.debug("Opening accordion content",n),f.onOpening.call(o),f.exclusive&&h.closeOthers.call(n),n.addClass(m.active),o.stop(!0,!0).addClass(m.animating),f.animateChildren&&(e.fn.transition!==i&&C.transition("is supported")?o.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):o.children().stop(!0,!0).animate({opacity:1},f.duration,h.resetOpacity)),void o.slideDown(f.duration,f.easing,function(){o.removeClass(m.animating).addClass(m.active),h.reset.display.call(this),f.onOpen.call(this),f.onChange.call(this)}))},close:function(t){var n=t!==i?"number"==typeof t?y.eq(t):e(t).closest(p.title):e(this).closest(p.title),o=n.next(I),a=o.hasClass(m.animating),r=o.hasClass(m.active),s=!r&&a,l=r&&a;!r&&!s||l||(h.debug("Closing accordion content",o),f.onClosing.call(o),n.removeClass(m.active),o.stop(!0,!0).addClass(m.animating),f.animateChildren&&(e.fn.transition!==i&&C.transition("is supported")?o.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):o.children().stop(!0,!0).animate({opacity:0},f.duration,h.resetOpacity)),o.slideUp(f.duration,f.easing,function(){o.removeClass(m.animating).removeClass(m.active),h.reset.display.call(this),f.onClose.call(this),f.onChange.call(this)}))},closeOthers:function(t){var n,o,a,r=t!==i?y.eq(t):e(this).closest(p.title),s=r.parents(p.content).prev(p.title),l=r.closest(p.accordion),c=p.title+"."+m.active+":visible",u=p.content+"."+m.active+":visible";f.closeNested?(n=l.find(c).not(s),a=n.next(I)):(n=l.find(c).not(s),o=l.find(u).find(c).not(s),n=n.not(o),a=n.next(I)),n.length>0&&(h.debug("Exclusive enabled, closing other content",n),n.removeClass(m.active),a.removeClass(m.animating).stop(!0,!0),f.animateChildren&&(e.fn.transition!==i&&C.transition("is supported")?a.children().transition({animation:"fade out",useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):a.children().stop(!0,!0).animate({opacity:0},f.duration,h.resetOpacity)),a.slideUp(f.duration,f.easing,function(){e(this).removeClass(m.active),h.reset.display.call(this)}))},reset:{display:function(){h.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){h.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(t,n){if(h.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){return h.debug("Changing internal",t,n),n===i?h[t]:void(e.isPlainObject(t)?e.extend(!0,h,t):h[t]=n)},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=f.name+":",n=0;r=!1,clearTimeout(h.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",T&&(t+=" '"+T+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,a){var r,s,l,c=D;return n=n||u,a=O||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(h.error(v.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},c?(D===i&&h.initialize(),h.invoke(l)):(D!==i&&D.invoke("destroy"),h.initialize())}),o!==i?o:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.checkbox=function(o){var a,r=e(this),s=r.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,h=[].slice.call(arguments,1);return r.each(function(){var r,f,m=e.extend(!0,{},e.fn.checkbox.settings,o),g=m.className,p=m.namespace,v=m.selector,b=m.error,E="."+p,T="module-"+p,C=e(this),y=e(this).children(v.label),I=e(this).children(v.input),O=I[0],D=!1,R=!1,_=C.data(T),k=this;f={initialize:function(){f.verbose("Initializing checkbox",m),f.create.label(),f.bind.events(),f.set.tabbable(),f.hide.input(),f.observeChanges(),f.instantiate(),f.setup()},instantiate:function(){f.verbose("Storing instance of module",f),_=f,C.data(T,f)},destroy:function(){f.verbose("Destroying module"),f.unbind.events(),f.show.input(),C.removeData(T)},fix:{reference:function(){C.is(v.input)&&(f.debug("Behavior called on <input> adjusting invoked element"),C=C.closest(v.checkbox),f.refresh())}},setup:function(){f.set.initialLoad(),f.is.indeterminate()?(f.debug("Initial value is indeterminate"),f.indeterminate()):f.is.checked()?(f.debug("Initial value is checked"),f.check()):(f.debug("Initial value is unchecked"),f.uncheck()),f.remove.initialLoad()},refresh:function(){y=C.children(v.label),I=C.children(v.input),O=I[0]},hide:{input:function(){f.verbose("Modfying <input> z-index to be unselectable"),I.addClass(g.hidden)}},show:{input:function(){f.verbose("Modfying <input> z-index to be selectable"),I.removeClass(g.hidden)}},observeChanges:function(){"MutationObserver"in t&&(r=new MutationObserver(function(e){f.debug("DOM tree modified, updating selector cache"),f.refresh()}),r.observe(k,{childList:!0,subtree:!0}),f.debug("Setting up mutation observer",r))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(f[n])?f[n]:f.toggle,i.length>0?(f.debug("Attaching checkbox events to element",t,n),i.on("click"+E,n)):f.error(b.notFound)},event:{click:function(t){var n=e(t.target);return n.is(v.input)?void f.verbose("Using default check action on initialized checkbox"):n.is(v.link)?void f.debug("Clicking link inside checkbox, skipping toggle"):(f.toggle(),I.focus(),void t.preventDefault())},keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape?(f.verbose("Escape key pressed blurring field"),I.blur(),R=!0):e.ctrlKey||t!=n.space&&t!=n.enter?R=!1:(f.verbose("Enter/space key pressed, toggling checkbox"),f.toggle(),R=!0)},keyup:function(e){R&&e.preventDefault()}},check:function(){f.should.allowCheck()&&(f.debug("Checking checkbox",I),f.set.checked(),f.should.ignoreCallbacks()||(m.onChecked.call(O),m.onChange.call(O)))},uncheck:function(){f.should.allowUncheck()&&(f.debug("Unchecking checkbox"),f.set.unchecked(),f.should.ignoreCallbacks()||(m.onUnchecked.call(O),m.onChange.call(O)))},indeterminate:function(){return f.should.allowIndeterminate()?void f.debug("Checkbox is already indeterminate"):(f.debug("Making checkbox indeterminate"),f.set.indeterminate(),void(f.should.ignoreCallbacks()||(m.onIndeterminate.call(O),m.onChange.call(O))))},determinate:function(){return f.should.allowDeterminate()?void f.debug("Checkbox is already determinate"):(f.debug("Making checkbox determinate"),f.set.determinate(),void(f.should.ignoreCallbacks()||(m.onDeterminate.call(O),m.onChange.call(O))))},enable:function(){return f.is.enabled()?void f.debug("Checkbox is already enabled"):(f.debug("Enabling checkbox"),f.set.enabled(),void m.onEnabled.call(O))},disable:function(){return f.is.disabled()?void f.debug("Checkbox is already disabled"):(f.debug("Disabling checkbox"),f.set.disabled(),void m.onDisabled.call(O))},get:{radios:function(){var t=f.get.name();return e('input[name="'+t+'"]').closest(v.checkbox)},otherRadios:function(){return f.get.radios().not(C)},name:function(){return I.attr("name")}},is:{initialLoad:function(){return D},radio:function(){return I.hasClass(g.radio)||"radio"==I.attr("type")},indeterminate:function(){return I.prop("indeterminate")!==i&&I.prop("indeterminate")},checked:function(){return I.prop("checked")!==i&&I.prop("checked")},disabled:function(){return I.prop("disabled")!==i&&I.prop("disabled")},enabled:function(){return!f.is.disabled()},determinate:function(){return!f.is.indeterminate()},unchecked:function(){return!f.is.checked()}},should:{allowCheck:function(){return f.is.determinate()&&f.is.checked()&&!f.should.forceCallbacks()?(f.debug("Should not allow check, checkbox is already checked"),!1):m.beforeChecked.apply(O)===!1?(f.debug("Should not allow check, beforeChecked cancelled"),!1):!0},allowUncheck:function(){return f.is.determinate()&&f.is.unchecked()&&!f.should.forceCallbacks()?(f.debug("Should not allow uncheck, checkbox is already unchecked"),!1):m.beforeUnchecked.apply(O)===!1?(f.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1):!0},allowIndeterminate:function(){return f.is.indeterminate()&&!f.should.forceCallbacks()?(f.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):m.beforeIndeterminate.apply(O)===!1?(f.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1):!0},allowDeterminate:function(){return f.is.determinate()&&!f.should.forceCallbacks()?(f.debug("Should not allow determinate, checkbox is already determinate"),!1):m.beforeDeterminate.apply(O)===!1?(f.debug("Should not allow determinate, beforeDeterminate cancelled"),!1):!0},forceCallbacks:function(){return f.is.initialLoad()&&m.fireOnInit},ignoreCallbacks:function(){return D&&!m.fireOnInit}},can:{change:function(){return!(C.hasClass(g.disabled)||C.hasClass(g.readOnly)||I.prop("disabled")||I.prop("readonly"))},uncheck:function(){return"boolean"==typeof m.uncheckable?m.uncheckable:!f.is.radio()}},set:{initialLoad:function(){D=!0},checked:function(){return f.verbose("Setting class to checked"),C.removeClass(g.indeterminate).addClass(g.checked),f.is.radio()&&f.uncheckOthers(),!f.is.indeterminate()&&f.is.checked()?void f.debug("Input is already checked, skipping input property change"):(f.verbose("Setting state to checked",O),I.prop("indeterminate",!1).prop("checked",!0),void f.trigger.change())},unchecked:function(){return f.verbose("Removing checked class"),C.removeClass(g.indeterminate).removeClass(g.checked),!f.is.indeterminate()&&f.is.unchecked()?void f.debug("Input is already unchecked"):(f.debug("Setting state to unchecked"),I.prop("indeterminate",!1).prop("checked",!1),void f.trigger.change())},indeterminate:function(){return f.verbose("Setting class to indeterminate"),C.addClass(g.indeterminate),f.is.indeterminate()?void f.debug("Input is already indeterminate, skipping input property change"):(f.debug("Setting state to indeterminate"),I.prop("indeterminate",!0),void f.trigger.change())},determinate:function(){return f.verbose("Removing indeterminate class"),C.removeClass(g.indeterminate),f.is.determinate()?void f.debug("Input is already determinate, skipping input property change"):(f.debug("Setting state to determinate"),void I.prop("indeterminate",!1))},disabled:function(){return f.verbose("Setting class to disabled"),C.addClass(g.disabled),f.is.disabled()?void f.debug("Input is already disabled, skipping input property change"):(f.debug("Setting state to disabled"),I.prop("disabled","disabled"),void f.trigger.change())},enabled:function(){return f.verbose("Removing disabled class"),C.removeClass(g.disabled),f.is.enabled()?void f.debug("Input is already enabled, skipping input property change"):(f.debug("Setting state to enabled"),I.prop("disabled",!1),void f.trigger.change())},tabbable:function(){f.verbose("Adding tabindex to checkbox"),I.attr("tabindex")===i&&I.attr("tabindex",0)}},remove:{initialLoad:function(){D=!1}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=I[0];t&&(f.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){I.prevAll(v.label).length>0?(I.prev(v.label).detach().insertAfter(I),f.debug("Moving existing label",y)):f.has.label()||(y=e("<label>").insertAfter(I),f.debug("Creating label",y))}},has:{label:function(){return y.length>0}},bind:{events:function(){f.verbose("Attaching checkbox events"),C.on("click"+E,f.event.click).on("keydown"+E,v.input,f.event.keydown).on("keyup"+E,v.input,f.event.keyup)}},unbind:{events:function(){f.debug("Removing events"),C.off(E)}},uncheckOthers:function(){var e=f.get.otherRadios();f.debug("Unchecking other radios",e),e.removeClass(g.checked)},toggle:function(){return f.can.change()?void(f.is.indeterminate()||f.is.unchecked()?(f.debug("Currently unchecked"),f.check()):f.is.checked()&&f.can.uncheck()&&(f.debug("Currently checked"),f.uncheck())):void(f.is.radio()||f.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+":",n=0;l=!1,clearTimeout(f.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=_;return n=n||h,o=k||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(f.error(b.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(_===i&&f.initialize(),f.invoke(u)):(_!==i&&_.invoke("destroy"),f.initialize())}),a!==i?a:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.dimmer=function(t){var o,a=e(this),r=(new Date).getTime(),s=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return a.each(function(){var d,h,f,m=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),g=m.selector,p=m.namespace,v=m.className,b=m.error,E="."+p,T="module-"+p,C=a.selector||"",y="ontouchstart"in n.documentElement?"touchstart":"click",I=e(this),O=this,D=I.data(T);f={preinitialize:function(){f.is.dimmer()?(h=I.parent(),d=I):(h=I,d=f.has.dimmer()?m.dimmerName?h.find(g.dimmer).filter("."+m.dimmerName):h.find(g.dimmer):f.create())},initialize:function(){f.debug("Initializing dimmer",m),f.bind.events(),f.set.dimmable(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),D=f,I.data(T,D)},destroy:function(){f.verbose("Destroying previous module",d),f.unbind.events(),f.remove.variation(),h.off(E)},bind:{events:function(){"hover"==m.on?h.on("mouseenter"+E,f.show).on("mouseleave"+E,f.hide):"click"==m.on&&h.on(y+E,f.toggle),f.is.page()&&(f.debug("Setting as a page dimmer",h),f.set.pageDimmer()),f.is.closable()&&(f.verbose("Adding dimmer close event",d),h.on(y+E,g.dimmer,f.event.click))}},unbind:{events:function(){I.removeData(T)}},event:{click:function(t){f.verbose("Determining if event occured on dimmer",t),(0===d.find(t.target).length||e(t.target).is(g.content))&&(f.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);f.debug("Add content to dimmer",n),n.parent()[0]!==d[0]&&n.detach().appendTo(d)},create:function(){var t=e(m.template.dimmer());return m.variation&&(f.debug("Creating dimmer with variation",m.variation),t.addClass(m.variation)),m.dimmerName&&(f.debug("Creating named dimmer",m.dimmerName),t.addClass(m.dimmerName)),t.appendTo(h),t},show:function(t){t=e.isFunction(t)?t:function(){},f.debug("Showing dimmer",d,m),f.is.dimmed()&&!f.is.animating()||!f.is.enabled()?f.debug("Dimmer is already shown or disabled"):(f.animate.show(t),m.onShow.call(O),m.onChange.call(O))},hide:function(t){t=e.isFunction(t)?t:function(){},f.is.dimmed()||f.is.animating()?(f.debug("Hiding dimmer",d),f.animate.hide(t),m.onHide.call(O),m.onChange.call(O)):f.debug("Dimmer is not visible")},toggle:function(){f.verbose("Toggling dimmer visibility",d),f.is.dimmed()?f.hide():f.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},m.useCSS&&e.fn.transition!==i&&d.transition("is supported")?("auto"!==m.opacity&&f.set.opacity(),d.transition({animation:m.transition+" in",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.set.dimmed()},onComplete:function(){f.set.active(),t()}})):(f.verbose("Showing dimmer animation with javascript"),f.set.dimmed(),"auto"==m.opacity&&(m.opacity=.8),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(f.get.duration(),m.opacity,function(){d.removeAttr("style"),f.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},m.useCSS&&e.fn.transition!==i&&d.transition("is supported")?(f.verbose("Hiding dimmer with css"),d.transition({animation:m.transition+" out",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.remove.dimmed()},onComplete:function(){f.remove.active(),t()}})):(f.verbose("Hiding dimmer with javascript"),f.remove.dimmed(),d.stop().fadeOut(f.get.duration(),function(){f.remove.active(),d.removeAttr("style"),t()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof m.duration?f.is.active()?m.duration.hide:m.duration.show:m.duration}},has:{dimmer:function(){return m.dimmerName?I.find(g.dimmer).filter("."+m.dimmerName).length>0:I.find(g.dimmer).length>0}},is:{active:function(){return d.hasClass(v.active)},animating:function(){return d.is(":animated")||d.hasClass(v.animating)},closable:function(){return"auto"==m.closable?"hover"==m.on?!1:!0:m.closable},dimmer:function(){return I.hasClass(v.dimmer)},dimmable:function(){return I.hasClass(v.dimmable)},dimmed:function(){return h.hasClass(v.dimmed)},disabled:function(){return h.hasClass(v.disabled)},enabled:function(){return!f.is.disabled()},page:function(){return h.is("body")},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{opacity:function(e){var t=d.css("background-color"),n=t.split(","),i=n&&4==n.length;e=0===m.opacity?0:m.opacity||e,i?(n[3]=e+")",t=n.join(",")):t="rgba(0, 0, 0, "+e+")",f.debug("Setting opacity to",e),d.css("background-color",t)},active:function(){d.addClass(v.active)},dimmable:function(){h.addClass(v.dimmable)},dimmed:function(){h.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)},variation:function(e){e=e||m.variation,e&&d.addClass(e)}},remove:{active:function(){d.removeClass(v.active)},dimmed:function(){h.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)},variation:function(e){e=e||m.variation,e&&d.removeClass(e)}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+":",n=0;r=!1,clearTimeout(f.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",C&&(t+=" '"+C+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,a){var r,s,l,c=D;return n=n||u,a=O||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(f.error(b.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},f.preinitialize(),c?(D===i&&f.initialize(),f.invoke(l)):(D!==i&&D.invoke("destroy"),f.initialize())}),o!==i?o:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.dropdown=function(o){var a,r=e(this),s=e(n),l=r.selector||"",c="ontouchstart"in n.documentElement,u=(new Date).getTime(),d=[],h=arguments[0],f="string"==typeof h,m=[].slice.call(arguments,1);return r.each(function(g){var p,v,b,E,T,C,y,I=e.isPlainObject(o)?e.extend(!0,{},e.fn.dropdown.settings,o):e.extend({},e.fn.dropdown.settings),O=I.className,D=I.message,R=I.fields,_=I.keys,k=I.metadata,K=I.namespace,w=I.regExp,x=I.selector,S=I.error,N=I.templates,A="."+K,L="module-"+K,P=e(this),F=e(I.context),$=P.find(x.text),B=P.find(x.search),M=P.find(x.input),H=P.find(x.icon),q=P.prev().find(x.text).length>0?P.prev().find(x.text):P.prev(),z=P.children(x.menu),j=z.find(x.item),V=!1,W=!1,U=!1,G=this,X=P.data(L);y={initialize:function(){y.debug("Initializing dropdown",I),y.is.alreadySetup()?y.setup.reference():(y.setup.layout(),y.refreshData(),y.save.defaults(),y.restore.selected(),y.create.id(),y.bind.events(),y.observeChanges(),y.instantiate())},instantiate:function(){y.verbose("Storing instance of dropdown",y),X=y,P.data(L,y)},destroy:function(){y.verbose("Destroying previous dropdown",P),y.remove.tabbable(),P.off(A).removeData(L),z.off(A),s.off(b),T&&T.disconnect(),C&&C.disconnect()},observeChanges:function(){"MutationObserver"in t&&(T=new MutationObserver(function(e){y.debug("<select> modified, recreating menu"),y.setup.select()}),C=new MutationObserver(function(e){y.debug("Menu modified, updating selector cache"),y.refresh()}),y.has.input()&&T.observe(M[0],{childList:!0,subtree:!0}),y.has.menu()&&C.observe(z[0],{childList:!0,subtree:!0}),y.debug("Setting up mutation observer",T,C))},create:{id:function(){E=(Math.random().toString(16)+"000000000").substr(2,8),b="."+E,y.verbose("Creating unique id for element",E)},userChoice:function(t){var n,o,a;return(t=t||y.get.userValues())?(t=e.isArray(t)?t:[t],e.each(t,function(t,r){y.get.item(r)===!1&&(a=I.templates.addition(y.add.variables(D.addResult,r)),o=e("<div />").html(a).attr("data-"+k.value,r).attr("data-"+k.text,r).addClass(O.addition).addClass(O.item),n=n===i?o:n.add(o),y.verbose("Creating user choices for value",r,o))}),n):!1},userLabels:function(t){var n=y.get.userValues();n&&(y.debug("Adding user labels",n),e.each(n,function(e,t){y.verbose("Adding custom user value"),y.add.label(t,t)}))},menu:function(){z=e("<div />").addClass(O.menu).appendTo(P)}},search:function(e){e=e!==i?e:y.get.query(),y.verbose("Searching for query",e),y.filter(e)},select:{firstUnfiltered:function(){y.verbose("Selecting first non-filtered element"),y.remove.selectedItem(),j.not(x.unselectable).eq(0).addClass(O.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(x.item).not(x.unselectable).eq(0),n=e.prevAll(x.item).not(x.unselectable).eq(0),i=t.length>0;
i?(y.verbose("Moving selection to",t),t.addClass(O.selected)):(y.verbose("Moving selection to",n),n.addClass(O.selected))}},setup:{api:function(){var e={debug:I.debug,on:!1};y.verbose("First request, initializing API"),P.api(e)},layout:function(){P.is("select")&&(y.setup.select(),y.setup.returnedObject()),y.has.menu()||y.create.menu(),y.is.search()&&!y.has.search()&&(y.verbose("Adding search input"),B=e("<input />").addClass(O.search).prop("autocomplete","off").insertBefore($)),I.allowTab&&y.set.tabbable()},select:function(){var t=y.get.selectValues();y.debug("Dropdown initialized on a select",t),P.is("select")&&(M=P),M.parent(x.dropdown).length>0?(y.debug("UI dropdown already exists. Creating dropdown menu only"),P=M.closest(x.dropdown),y.has.menu()||y.create.menu(),z=P.children(x.menu),y.setup.menu(t)):(y.debug("Creating entire dropdown from select"),P=e("<div />").attr("class",M.attr("class")).addClass(O.selection).addClass(O.dropdown).html(N.dropdown(t)).insertBefore(M),M.hasClass(O.multiple)&&M.prop("multiple")===!1&&(y.error(S.missingMultiple),M.prop("multiple",!0)),M.is("[multiple]")&&y.set.multiple(),M.prop("disabled")&&(y.debug("Disabling dropdown"),P.addClass(O.disabled)),M.removeAttr("class").detach().prependTo(P)),y.refresh()},menu:function(e){z.html(N.menu(e,R)),j=z.find(x.item)},reference:function(){y.debug("Dropdown behavior was called on select, replacing with closest dropdown"),P=P.parent(x.dropdown),y.refresh(),y.setup.returnedObject(),f&&(X=y,y.invoke(h))},returnedObject:function(){var e=r.slice(0,g),t=r.slice(g+1);r=e.add(P).add(t)}},refresh:function(){y.refreshSelectors(),y.refreshData()},refreshSelectors:function(){y.verbose("Refreshing selector cache"),$=P.find(x.text),B=P.find(x.search),M=P.find(x.input),H=P.find(x.icon),q=P.prev().find(x.text).length>0?P.prev().find(x.text):P.prev(),z=P.children(x.menu),j=z.find(x.item)},refreshData:function(){y.verbose("Refreshing cached metadata"),j.removeData(k.text).removeData(k.value),P.removeData(k.defaultText).removeData(k.defaultValue).removeData(k.placeholderText)},toggle:function(){y.verbose("Toggling menu visibility"),y.is.active()?y.hide():y.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},y.can.show()&&!y.is.active()){if(y.debug("Showing dropdown"),y.is.multiple()&&!y.has.search()&&y.is.allFiltered())return!0;!y.has.message()||y.has.maxSelections()||y.has.allResultsFiltered()||y.remove.message(),I.onShow.call(G)!==!1&&y.animate.show(function(){y.can.click()&&y.bind.intent(),y.set.visible(),t.call(G)})}},hide:function(t){t=e.isFunction(t)?t:function(){},y.is.active()&&(y.debug("Hiding dropdown"),I.onHide.call(G)!==!1&&y.animate.hide(function(){y.remove.visible(),t.call(G)}))},hideOthers:function(){y.verbose("Finding other dropdowns to hide"),r.not(P).has(x.menu+"."+O.visible).dropdown("hide")},hideMenu:function(){y.verbose("Hiding menu  instantaneously"),y.remove.active(),y.remove.visible(),z.transition("hide")},hideSubMenus:function(){var e=z.children(x.item).find(x.menu);y.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){c&&y.bind.touchEvents(),y.bind.keyboardEvents(),y.bind.inputEvents(),y.bind.mouseEvents()},touchEvents:function(){y.debug("Touch device detected binding additional touch events"),y.is.searchSelection()||y.is.single()&&P.on("touchstart"+A,y.event.test.toggle),z.on("touchstart"+A,x.item,y.event.item.mouseenter)},keyboardEvents:function(){y.verbose("Binding keyboard events"),P.on("keydown"+A,y.event.keydown),y.has.search()&&P.on(y.get.inputEvent()+A,x.search,y.event.input),y.is.multiple()&&s.on("keydown"+b,y.event.document.keydown)},inputEvents:function(){y.verbose("Binding input change events"),P.on("change"+A,x.input,y.event.change)},mouseEvents:function(){y.verbose("Binding mouse events"),y.is.multiple()&&P.on("click"+A,x.label,y.event.label.click).on("click"+A,x.remove,y.event.remove.click),y.is.searchSelection()?(P.on("mousedown"+A,x.menu,y.event.menu.mousedown).on("mouseup"+A,x.menu,y.event.menu.mouseup).on("click"+A,x.icon,y.event.icon.click).on("click"+A,x.search,y.show).on("focus"+A,x.search,y.event.search.focus).on("blur"+A,x.search,y.event.search.blur).on("click"+A,x.text,y.event.text.focus),y.is.multiple()&&P.on("click"+A,y.event.click)):("click"==I.on?P.on("click"+A,x.icon,y.event.icon.click).on("click"+A,y.event.test.toggle):"hover"==I.on?P.on("mouseenter"+A,y.delay.show).on("mouseleave"+A,y.delay.hide):P.on(I.on+A,y.toggle),P.on("mousedown"+A,y.event.mousedown).on("mouseup"+A,y.event.mouseup).on("focus"+A,y.event.focus).on("blur"+A,y.event.blur)),z.on("mouseenter"+A,x.item,y.event.item.mouseenter).on("mouseleave"+A,x.item,y.event.item.mouseleave).on("click"+A,x.item,y.event.item.click)},intent:function(){y.verbose("Binding hide intent event to document"),c&&s.on("touchstart"+b,y.event.test.touch).on("touchmove"+b,y.event.test.touch),s.on("click"+b,y.event.test.hide)}},unbind:{intent:function(){y.verbose("Removing hide intent event from document"),c&&s.off("touchstart"+b).off("touchmove"+b),s.off("click"+b)}},filter:function(e){var t=e!==i?e:y.get.query(),n=function(){y.is.multiple()&&y.filterActive(),y.select.firstUnfiltered(),y.has.allResultsFiltered()?I.onNoResults.call(G,t)?I.allowAdditions||(y.verbose("All items filtered, showing message",t),y.add.message(D.noResults)):(y.verbose("All items filtered, hiding dropdown",t),y.hideMenu()):y.remove.message(),I.allowAdditions&&y.add.userSuggestion(e),y.is.searchSelection()&&y.can.show()&&y.is.focusedOnSearch()&&y.show()};I.useLabels&&y.has.maxSelections()||(I.apiSettings?y.can.useAPI()?y.queryRemote(t,function(){n()}):y.error(S.noAPI):(y.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,throttle:I.throttle,urlData:{query:t},onError:function(){y.add.message(D.serverError),n()},onFailure:function(){y.add.message(D.serverError),n()},onSuccess:function(e){y.remove.message(),y.setup.menu({values:e[R.remoteValues]}),n()}};P.api("get request")||y.setup.api(),i=e.extend(!0,{},i,I.apiSettings),P.api("setting",i).api("query")},filterItems:function(t){var n=t!==i?t:y.get.query(),o=null,a=y.escape.regExp(n),r=new RegExp("^"+a,"igm");y.has.query()&&(o=[],y.verbose("Searching for matching values",n),j.each(function(){var t,i,a=e(this);if("both"==I.match||"text"==I.match){if(t=String(y.get.choiceText(a,!1)),-1!==t.search(r))return o.push(this),!0;if(I.fullTextSearch&&y.fuzzySearch(n,t))return o.push(this),!0}if("both"==I.match||"value"==I.match){if(i=String(y.get.choiceValue(a,t)),-1!==i.search(r))return o.push(this),!0;if(I.fullTextSearch&&y.fuzzySearch(n,i))return o.push(this),!0}})),y.debug("Showing only matched items",n),y.remove.filteredItem(),o&&j.not(o).addClass(O.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,a=0;i>o;o++){for(var r=e.charCodeAt(o);n>a;)if(t.charCodeAt(a++)===r)continue e;return!1}return!0},filterActive:function(){I.useLabels&&j.filter("."+O.active).addClass(O.filtered)},focusSearch:function(){y.is.search()&&!y.is.focusedOnSearch()&&B[0].focus()},forceSelection:function(){var e=j.not(O.filtered).filter("."+O.selected).eq(0),t=j.not(O.filtered).filter("."+O.active).eq(0),n=e.length>0?e:t,i=n.size()>0;if(y.has.query()){if(i)return y.debug("Forcing partial selection to selected item",n),void y.event.item.click.call(n);y.remove.searchTerm()}y.hide()},event:{change:function(){U||(y.debug("Input changed, updating selection"),y.set.selected())},focus:function(){I.showOnFocus&&!V&&y.is.hidden()&&!v&&y.show()},click:function(t){var n=e(t.target);n.is(P)&&!y.is.focusedOnSearch()&&y.focusSearch()},blur:function(e){v=n.activeElement===this,V||v||(y.remove.activeLabel(),y.hide())},mousedown:function(){V=!0},mouseup:function(){V=!1},search:{focus:function(){V=!0,y.is.multiple()&&y.remove.activeLabel(),I.showOnFocus&&(y.search(),y.show())},blur:function(e){v=n.activeElement===this,W||v?v&&I.forceSelection&&y.forceSelection():y.is.multiple()?(y.remove.activeLabel(),y.hide()):I.forceSelection?y.forceSelection():y.hide()}},icon:{click:function(e){y.toggle(),e.stopPropagation()}},text:{focus:function(e){V=!0,y.focusSearch()}},input:function(e){(y.is.multiple()||y.is.searchSelection())&&y.set.filtered(),clearTimeout(y.timer),y.timer=setTimeout(y.search,I.delay.search)},label:{click:function(t){var n=e(this),i=P.find(x.label),o=i.filter("."+O.active),a=n.nextAll("."+O.active),r=n.prevAll("."+O.active),s=a.length>0?n.nextUntil(a).add(o).add(n):n.prevUntil(r).add(o).add(n);t.shiftKey?(o.removeClass(O.active),s.addClass(O.active)):t.ctrlKey?n.toggleClass(O.active):(o.removeClass(O.active),n.addClass(O.active)),I.onLabelSelect.apply(this,i.filter("."+O.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(O.active)?y.remove.activeLabels():y.remove.activeLabels(t)}},test:{toggle:function(e){var t=y.is.multiple()?y.show:y.toggle;y.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){y.determine.eventOnElement(e,function(){"touchstart"==e.type?y.timer=setTimeout(function(){y.hide()},I.delay.touch):"touchmove"==e.type&&clearTimeout(y.timer)}),e.stopPropagation()},hide:function(e){y.determine.eventInModule(e,y.hide)}},menu:{mousedown:function(){W=!0},mouseup:function(){W=!1}},item:{mouseenter:function(t){var n=e(this).children(x.menu),i=e(this).siblings(x.item).children(x.menu);n.length>0&&(clearTimeout(y.itemTimer),y.itemTimer=setTimeout(function(){y.verbose("Showing sub-menu",n),e.each(i,function(){y.animate.hide(!1,e(this))}),y.animate.show(!1,n)},I.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(x.menu);n.length>0&&(clearTimeout(y.itemTimer),y.itemTimer=setTimeout(function(){y.verbose("Hiding sub-menu",n),y.animate.hide(!1,n)},I.delay.hide))},touchend:function(){},click:function(t){var n=e(this),i=e(t?t.target:""),o=n.find(x.menu),a=y.get.choiceText(n),r=y.get.choiceValue(n,a),s=o.length>0,l=o.find(i).length>0;l||s&&!I.allowCategorySelection||(I.useLabels||(y.remove.filteredItem(),y.remove.searchTerm(),y.set.scrollPosition(n)),y.determine.selectAction.call(this,a,r))}},document:{keydown:function(e){var t=e.which,n=y.is.inObject(t,_);if(n){var i=P.find(x.label),o=i.filter("."+O.active),a=(o.data(k.value),i.index(o)),r=i.length,s=o.length>0,l=o.length>1,c=0===a,u=a+1==r,d=y.is.searchSelection(),h=y.is.focusedOnSearch(),f=y.is.focused(),m=h&&0===y.get.caretPosition();if(d&&!s&&!h)return;t==_.leftArrow?!f&&!m||s?s&&(e.shiftKey?y.verbose("Adding previous label to selection"):(y.verbose("Selecting previous label"),i.removeClass(O.active)),c&&!l?o.addClass(O.active):o.prev(x.siblingLabel).addClass(O.active).end(),e.preventDefault()):(y.verbose("Selecting previous label"),i.last().addClass(O.active)):t==_.rightArrow?(f&&!s&&i.first().addClass(O.active),s&&(e.shiftKey?y.verbose("Adding next label to selection"):(y.verbose("Selecting next label"),i.removeClass(O.active)),u?d?h?i.removeClass(O.active):y.focusSearch():l?o.next(x.siblingLabel).addClass(O.active):o.addClass(O.active):o.next(x.siblingLabel).addClass(O.active),e.preventDefault())):t==_.deleteKey||t==_.backspace?s?(y.verbose("Removing active labels"),u&&d&&!h&&y.focusSearch(),o.last().next(x.siblingLabel).addClass(O.active),y.remove.activeLabels(o),e.preventDefault()):m&&!s&&t==_.backspace&&(y.verbose("Removing last label on input backspace"),o=i.last().addClass(O.active),y.remove.activeLabels(o)):o.removeClass(O.active)}}},keydown:function(e){var t=e.which,n=y.is.inObject(t,_);if(n){var i,o,a=j.not(x.unselectable).filter("."+O.selected).eq(0),r=z.children("."+O.active).eq(0),s=a.length>0?a:r,l=s.length>0?s.siblings(":not(."+O.filtered+")").andSelf():z.children(":not(."+O.filtered+")"),c=s.children(x.menu),u=s.closest(x.menu),d=u.hasClass(O.visible)||u.hasClass(O.animating)||u.parent(x.menu).length>0,h=c.length>0,f=s.length>0,m=s.not(x.unselectable).length>0,g=t==_.delimiter&&I.allowAdditions&&y.is.multiple();if(y.is.visible()){if((t==_.enter||g)&&(t==_.enter&&f&&h&&!I.allowCategorySelection?(y.verbose("Pressed enter on unselectable category, opening sub menu"),t=_.rightArrow):m&&(y.verbose("Selecting item from keyboard shortcut",s),y.event.item.click.call(s,e),y.is.searchSelection()&&y.remove.searchTerm()),e.preventDefault()),t==_.leftArrow&&(o=u[0]!==z[0],o&&(y.verbose("Left key pressed, closing sub-menu"),y.animate.hide(!1,u),s.removeClass(O.selected),u.closest(x.item).addClass(O.selected),e.preventDefault())),t==_.rightArrow&&h&&(y.verbose("Right key pressed, opening sub-menu"),y.animate.show(!1,c),s.removeClass(O.selected),c.find(x.item).eq(0).addClass(O.selected),e.preventDefault()),t==_.upArrow){if(i=f&&d?s.prevAll(x.item+":not("+x.unselectable+")").eq(0):j.eq(0),l.index(i)<0)return y.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();y.verbose("Up key pressed, changing active item"),s.removeClass(O.selected),i.addClass(O.selected),y.set.scrollPosition(i),e.preventDefault()}if(t==_.downArrow){if(i=f&&d?i=s.nextAll(x.item+":not("+x.unselectable+")").eq(0):j.eq(0),0===i.length)return y.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();y.verbose("Down key pressed, changing active item"),j.removeClass(O.selected),i.addClass(O.selected),y.set.scrollPosition(i),e.preventDefault()}t==_.pageUp&&(y.scrollPage("up"),e.preventDefault()),t==_.pageDown&&(y.scrollPage("down"),e.preventDefault()),t==_.escape&&(y.verbose("Escape key pressed, closing dropdown"),y.hide())}else g&&e.preventDefault(),t==_.downArrow&&(y.verbose("Down key pressed, showing dropdown"),y.show(),e.preventDefault())}else y.is.selection()&&!y.is.search()&&y.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=M[0];t&&(y.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){y.verbose("Determining action",I.action),e.isFunction(y.action[I.action])?(y.verbose("Triggering preset action",I.action,t,n),y.action[I.action].call(this,t,n)):e.isFunction(I.action)?(y.verbose("Triggering user action",I.action,t,n),I.action.call(this,t,n)):y.error(S.action,I.action)},eventInModule:function(t,i){var o=e(t.target),a=o.closest(n.documentElement).length>0,r=o.closest(P).length>0;return i=e.isFunction(i)?i:function(){},a&&!r?(y.verbose("Triggering event",i),i(),!0):(y.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,n){var i=e(t.target),o=i.closest(x.siblingLabel),a=0===P.find(o).length,r=0===i.closest(z).length;return n=e.isFunction(n)?n:function(){},a&&r?(y.verbose("Triggering event",n),n(),!0):(y.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n){if(n=n!==i?n:t,y.can.activate(e(this))){if(y.set.selected(n,e(this)),y.is.multiple()&&!y.is.allFiltered())return;y.hideAndClear()}},select:function(e,t){y.action.activate.call(this)},combo:function(t,n){n=n!==i?n:t,y.set.selected(n,e(this)),y.hideAndClear()},hide:function(e,t){y.set.value(t),y.hideAndClear()}},get:{id:function(){return E},defaultText:function(){return P.data(k.defaultText)},defaultValue:function(){return P.data(k.defaultValue)},placeholderText:function(){return P.data(k.placeholderText)||""},text:function(){return $.text()},query:function(){return e.trim(B.val())},searchWidth:function(e){return e*I.glyphWidth+"em"},selectionCount:function(){var t,n=y.get.values();return t=y.is.multiple()?e.isArray(n)?n.length:0:""!==y.get.value()?1:0},transition:function(e){return"auto"==I.transition?y.is.upward(e)?"slide up":"slide down":I.transition},userValues:function(){var t=y.get.values();return t?(t=e.isArray(t)?t:[t],e.grep(t,function(e){return y.get.item(e)===!1})):!1},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=B.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=M.length>0?M.val():P.data(k.value);return e.isArray(t)&&1===t.length&&""===t[0]?"":t},values:function(){var e=y.get.value();return""===e?"":!y.has.selectInput()&&y.is.multiple()?"string"==typeof e?e.split(I.delimiter):"":e},remoteValues:function(){var t=y.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),n={},e.each(t,function(e,t){var i=y.read.remoteData(t);y.verbose("Restoring value from session data",i,t),n[t]=i?i:t})),n},choiceText:function(t,n){return n=n!==i?n:I.preserveHTML,t?(t.find(x.menu).length>0&&(y.verbose("Retreiving text of element with sub-menu"),t=t.clone(),t.find(x.menu).remove(),t.find(x.menuIcon).remove()),t.data(k.text)!==i?t.data(k.text):n?e.trim(t.html()):e.trim(t.text())):void 0},choiceValue:function(t,n){return n=n||y.get.choiceText(t),t?t.data(k.value)!==i?String(t.data(k.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n):!1},inputEvent:function(){var e=B[0];return e?e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup":!1},selectValues:function(){var t={};return t.values=[],P.find("option").each(function(){var n=e(this),o=n.html(),a=n.attr("disabled"),r=n.attr("value")!==i?n.attr("value"):o;"auto"===I.placeholder&&""===r?t.placeholder=o:t.values.push({name:o,value:r,disabled:a})}),I.placeholder&&"auto"!==I.placeholder&&(y.debug("Setting placeholder value to",I.placeholder),t.placeholder=I.placeholder),I.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),y.debug("Retrieved and sorted values from select",t)):y.debug("Retreived values from select",t),t},activeItem:function(){return j.filter("."+O.active)},selectedItem:function(){var e=j.not(x.unselectable).filter("."+O.selected);return e.length>0?e:j.eq(0)},itemWithAdditions:function(e){var t=y.get.item(e),n=y.create.userChoice(e),i=n&&n.length>0;return i&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var o,a,r=!1;return t=t!==i?t:y.get.values()!==i?y.get.values():y.get.text(),o=a?t.length>0:t!==i&&null!==t,a=y.is.multiple()&&e.isArray(t),n=""===t||0===t?!0:n||!1,o&&j.each(function(){var o=e(this),s=y.get.choiceText(o),l=y.get.choiceValue(o,s);if(null!==l&&l!==i)if(a)(-1!==e.inArray(String(l),t)||-1!==e.inArray(s,t))&&(r=r?r.add(o):o);else if(n){if(y.verbose("Ambiguous dropdown value using strict type check",o,t),l===t||s===t)return r=o,!0}else if(String(l)==String(t)||s==t)return y.verbose("Found select item by value",l,t),r=o,!0}),r}},check:{maxSelections:function(e){return I.maxSelections?(e=e!==i?e:y.get.selectionCount(),e>=I.maxSelections?(y.debug("Maximum selection count reached"),I.useLabels&&(j.addClass(O.filtered),y.add.message(D.maxSelections)),!0):(y.verbose("No longer at maximum selection count"),y.remove.message(),y.remove.filteredItem(),y.is.searchSelection()&&y.filterItems(),!1)):!0}},restore:{defaults:function(){y.clear(),y.restore.defaultText(),y.restore.defaultValue()},defaultText:function(){var e=y.get.defaultText(),t=y.get.placeholderText;e===t?(y.debug("Restoring default placeholder text",e),y.set.placeholderText(e)):(y.debug("Restoring default text",e),y.set.text(e))},defaultValue:function(){var e=y.get.defaultValue();e!==i&&(y.debug("Restoring default value",e),""!==e?(y.set.value(e),y.set.selected()):(y.remove.activeItem(),y.remove.selectedItem()))},labels:function(){I.allowAdditions&&(I.useLabels||(y.error(S.labels),I.useLabels=!0),y.debug("Restoring selected values"),y.create.userLabels()),y.check.maxSelections()},selected:function(){y.restore.values(),y.is.multiple()?(y.debug("Restoring previously selected values and labels"),y.restore.labels()):y.debug("Restoring previously selected values")},values:function(){y.set.initialLoad(),I.apiSettings?I.saveRemoteData?y.restore.remoteValues():y.clearValue():y.set.selected(),y.remove.initialLoad()},remoteValues:function(){var t=y.get.remoteValues();y.debug("Recreating selected from session data",t),t&&(y.is.single()?e.each(t,function(e,t){y.set.text(t)}):e.each(t,function(e,t){y.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===i?void y.error(S.noStorage):(n=sessionStorage.getItem(e),n!==i?n:!1)}},save:{defaults:function(){y.save.defaultText(),y.save.placeholderText(),y.save.defaultValue()},defaultValue:function(){var e=y.get.value();y.verbose("Saving default value as",e),P.data(k.defaultValue,e)},defaultText:function(){var e=y.get.text();y.verbose("Saving default text as",e),P.data(k.defaultText,e)},placeholderText:function(){var e;I.placeholder!==!1&&$.hasClass(O.placeholder)&&(e=y.get.text(),y.verbose("Saving placeholder text as",e),P.data(k.placeholderText,e))},remoteData:function(e,n){return t.Storage===i?void y.error(S.noStorage):(y.verbose("Saving remote data to session storage",n,e),void sessionStorage.setItem(n,e))}},clear:function(){y.is.multiple()?y.remove.labels():(y.remove.activeItem(),y.remove.selectedItem()),y.set.placeholderText(),y.clearValue()},clearValue:function(){y.set.value("")},scrollPage:function(e,t){var n,i,o,a=t||y.get.selectedItem(),r=a.closest(x.menu),s=r.outerHeight(),l=r.scrollTop(),c=j.eq(0).outerHeight(),u=Math.floor(s/c),d=(r.prop("scrollHeight"),"up"==e?l-c*u:l+c*u),h=j.not(x.unselectable);o="up"==e?h.index(a)-u:h.index(a)+u,n="up"==e?o>=0:o<h.length,i=n?h.eq(o):"up"==e?h.first():h.last(),i.length>0&&(y.debug("Scrolling page",e,i),a.removeClass(O.selected),i.addClass(O.selected),r.scrollTop(d))},set:{filtered:function(){var e=y.is.multiple(),t=y.is.searchSelection(),n=e&&t,i=t?y.get.query():"",o="string"==typeof i&&i.length>0,a=y.get.searchWidth(i.length),r=""!==i;e&&o&&(y.verbose("Adjusting input width",a,I.glyphWidth),B.css("width",a)),o||n&&r?(y.verbose("Hiding placeholder text"),$.addClass(O.filtered)):(!e||n&&!r)&&(y.verbose("Showing placeholder text"),$.removeClass(O.filtered))},loading:function(){P.addClass(O.loading)},placeholderText:function(e){e=e||y.get.placeholderText(),y.debug("Setting placeholder text",e),y.set.text(e),$.addClass(O.placeholder)},tabbable:function(){y.has.search()?(y.debug("Added tabindex to searchable dropdown"),B.val("").attr("tabindex",0),z.attr("tabindex",-1)):(y.debug("Added tabindex to dropdown"),P.attr("tabindex")===i&&(P.attr("tabindex",0),z.attr("tabindex",-1)))},initialLoad:function(){y.verbose("Setting initial load"),p=!0},activeItem:function(e){I.allowAdditions&&e.filter(x.addition).length>0?e.addClass(O.filtered):e.addClass(O.active)},scrollPosition:function(e,t){var n,o,a,r,s,l,c,u,d,h=5;e=e||y.get.selectedItem(),n=e.closest(x.menu),o=e&&e.length>0,t=t!==i?t:!1,e&&n.length>0&&o&&(r=e.position().top,n.addClass(O.loading),l=n.scrollTop(),s=n.offset().top,r=e.offset().top,a=l-s+r,t||(c=n.height(),d=a+h>l+c,u=l>a-h),y.debug("Scrolling to active item",a),(t||u||d)&&n.scrollTop(a),n.removeClass(O.loading))},text:function(e){"select"!==I.action&&("combo"==I.action?(y.debug("Changing combo button text",e,q),I.preserveHTML?q.html(e):q.text(e)):(e!==y.get.placeholderText()&&$.removeClass(O.placeholder),y.debug("Changing text",e,$),$.removeClass(O.filtered),I.preserveHTML?$.html(e):$.text(e)))},selectedLetter:function(t){var n,i=j.filter("."+O.selected),o=i.length>0&&y.has.firstLetter(i,t),a=!1;o&&(n=i.nextAll(j).eq(0),y.has.firstLetter(n,t)&&(a=n)),a||j.each(function(){return y.has.firstLetter(e(this),t)?(a=e(this),!1):void 0}),a&&(y.verbose("Scrolling to next value with letter",t),y.set.scrollPosition(a),i.removeClass(O.selected),a.addClass(O.selected))},direction:function(e){"auto"==I.direction?y.is.onScreen(e)?y.remove.upward(e):y.set.upward(e):"upward"==I.direction&&y.set.upward(e)},upward:function(e){var t=e||P;t.addClass(O.upward)},value:function(e,t,n){var o=M.length>0,a=(!y.has.value(e),y.get.values()),r=e!==i?String(e):e;if(o){if(r==a&&(y.verbose("Skipping value update already same value",e,a),!y.is.initialLoad()))return;y.is.single()&&y.has.selectInput()&&y.can.extendSelect()&&(y.debug("Adding user option",e),y.add.optionValue(e)),y.debug("Updating input value",e,a),U=!0,M.val(e),I.fireOnInit===!1&&y.is.initialLoad()?y.debug("Input native change event ignored on initial load"):y.trigger.change(),U=!1}else y.verbose("Storing value in metadata",e,M),e!==a&&P.data(k.value,r);I.fireOnInit===!1&&y.is.initialLoad()?y.verbose("No callback on initial load",I.onChange):I.onChange.call(G,e,t,n)},active:function(){P.addClass(O.active)},multiple:function(){P.addClass(O.multiple)},visible:function(){P.addClass(O.visible)},exactly:function(e,t){y.debug("Setting selected to exact values"),y.clear(),y.set.selected(e,t)},selected:function(t,n){var i=y.is.multiple();n=I.allowAdditions?n||y.get.itemWithAdditions(t):n||y.get.item(t),n&&(y.debug("Setting selected menu item to",n),y.is.single()?(y.remove.activeItem(),y.remove.selectedItem()):I.useLabels&&y.remove.selectedItem(),n.each(function(){var t=e(this),o=y.get.choiceText(t),a=y.get.choiceValue(t,o),r=t.hasClass(O.filtered),s=t.hasClass(O.active),l=t.hasClass(O.addition),c=i&&1==n.length;i?!s||l?(I.apiSettings&&I.saveRemoteData&&y.save.remoteData(o,a),I.useLabels?(y.add.value(a,o,t),y.add.label(a,o,c),y.set.activeItem(t),y.filterActive(),y.select.nextAvailable(n)):(y.add.value(a,o,t),y.set.text(y.add.variables(D.count)),y.set.activeItem(t))):r||(y.debug("Selected active value, removing label"),y.remove.selected(a)):(I.apiSettings&&I.saveRemoteData&&y.save.remoteData(o,a),y.set.text(o),y.set.value(a,o,t),t.addClass(O.active).addClass(O.selected))}))}},add:{label:function(t,n,i){var o,a=y.is.searchSelection()?B:$;return o=e("<a />").addClass(O.label).attr("data-value",t).html(N.label(t,n)),o=I.onLabelCreate.call(o,t,n),y.has.label(t)?void y.debug("Label already exists, skipping",t):(I.label.variation&&o.addClass(I.label.variation),void(i===!0?(y.debug("Animating in label",o),o.addClass(O.hidden).insertBefore(a).transition(I.label.transition,I.label.duration)):(y.debug("Adding selection label",o),o.insertBefore(a))))},message:function(t){var n=z.children(x.message),i=I.templates.message(y.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(O.message).appendTo(z)},optionValue:function(t){var n=M.find('option[value="'+t+'"]'),i=n.length>0;i||(T&&(T.disconnect(),y.verbose("Temporarily disconnecting mutation observer",t)),y.is.single()&&(y.verbose("Removing previous user addition"),M.find("option."+O.addition).remove()),e("<option/>").prop("value",t).addClass(O.addition).html(t).appendTo(M),y.verbose("Adding user addition as an <option>",t),T&&T.observe(M[0],{childList:!0,subtree:!0}))},userSuggestion:function(e){var t,n=z.children(x.addition),i=y.get.item(e),o=i&&i.not(x.addition).length,a=n.length>0;if(!I.useLabels||!y.has.maxSelections()){if(""===e||o)return void n.remove();j.removeClass(O.selected),a?(t=I.templates.addition(y.add.variables(D.addResult,e)),n.html(t).attr("data-"+k.value,e).attr("data-"+k.text,e).removeClass(O.filtered).addClass(O.selected),y.verbose("Replacing user suggestion with new value",n)):(n=y.create.userChoice(e),n.prependTo(z).addClass(O.selected),y.verbose("Adding item choice to menu corresponding with user choice addition",n))}},variables:function(e,t){var n,i,o=-1!==e.search("{count}"),a=-1!==e.search("{maxCount}"),r=-1!==e.search("{term}");return y.verbose("Adding templated variables to message",e),o&&(n=y.get.selectionCount(),e=e.replace("{count}",n)),a&&(n=y.get.selectionCount(),e=e.replace("{maxCount}",I.maxSelections)),r&&(i=t||y.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var o,a=y.get.values();return""===t?void y.debug("Cannot select blank values from multiselect"):(e.isArray(a)?(o=a.concat([t]),o=y.get.uniqueArray(o)):o=[t],y.has.selectInput()?y.can.extendSelect()&&(y.debug("Adding value to select",t,o,M),y.add.optionValue(t)):(o=o.join(I.delimiter),y.debug("Setting hidden input to delimited value",o,M)),I.fireOnInit===!1&&y.is.initialLoad()?y.verbose("Skipping onadd callback on initial load",I.onAdd):I.onAdd.call(G,t,n,i),y.set.value(o,t,n,i),void y.check.maxSelections())}},remove:{active:function(){P.removeClass(O.active)},activeLabel:function(){P.find(x.label).removeClass(O.active)},loading:function(){P.removeClass(O.loading)},initialLoad:function(){p=!1},upward:function(e){var t=e||P;t.removeClass(O.upward)},visible:function(){P.removeClass(O.visible)},activeItem:function(){j.removeClass(O.active)},filteredItem:function(){I.useLabels&&y.has.maxSelections()||(I.useLabels&&y.is.multiple()?j.not("."+O.active).removeClass(O.filtered):j.removeClass(O.filtered))},optionValue:function(e){var t=M.find('option[value="'+e+'"]'),n=t.length>0;n&&t.hasClass(O.addition)&&(T&&(T.disconnect(),y.verbose("Temporarily disconnecting mutation observer",e)),t.remove(),y.verbose("Removing user addition as an <option>",e),T&&T.observe(M[0],{childList:!0,subtree:!0}))},message:function(){z.children(x.message).remove()},searchTerm:function(){y.verbose("Cleared search term"),B.val(""),y.set.filtered()},selected:function(t,n){return(n=I.allowAdditions?n||y.get.itemWithAdditions(t):n||y.get.item(t))?void n.each(function(){var t=e(this),n=y.get.choiceText(t),i=y.get.choiceValue(t,n);y.is.multiple()?I.useLabels?(y.remove.value(i,n,t),y.remove.label(i)):(y.remove.value(i,n,t),0===y.get.selectionCount()?y.set.placeholderText():y.set.text(y.add.variables(D.count))):y.remove.value(i,n,t),t.removeClass(O.filtered).removeClass(O.active),I.useLabels&&t.removeClass(O.selected)}):!1},selectedItem:function(){j.removeClass(O.selected)},value:function(e,t,n){var i,o=y.get.values();y.has.selectInput()?(y.verbose("Input is <select> removing selected option",e),i=y.remove.arrayValue(e,o),y.remove.optionValue(e)):(y.verbose("Removing from delimited values",e),i=y.remove.arrayValue(e,o),i=i.join(I.delimiter)),I.fireOnInit===!1&&y.is.initialLoad()?y.verbose("No callback on initial load",I.onRemove):I.onRemove.call(G,e,t,n),y.set.value(i,t,n),y.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),y.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=P.find(x.label),i=n.filter('[data-value="'+e+'"]');y.verbose("Removing label",i),i.remove()},activeLabels:function(e){e=e||P.find(x.label).filter("."+O.active),y.verbose("Removing active label selections",e),y.remove.labels(e)},labels:function(t){t=t||P.find(x.label),y.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(k.value),o=n!==i?String(n):n,a=y.is.userValue(o);return I.onLabelRemove.call(t,n)===!1?void y.debug("Label remove callback cancelled removal"):void(a?(y.remove.value(o),y.remove.label(o)):y.remove.selected(o))})},tabbable:function(){y.has.search()?(y.debug("Searchable dropdown initialized"),B.removeAttr("tabindex"),z.removeAttr("tabindex")):(y.debug("Simple selection dropdown initialized"),P.removeAttr("tabindex"),z.removeAttr("tabindex"))}},has:{search:function(){return B.length>0},selectInput:function(){return M.is("select")},firstLetter:function(e,t){var n,i;return e&&0!==e.length&&"string"==typeof t?(n=y.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i):!1},input:function(){return M.length>0},items:function(){return j.length>0},menu:function(){return z.length>0},message:function(){return 0!==z.children(x.message).length},label:function(e){var t=P.find(x.label);return t.filter('[data-value="'+e+'"]').length>0},maxSelections:function(){return I.maxSelections&&y.get.selectionCount()>=I.maxSelections},allResultsFiltered:function(){return j.filter(x.unselectable).length===j.length},query:function(){return""!==y.get.query()},value:function(t){var n=y.get.values(),i=e.isArray(n)?n&&-1!==e.inArray(t,n):n==t;return i?!0:!1}},is:{active:function(){return P.hasClass(O.active)},alreadySetup:function(){return P.is("select")&&P.parent(x.dropdown).length>0&&0===P.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):z.transition&&z.transition("is animating")},disabled:function(){return P.hasClass(O.disabled)},focused:function(){return n.activeElement===P[0]},focusedOnSearch:function(){return n.activeElement===B[0]},allFiltered:function(){return(y.is.multiple()||y.has.search())&&!y.has.message()&&y.has.allResultsFiltered()},hidden:function(e){return!y.is.visible(e)},initialLoad:function(){return p},onScreen:function(e){var t,n=e||z,i=!0,o={};return n.addClass(O.loading),t={context:{scrollTop:F.scrollTop(),height:F.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},o={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},o.below?(y.verbose("Dropdown can fit in context downward",o),i=!0):o.below||o.above?(y.verbose("Dropdown cannot fit below, opening upward",o),i=!1):(y.verbose("Dropdown cannot fit in either direction, favoring downward",o),
i=!0),n.removeClass(O.loading),i},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){return n==t?(i=!0,!0):void 0}),i},multiple:function(){return P.hasClass(O.multiple)},single:function(){return!y.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){return i.target&&e(i.target).is("select")?(n=!0,!0):void 0}),n},search:function(){return P.hasClass(O.search)},searchSelection:function(){return y.has.search()&&1===B.parent(x.dropdown).length},selection:function(){return P.hasClass(O.selection)},userValue:function(t){return-1!==e.inArray(t,y.get.userValues())},upward:function(e){var t=e||P;return t.hasClass(O.upward)},visible:function(e){return e?e.hasClass(O.visible):z.hasClass(O.visible)}},can:{activate:function(e){return I.useLabels?!0:y.has.maxSelections()?y.has.maxSelections()&&e.hasClass(O.active)?!0:!1:!0},click:function(){return c||"click"==I.on},extendSelect:function(){return I.allowAdditions||I.apiSettings},show:function(){return!y.is.disabled()&&(y.has.items()||y.has.message())},useAPI:function(){return e.fn.api!==i}},animate:{show:function(t,n){var o,a=n||z,r=n?function(){}:function(){y.hideSubMenus(),y.hideOthers(),y.set.active()};t=e.isFunction(t)?t:function(){},y.verbose("Doing menu show animation",a),y.set.direction(n),o=y.get.transition(n),y.is.selection()&&y.set.scrollPosition(y.get.selectedItem(),!0),(y.is.hidden(a)||y.is.animating(a))&&("none"==o?(r(),a.transition("show"),t.call(G)):e.fn.transition!==i&&P.transition("is supported")?a.transition({animation:o+" in",debug:I.debug,verbose:I.verbose,duration:I.duration,queue:!0,onStart:r,onComplete:function(){t.call(G)}}):y.error(S.noTransition,o))},hide:function(t,n){var o=n||z,a=(n?.9*I.duration:I.duration,n?function(){}:function(){y.can.click()&&y.unbind.intent(),y.remove.active()}),r=y.get.transition(n);t=e.isFunction(t)?t:function(){},(y.is.visible(o)||y.is.animating(o))&&(y.verbose("Doing menu hide animation",o),"none"==r?(a(),o.transition("hide"),t.call(G)):e.fn.transition!==i&&P.transition("is supported")?o.transition({animation:r+" out",duration:I.duration,debug:I.debug,verbose:I.verbose,queue:!0,onStart:a,onComplete:function(){"auto"==I.direction&&y.remove.upward(n),t.call(G)}}):y.error(S.transition))}},hideAndClear:function(){y.remove.searchTerm(),y.has.maxSelections()||(y.has.search()?y.hide(function(){y.remove.filteredItem()}):y.hide())},delay:{show:function(){y.verbose("Delaying show event to ensure user intent"),clearTimeout(y.timer),y.timer=setTimeout(y.show,I.delay.show)},hide:function(){y.verbose("Delaying hide event to ensure user intent"),clearTimeout(y.timer),y.timer=setTimeout(y.hide,I.delay.hide)}},escape:{regExp:function(e){return e=String(e),e.replace(w.escape,"\\$&")}},setting:function(t,n){if(y.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,I,t);else{if(n===i)return I[t];I[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===i)return y[t];y[t]=n}},debug:function(){I.debug&&(I.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,I.name+":"),y.debug.apply(console,arguments)))},verbose:function(){I.verbose&&I.debug&&(I.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,I.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,I.name+":"),y.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;I.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:G,"Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=I.name+":",n=0;u=!1,clearTimeout(y.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",l&&(t+=" '"+l+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,o){var r,s,l,c=X;return n=n||m,o=G||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(y.error(S.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},f?(X===i&&y.initialize(),y.invoke(h)):(X!==i&&X.invoke("destroy"),y.initialize())}),a!==i?a:r},e.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",name:"name",value:"value"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values||{},"");return i+='<i class="dropdown icon"></i>',i+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},o="";return e.each(i,function(e,t){o+='<div class="item" data-value="'+t[n.value]+'">'+t[n.name]+"</div>"}),o},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.modal=function(o){var a,r=e(this),s=e(t),l=e(n),c=e("body"),u=r.selector||"",d=(new Date).getTime(),h=[],f=arguments[0],m="string"==typeof f,g=[].slice.call(arguments,1),p=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,v,b,E,T,C,y,I,O,D=e.isPlainObject(o)?e.extend(!0,{},e.fn.modal.settings,o):e.extend({},e.fn.modal.settings),R=D.selector,_=D.className,k=D.namespace,K=D.error,w="."+k,x="module-"+k,S=e(this),N=e(D.context),A=S.find(R.close),L=this,P=S.data(x);O={initialize:function(){O.verbose("Initializing dimmer",N),O.create.id(),O.create.dimmer(),O.refreshModals(),O.bind.events(),D.observeChanges&&O.observeChanges(),O.instantiate()},instantiate:function(){O.verbose("Storing instance of modal"),P=O,S.data(x,P)},create:{dimmer:function(){var t={debug:D.debug,dimmerName:"modals",duration:{show:D.duration,hide:D.duration}},n=e.extend(!0,t,D.dimmerSettings);return D.inverted&&(n.variation=n.variation!==i?n.variation+" inverted":"inverted"),e.fn.dimmer===i?void O.error(K.dimmer):(O.debug("Creating dimmer with settings",n),E=N.dimmer(n),D.detachable?(O.verbose("Modal is detachable, moving content into dimmer"),E.dimmer("add content",S)):O.set.undetached(),D.blurring&&E.addClass(_.blurring),void(T=E.dimmer("get dimmer")))},id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),C="."+y,O.verbose("Creating unique id for element",y)}},destroy:function(){O.verbose("Destroying previous modal"),S.removeData(x).off(w),s.off(C),A.off(w),N.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&(I=new MutationObserver(function(e){O.debug("DOM tree modified, refreshing"),O.refresh()}),I.observe(L,{childList:!0,subtree:!0}),O.debug("Setting up mutation observer",I))},refresh:function(){O.remove.scrolling(),O.cacheSizes(),O.set.screenHeight(),O.set.type(),O.set.position()},refreshModals:function(){v=S.siblings(R.modal),r=v.add(S)},attachEvents:function(t,n){var i=e(t);n=e.isFunction(O[n])?O[n]:O.toggle,i.length>0?(O.debug("Attaching modal events to element",t,n),i.off(w).on("click"+w,n)):O.error(K.notFound,t)},bind:{events:function(){O.verbose("Attaching events"),S.on("click"+w,R.close,O.event.close).on("click"+w,R.approve,O.event.approve).on("click"+w,R.deny,O.event.deny),s.on("resize"+C,O.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){return D.onApprove.call(L,e(this))===!1?void O.verbose("Approve callback returned false cancelling hide"):void O.hide()},deny:function(){return D.onDeny.call(L,e(this))===!1?void O.verbose("Deny callback returned false cancelling hide"):void O.hide()},close:function(){O.hide()},click:function(t){var i=e(t.target),o=i.closest(R.modal).length>0,a=e.contains(n.documentElement,t.target);!o&&a&&(O.debug("Dimmer clicked, hiding all modals"),O.is.active()&&(O.remove.clickaway(),D.allowMultiple?O.hide():O.hideAll()))},debounce:function(e,t){clearTimeout(O.timer),O.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,n=27;t==n&&(D.closable?(O.debug("Escape key pressed hiding modal"),O.hide()):O.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){E.dimmer("is active")&&p(O.refresh)}},toggle:function(){O.is.active()||O.is.animating()?O.hide():O.show()},show:function(t){t=e.isFunction(t)?t:function(){},O.refreshModals(),O.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},O.refreshModals(),O.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},O.is.animating()||!O.is.active()?(O.showDimmer(),O.cacheSizes(),O.set.position(),O.set.screenHeight(),O.set.type(),O.set.clickaway(),!D.allowMultiple&&O.others.active()?O.hideOthers(O.showModal):(D.onShow.call(L),D.transition&&e.fn.transition!==i&&S.transition("is supported")?(O.debug("Showing modal with css animations"),S.transition({debug:D.debug,animation:D.transition+" in",queue:D.queue,duration:D.duration,useFailSafe:!0,onComplete:function(){D.onVisible.apply(L),O.add.keyboardShortcuts(),O.save.focus(),O.set.active(),D.autofocus&&O.set.autofocus(),t()}})):O.error(K.noTransition))):O.debug("Modal is already visible")},hideModal:function(t,n){return t=e.isFunction(t)?t:function(){},O.debug("Hiding modal"),D.onHide.call(L,e(this))===!1?void O.verbose("Hide callback returned false cancelling hide"):void((O.is.animating()||O.is.active())&&(D.transition&&e.fn.transition!==i&&S.transition("is supported")?(O.remove.active(),S.transition({debug:D.debug,animation:D.transition+" out",queue:D.queue,duration:D.duration,useFailSafe:!0,onStart:function(){O.others.active()||n||O.hideDimmer(),O.remove.keyboardShortcuts()},onComplete:function(){D.onHidden.call(L),O.restore.focus(),t()}})):O.error(K.noTransition)))},showDimmer:function(){E.dimmer("is animating")||!E.dimmer("is active")?(O.debug("Showing dimmer"),E.dimmer("show")):O.debug("Dimmer already visible")},hideDimmer:function(){return E.dimmer("is animating")||E.dimmer("is active")?void E.dimmer("hide",function(){O.remove.clickaway(),O.remove.screenHeight()}):void O.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var n=r.filter("."+_.active+", ."+_.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(O.debug("Hiding all visible modals"),O.hideDimmer(),n.modal("hide modal",t))},hideOthers:function(t){var n=v.filter("."+_.active+", ."+_.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(O.debug("Hiding other modals",v),n.modal("hide modal",t,!0))},others:{active:function(){return v.filter("."+_.active).length>0},animating:function(){return v.filter("."+_.animating).length>0}},add:{keyboardShortcuts:function(){O.verbose("Adding keyboard shortcuts"),l.on("keyup"+w,O.event.keyboard)}},save:{focus:function(){b=e(n.activeElement).blur()}},restore:{focus:function(){b&&b.length>0&&b.focus()}},remove:{active:function(){S.removeClass(_.active)},clickaway:function(){D.closable&&T.off("click"+C)},bodyStyle:function(){""===c.attr("style")&&(O.verbose("Removing style attribute"),c.removeAttr("style"))},screenHeight:function(){O.debug("Removing page height"),c.css("height","")},keyboardShortcuts:function(){O.verbose("Removing keyboard shortcuts"),l.off("keyup"+w)},scrolling:function(){E.removeClass(_.scrolling),S.removeClass(_.scrolling)}},cacheSizes:function(){var o=S.outerHeight();(O.cache===i||0!==o)&&(O.cache={pageHeight:e(n).outerHeight(),height:o+D.offset,contextHeight:"body"==D.context?e(t).height():E.height()}),O.debug("Caching modal and container sizes",O.cache)},can:{fit:function(){return O.cache.height+2*D.padding<O.cache.contextHeight}},is:{active:function(){return S.hasClass(_.active)},animating:function(){return S.transition("is supported")?S.transition("is animating"):S.is(":visible")},scrolling:function(){return E.hasClass(_.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)}},set:{autofocus:function(){var e=S.find(":input").filter(":visible"),t=e.filter("[autofocus]"),n=t.length>0?t.first():e.first();n.length>0&&n.focus()},clickaway:function(){D.closable&&T.on("click"+C,O.event.click)},screenHeight:function(){O.can.fit()?c.css("height",""):(O.debug("Modal is taller than page content, resizing page height"),c.css("height",O.cache.height+2*D.padding))},active:function(){S.addClass(_.active)},scrolling:function(){E.addClass(_.scrolling),S.addClass(_.scrolling)},type:function(){O.can.fit()?(O.verbose("Modal fits on screen"),O.others.active()||O.others.animating()||O.remove.scrolling()):(O.verbose("Modal cannot fit on screen setting to scrolling"),O.set.scrolling())},position:function(){O.verbose("Centering modal on page",O.cache),O.can.fit()?S.css({top:"",marginTop:-(O.cache.height/2)}):S.css({marginTop:"",top:l.scrollTop()})},undetached:function(){E.addClass(_.undetached)}},setting:function(t,n){if(O.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,D,t);else{if(n===i)return D[t];D[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,O,t);else{if(n===i)return O[t];O[t]=n}},debug:function(){D.debug&&(D.performance?O.performance.log(arguments):(O.debug=Function.prototype.bind.call(console.info,console,D.name+":"),O.debug.apply(console,arguments)))},verbose:function(){D.verbose&&D.debug&&(D.performance?O.performance.log(arguments):(O.verbose=Function.prototype.bind.call(console.info,console,D.name+":"),O.verbose.apply(console,arguments)))},error:function(){O.error=Function.prototype.bind.call(console.error,console,D.name+":"),O.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;D.performance&&(t=(new Date).getTime(),i=d||t,n=t-i,d=t,h.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:L,"Execution Time":n})),clearTimeout(O.performance.timer),O.performance.timer=setTimeout(O.performance.display,500)},display:function(){var t=D.name+":",n=0;d=!1,clearTimeout(O.performance.timer),e.each(h,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==i||console.table!==i)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,n,o){var r,s,l,c=P;return n=n||g,o=L||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},m?(P===i&&O.initialize(),O.invoke(f)):(P!==i&&P.invoke("destroy"),O.initialize())}),a!==i?a:this},e.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.nag=function(n){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var a,h=e.isPlainObject(n)?e.extend(!0,{},e.fn.nag.settings,n):e.extend({},e.fn.nag.settings),f=(h.className,h.selector),m=h.error,g=h.namespace,p="."+g,v=g+"-module",b=e(this),E=(b.find(f.close),e(h.context?h.context:"body")),T=this,C=b.data(v);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};a={initialize:function(){a.verbose("Initializing element"),b.on("click"+p,f.close,a.dismiss).data(v,a),h.detachable&&b.parent()[0]!==E[0]&&b.detach().prependTo(E),h.displayTime>0&&setTimeout(a.hide,h.displayTime),a.show()},destroy:function(){a.verbose("Destroying instance"),b.removeData(v).off(p)},show:function(){a.should.show()&&!b.is(":visible")&&(a.debug("Showing nag",h.animation.show),"fade"==h.animation.show?b.fadeIn(h.duration,h.easing):b.slideDown(h.duration,h.easing))},hide:function(){a.debug("Showing nag",h.animation.hide),"fade"==h.animation.show?b.fadeIn(h.duration,h.easing):b.slideUp(h.duration,h.easing)},onHide:function(){a.debug("Removing nag",h.animation.hide),b.remove(),h.onHide&&h.onHide()},dismiss:function(e){h.storageMethod&&a.storage.set(h.key,h.value),a.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return h.persist?(a.debug("Persistent nag is set, can show nag"),!0):a.storage.get(h.key)!=h.value.toString()?(a.debug("Stored value is not set, can show nag",a.storage.get(h.key)),!0):(a.debug("Stored value is set, cannot show nag",a.storage.get(h.key)),!1)}},get:{storageOptions:function(){var e={};return h.expires&&(e.expires=h.expires),h.domain&&(e.domain=h.domain),h.path&&(e.path=h.path),e}},clear:function(){a.storage.remove(h.key)},storage:{set:function(n,o){var r=a.get.storageOptions();if("localstorage"==h.storageMethod&&t.localStorage!==i)t.localStorage.setItem(n,o),a.debug("Value stored using local storage",n,o);else if("sessionstorage"==h.storageMethod&&t.sessionStorage!==i)t.sessionStorage.setItem(n,o),a.debug("Value stored using session storage",n,o);else{if(e.cookie===i)return void a.error(m.noCookieStorage);e.cookie(n,o,r),a.debug("Value stored using cookie",n,o,r)}},get:function(n,o){var r;return"localstorage"==h.storageMethod&&t.localStorage!==i?r=t.localStorage.getItem(n):"sessionstorage"==h.storageMethod&&t.sessionStorage!==i?r=t.sessionStorage.getItem(n):e.cookie!==i?r=e.cookie(n):a.error(m.noCookieStorage),("undefined"==r||"null"==r||r===i||null===r)&&(r=i),r},remove:function(n){var o=a.get.storageOptions();"localstorage"==h.storageMethod&&t.localStorage!==i?t.localStorage.removeItem(n):"sessionstorage"==h.storageMethod&&t.sessionStorage!==i?t.sessionStorage.removeItem(n):e.cookie!==i?e.removeCookie(n,o):a.error(m.noStorage)}},setting:function(t,n){if(a.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},debug:function(){h.debug&&(h.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,h.name+":"),a.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,h.name+":"),a.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(a.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var s,l,c,u=C;return n=n||d,r=T||r,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[r])&&n!=s)u=u[r];else{if(u[r]!==i)return l=u[r],!1;if(!e.isPlainObject(u[o])||n==s)return u[o]!==i?(l=u[o],!1):(a.error(m.method,t),!1);u=u[o]}})),e.isFunction(l)?c=l.apply(r,n):l!==i&&(c=l),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),l}},u?(C===i&&a.initialize(),a.invoke(c)):(C!==i&&C.invoke("destroy"),a.initialize())}),o!==i?o:this},e.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.popup=function(o){var a,r=e(this),s=e(n),l=e(t),c=e("body"),u=r.selector||"",d=!0,h=(new Date).getTime(),f=[],m=arguments[0],g="string"==typeof m,p=[].slice.call(arguments,1);return r.each(function(){var n,r,v,b,E,T=e.isPlainObject(o)?e.extend(!0,{},e.fn.popup.settings,o):e.extend({},e.fn.popup.settings),C=T.selector,y=T.className,I=T.error,O=T.metadata,D=T.namespace,R="."+T.namespace,_="module-"+D,k=e(this),K=e(T.context),w=T.target?e(T.target):k,x=0,S=!1,N=!1,A=this,L=k.data(_);E={initialize:function(){E.debug("Initializing",k),E.createID(),E.bind.events(),!E.exists()&&T.preserve&&E.create(),E.instantiate()},instantiate:function(){E.verbose("Storing instance",E),L=E,k.data(_,L)},refresh:function(){T.popup?n=e(T.popup).eq(0):T.inline&&(n=w.nextAll(C.popup).eq(0),T.popup=n),T.popup?(n.addClass(y.loading),r=E.get.offsetParent(),n.removeClass(y.loading),T.movePopup&&E.has.popup()&&E.get.offsetParent(n)[0]!==r[0]&&(E.debug("Moving popup to the same offset parent as activating element"),n.detach().appendTo(r))):r=T.inline?E.get.offsetParent(w):E.has.popup()?E.get.offsetParent(n):c,r.is("html")&&r[0]!==c[0]&&(E.debug("Setting page as offset parent"),r=c),E.get.variation()&&E.set.variation()},reposition:function(){E.refresh(),E.set.position()},destroy:function(){E.debug("Destroying previous module"),n&&!T.preserve&&E.removePopup(),clearTimeout(E.hideTimer),clearTimeout(E.showTimer),l.off(v),k.off(R).removeData(_)},event:{start:function(t){var n=e.isPlainObject(T.delay)?T.delay.show:T.delay;clearTimeout(E.hideTimer),N||(E.showTimer=setTimeout(E.show,n))},end:function(){var t=e.isPlainObject(T.delay)?T.delay.hide:T.delay;clearTimeout(E.showTimer),E.hideTimer=setTimeout(E.hide,t)},touchstart:function(e){N=!0,E.show()},resize:function(){E.is.visible()&&E.set.position()},hideGracefully:function(t){t&&0===e(t.target).closest(C.popup).length?(E.debug("Click occurred outside popup hiding popup"),E.hide()):E.debug("Click was inside popup, keeping popup open")}},create:function(){var t=E.get.html(),i=E.get.title(),o=E.get.content();t||o||i?(E.debug("Creating pop-up html"),t||(t=T.templates.popup({title:i,content:o})),n=e("<div/>").addClass(y.popup).data(O.activator,k).html(t),T.inline?(E.verbose("Inserting popup element inline",n),n.insertAfter(k)):(E.verbose("Appending popup element to body",n),n.appendTo(K)),E.refresh(),E.set.variation(),T.hoverable&&E.bind.popup(),T.onCreate.call(n,A)):0!==w.next(C.popup).length?(E.verbose("Pre-existing popup found"),T.inline=!0,T.popups=w.next(C.popup).data(O.activator,k),E.refresh(),T.hoverable&&E.bind.popup()):T.popup?(e(T.popup).data(O.activator,k),E.verbose("Used popup specified in settings"),E.refresh(),T.hoverable&&E.bind.popup()):E.debug("No content specified skipping display",A)},createID:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),v="."+b,E.verbose("Creating unique id for element",b)},toggle:function(){E.debug("Toggling pop-up"),E.is.hidden()?(E.debug("Popup is hidden, showing pop-up"),E.unbind.close(),E.show()):(E.debug("Popup is visible, hiding pop-up"),E.hide())},show:function(e){if(e=e||function(){},E.debug("Showing pop-up",T.transition),E.is.hidden()&&(!E.is.active()||!E.is.dropdown())){if(E.exists()||E.create(),T.onShow.call(n,A)===!1)return void E.debug("onShow callback returned false, cancelling popup animation");T.preserve||T.popup||E.refresh(),n&&E.set.position()&&(E.save.conditions(),T.exclusive&&E.hideAll(),E.animate.show(e))}},hide:function(e){if(e=e||function(){},E.is.visible()||E.is.animating()){if(T.onHide.call(n,A)===!1)return void E.debug("onHide callback returned false, cancelling popup animation");E.remove.visible(),E.unbind.close(),E.restore.conditions(),E.animate.hide(e)}},hideAll:function(){e(C.popup).filter("."+y.visible).each(function(){e(this).data(O.activator).popup("hide")})},exists:function(){return n?T.inline||T.popup?E.has.popup():n.closest(K).length>=1?!0:!1:!1},removePopup:function(){E.has.popup()&&!T.popup&&(E.debug("Removing popup",n),n.remove(),n=i,T.onRemove.call(n,A))},save:{conditions:function(){E.cache={title:k.attr("title")},E.cache.title&&k.removeAttr("title"),E.verbose("Saving original attributes",E.cache.title)}},restore:{conditions:function(){return E.cache&&E.cache.title&&(k.attr("title",E.cache.title),E.verbose("Restoring original attributes",E.cache.title)),!0}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},T.transition&&e.fn.transition!==i&&k.transition("is supported")?(E.set.visible(),n.transition({animation:T.transition+" in",queue:!1,debug:T.debug,verbose:T.verbose,duration:T.duration,onComplete:function(){E.bind.close(),t.call(n,A),T.onVisible.call(n,A)}})):E.error(I.noTransition)},hide:function(t){return t=e.isFunction(t)?t:function(){},E.debug("Hiding pop-up"),T.onHide.call(n,A)===!1?void E.debug("onHide callback returned false, cancelling popup animation"):void(T.transition&&e.fn.transition!==i&&k.transition("is supported")?n.transition({animation:T.transition+" out",queue:!1,duration:T.duration,debug:T.debug,verbose:T.verbose,onComplete:function(){E.reset(),t.call(n,A),T.onHidden.call(n,A)}}):E.error(I.noTransition))}},change:{content:function(e){n.html(e)}},get:{html:function(){return k.removeData(O.html),k.data(O.html)||T.html},title:function(){return k.removeData(O.title),k.data(O.title)||T.title},content:function(){return k.removeData(O.content),k.data(O.content)||k.attr("title")||T.content},variation:function(){return k.removeData(O.variation),k.data(O.variation)||T.variation},popup:function(){return n},popupOffset:function(){return n.offset()},calculations:function(){var e,i=w[0],o=T.inline||T.popup&&T.movePopup?w.position():w.offset(),a={};return a={target:{element:w[0],width:w.outerWidth(),height:w.outerHeight(),top:o.top,left:o.left,margin:{}},popup:{width:n.outerWidth(),height:n.outerHeight()},parent:{width:r.outerWidth(),height:r.outerHeight()},screen:{scroll:{top:l.scrollTop(),left:l.scrollLeft()},width:l.width(),height:l.height()}},T.setFluidWidth&&E.is.fluid()&&(a.container={width:n.parent().outerWidth()},a.popup.width=a.container.width),a.target.margin.top=T.inline?parseInt(t.getComputedStyle(i).getPropertyValue("margin-top"),10):0,a.target.margin.left=T.inline?E.is.rtl()?parseInt(t.getComputedStyle(i).getPropertyValue("margin-right"),10):parseInt(t.getComputedStyle(i).getPropertyValue("margin-left"),10):0,e=a.screen,a.boundary={top:e.scroll.top,bottom:e.scroll.top+e.height,left:e.scroll.left,right:e.scroll.left+e.width},a},id:function(){return b},startEvent:function(){return"hover"==T.on?"mouseenter":"focus"==T.on?"focus":!1},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==T.on?"mouseleave":"focus"==T.on?"blur":!1},distanceFromBoundary:function(e,t){var n,i,o={};return e=e||E.get.offset(),t=t||E.get.calculations(),n=t.popup,i=t.boundary,e&&(o={top:e.top-i.top,left:e.left-i.left,right:i.right-(e.left+n.width),bottom:i.bottom-(e.top+n.height)},E.verbose("Distance from boundaries determined",e,o)),o},offsetParent:function(t){var n=t!==i?t[0]:k[0],o=n.parentNode,a=e(o);if(o)for(var r="none"===a.css("transform"),s="static"===a.css("position"),l=a.is("html");o&&!l&&s&&r;)o=o.parentNode,a=e(o),r="none"===a.css("transform"),s="static"===a.css("position"),l=a.is("html");return a&&a.length>0?a:e()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),n=t[0],i=t[1],o={top:"bottom",bottom:"top",left:"right",right:"left"},a={left:"center",center:"right",right:"left"},r={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},s="top"==n||"bottom"==n,l=!1,c=!1,u=!1;return S||(E.verbose("All available positions available"),S=E.get.positions()),E.debug("Recording last position tried",e),S[e]=!0,"opposite"===T.prefer&&(u=[o[n],i],u=u.join(" "),l=S[u]===!0,E.debug("Trying opposite strategy",u)),"adjacent"===T.prefer&&s&&(u=[n,a[i]],u=u.join(" "),c=S[u]===!0,E.debug("Trying adjacent strategy",u)),(c||l)&&(E.debug("Using backup position",u),u=r[e]),u}},set:{position:function(e,t){if(0===w.length||0===n.length)return void E.error(I.notFound);
var o,a,r,s,l,c,u,d;if(t=t||E.get.calculations(),e=e||k.data(O.position)||T.position,o=k.data(O.offset)||T.offset,a=T.distanceAway,r=t.target,s=t.popup,l=t.parent,0===r.width&&0===r.height&&!(r.element instanceof SVGGraphicsElement))return E.debug("Popup target is hidden, no action taken"),!1;switch(T.inline&&(E.debug("Adding margin to calculation",r.margin),"left center"==e||"right center"==e?(o+=r.margin.top,a+=-r.margin.left):"top left"==e||"top center"==e||"top right"==e?(o+=r.margin.left,a-=r.margin.top):(o+=r.margin.left,a+=r.margin.top)),E.debug("Determining popup position from calculations",e,t),E.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),E.debug("RTL: Popup position updated",e)),x==T.maxSearchDepth&&"string"==typeof T.lastResort&&(e=T.lastResort),e){case"top left":c={top:"auto",bottom:l.height-r.top+a,left:r.left+o,right:"auto"};break;case"top center":c={bottom:l.height-r.top+a,left:r.left+r.width/2-s.width/2+o,top:"auto",right:"auto"};break;case"top right":c={bottom:l.height-r.top+a,right:l.width-r.left-r.width-o,top:"auto",left:"auto"};break;case"left center":c={top:r.top+r.height/2-s.height/2+o,right:l.width-r.left+a,left:"auto",bottom:"auto"};break;case"right center":c={top:r.top+r.height/2-s.height/2+o,left:r.left+r.width+a,bottom:"auto",right:"auto"};break;case"bottom left":c={top:r.top+r.height+a,left:r.left+o,bottom:"auto",right:"auto"};break;case"bottom center":c={top:r.top+r.height+a,left:r.left+r.width/2-s.width/2+o,bottom:"auto",right:"auto"};break;case"bottom right":c={top:r.top+r.height+a,right:l.width-r.left-r.width-o,left:"auto",bottom:"auto"}}if(c===i&&E.error(I.invalidPosition,e),E.debug("Calculated popup positioning values",c),n.css(c).removeClass(y.position).addClass(e).addClass(y.loading),u=E.get.popupOffset(),d=E.get.distanceFromBoundary(u,t),E.is.offstage(d,e)){if(E.debug("Position is outside viewport",e),x<T.maxSearchDepth)return x++,e=E.get.nextPosition(e),E.debug("Trying new position",e),n?E.set.position(e,t):!1;if(!T.lastResort)return E.debug("Popup could not find a position to display",n),E.error(I.cannotPlace,A),E.remove.attempts(),E.remove.loading(),E.reset(),T.onUnplaceable.call(n,A),!1;E.debug("No position found, showing with last position")}return E.debug("Position is on stage",e),E.remove.attempts(),E.remove.loading(),T.setFluidWidth&&E.is.fluid()&&E.set.fluidWidth(t),!0},fluidWidth:function(e){e=e||E.get.calculations(),E.debug("Automatically setting element width to parent width",e.parent.width),n.css("width",e.container.width)},variation:function(e){e=e||E.get.variation(),e&&E.has.popup()&&(E.verbose("Adding variation to popup",e),n.addClass(e))},visible:function(){k.addClass(y.visible)}},remove:{loading:function(){n.removeClass(y.loading)},variation:function(e){e=e||E.get.variation(),e&&(E.verbose("Removing variation",e),n.removeClass(e))},visible:function(){k.removeClass(y.visible)},attempts:function(){E.verbose("Resetting all searched positions"),x=0,S=!1}},bind:{events:function(){E.debug("Binding popup events to module"),"click"==T.on&&k.on("click"+R,E.toggle),"hover"==T.on&&d&&k.on("touchstart"+R,E.event.touchstart),E.get.startEvent()&&k.on(E.get.startEvent()+R,E.event.start).on(E.get.endEvent()+R,E.event.end),T.target&&E.debug("Target set to element",w),l.on("resize"+v,E.event.resize)},popup:function(){E.verbose("Allowing hover events on popup to prevent closing"),n&&E.has.popup()&&n.on("mouseenter"+R,E.event.start).on("mouseleave"+R,E.event.end)},close:function(){(T.hideOnScroll===!0||"auto"==T.hideOnScroll&&"click"!=T.on)&&(s.one(E.get.scrollEvent()+v,E.event.hideGracefully),K.one(E.get.scrollEvent()+v,E.event.hideGracefully)),"hover"==T.on&&N&&(E.verbose("Binding popup close event to document"),s.on("touchstart"+v,function(e){E.verbose("Touched away from popup"),E.event.hideGracefully.call(A,e)})),"click"==T.on&&T.closable&&(E.verbose("Binding popup close event to document"),s.on("click"+v,function(e){E.verbose("Clicked away from popup"),E.event.hideGracefully.call(A,e)}))}},unbind:{close:function(){(T.hideOnScroll===!0||"auto"==T.hideOnScroll&&"click"!=T.on)&&(s.off("scroll"+v,E.hide),K.off("scroll"+v,E.hide)),"hover"==T.on&&N&&(s.off("touchstart"+v),N=!1),"click"==T.on&&T.closable&&(E.verbose("Removing close event from document"),s.off("click"+v))}},has:{popup:function(){return n&&n.length>0}},is:{offstage:function(t,n){var i=[];return e.each(t,function(e,t){t<-T.jitter&&(E.debug("Position exceeds allowable distance from edge",e,t,n),i.push(e))}),i.length>0?!0:!1},active:function(){return k.hasClass(y.active)},animating:function(){return n!==i&&n.hasClass(y.animating)},fluid:function(){return n!==i&&n.hasClass(y.fluid)},visible:function(){return n!==i&&n.hasClass(y.visible)},dropdown:function(){return k.hasClass(y.dropdown)},hidden:function(){return!E.is.visible()},rtl:function(){return"rtl"==k.css("direction")}},reset:function(){E.remove.visible(),T.preserve?e.fn.transition!==i&&n.transition("remove transition"):E.removePopup()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];T[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,E,t);else{if(n===i)return E[t];E[t]=n}},debug:function(){T.debug&&(T.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,T.name+":"),E.debug.apply(console,arguments)))},verbose:function(){T.verbose&&T.debug&&(T.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,T.name+":"),E.verbose.apply(console,arguments)))},error:function(){E.error=Function.prototype.bind.call(console.error,console,T.name+":"),E.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;T.performance&&(t=(new Date).getTime(),i=h||t,n=t-i,h=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":n})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var t=T.name+":",n=0;h=!1,clearTimeout(E.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==i||console.table!==i)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,o){var r,s,l,c=L;return n=n||p,o=A||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},g?(L===i&&E.initialize(),E.invoke(m)):(L!==i&&L.invoke("destroy"),E.initialize())}),a!==i?a:this},e.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},popup:function(t){var n="",o=e.fn.popup.settings.templates.escape;return typeof t!==i&&(typeof t.title!==i&&t.title&&(t.title=o(t.title),n+='<div class="header">'+t.title+"</div>"),typeof t.content!==i&&t.content&&(t.content=o(t.content),n+='<div class="content">'+t.content+"</div>")),n}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.progress=function(t){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var a,h,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),m=f.className,g=f.metadata,p=f.namespace,v=f.selector,b=f.error,E="."+p,T="module-"+p,C=e(this),y=e(this).find(v.bar),I=e(this).find(v.progress),O=e(this).find(v.label),D=this,R=C.data(T),_=!1;h={initialize:function(){h.debug("Initializing progress bar",f),h.set.duration(),h.set.transitionEvent(),h.read.metadata(),h.read.settings(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of progress",h),R=h,C.data(T,h)},destroy:function(){h.verbose("Destroying previous progress for",C),clearInterval(R.interval),h.remove.state(),C.removeData(T),R=i},reset:function(){h.set.percent(0),h.set.value(0)},complete:function(){(h.percent===i||h.percent<100)&&h.set.percent(100)},read:{metadata:function(){var e={percent:C.data(g.percent),total:C.data(g.total),value:C.data(g.value)};e.percent&&(h.debug("Current percent value set from metadata",e.percent),h.set.percent(e.percent)),e.total&&(h.debug("Total value set from metadata",e.total),h.set.total(e.total)),e.value&&(h.debug("Current value set from metadata",e.value),h.set.value(e.value),h.set.progress(e.value))},settings:function(){f.total!==!1&&(h.debug("Current total set in settings",f.total),h.set.total(f.total)),f.value!==!1&&(h.debug("Current value set in settings",f.value),h.set.value(f.value),h.set.progress(h.value)),f.percent!==!1&&(h.debug("Current percent set in settings",f.percent),h.set.percent(f.percent))}},increment:function(e){var t,n,i;h.has.total()?(n=h.get.value(),e=e||1,i=n+e,t=h.get.total(),h.debug("Incrementing value",n,i,t),i>t&&(h.debug("Value cannot increment above total",t),i=t)):(n=h.get.percent(),e=e||h.get.randomValue(),i=n+e,t=100,h.debug("Incrementing percentage by",n,i),i>t&&(h.debug("Value cannot increment above 100 percent"),i=t)),h.set.progress(i)},decrement:function(e){var t,n,i=h.get.total();i?(t=h.get.value(),e=e||1,n=t-e,h.debug("Decrementing value by",e,t)):(t=h.get.percent(),e=e||h.get.randomValue(),n=t-e,h.debug("Decrementing percentage by",e,t)),0>n&&(h.debug("Value cannot decrement below 0"),n=0),h.set.progress(n)},has:{total:function(){return h.get.total()!==!1}},get:{text:function(e){var t=h.value||0,n=h.total||0,i=_?h.get.displayPercent():h.percent||0,o=h.total>0?n-t:100-i;return e=e||"",e=e.replace("{value}",t).replace("{total}",n).replace("{left}",o).replace("{percent}",i),h.debug("Adding variables to progress bar text",e),e},randomValue:function(){return h.debug("Generating random increment percentage"),Math.floor(Math.random()*f.random.max+f.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")?+e.replace(/[^\d.]/g,""):!1:e},transitionEnd:function(){var e,t=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==i)return o[e]},displayPercent:function(){var e=y.width(),t=C.width(),n=parseInt(y.css("min-width"),10),i=e>n?e/t*100:h.percent;return f.precision>0?Math.round(i*(10*f.precision))/(10*f.precision):Math.round(i)},percent:function(){return h.percent||0},value:function(){return h.value||0},total:function(){return h.total||!1}},is:{success:function(){return C.hasClass(m.success)},warning:function(){return C.hasClass(m.warning)},error:function(){return C.hasClass(m.error)},active:function(){return C.hasClass(m.active)},visible:function(){return C.is(":visible")}},remove:{state:function(){h.verbose("Removing stored state"),delete h.total,delete h.percent,delete h.value},active:function(){h.verbose("Removing active state"),C.removeClass(m.active)},success:function(){h.verbose("Removing success state"),C.removeClass(m.success)},warning:function(){h.verbose("Removing warning state"),C.removeClass(m.warning)},error:function(){h.verbose("Removing error state"),C.removeClass(m.error)}},set:{barWidth:function(e){e>100?h.error(b.tooHigh,e):0>e?h.error(b.tooLow,e):(y.css("width",e+"%"),C.attr("data-percent",parseInt(e,10)))},duration:function(e){e=e||f.duration,e="number"==typeof e?e+"ms":e,h.verbose("Setting progress bar transition duration",e),y.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=f.precision>0?Math.round(e*(10*f.precision))/(10*f.precision):Math.round(e),h.percent=e,h.has.total()||(h.value=f.precision>0?Math.round(e/100*h.total*(10*f.precision))/(10*f.precision):Math.round(e/100*h.total*10)/10,f.limitValues&&(h.value=h.value>100?100:h.value<0?0:h.value)),h.set.barWidth(e),h.set.labelInterval(),h.set.labels(),f.onChange.call(D,e,h.value,h.total)},labelInterval:function(){var e=function(){h.verbose("Bar finished animating, removing continuous label updates"),clearInterval(h.interval),_=!1,h.set.labels()};clearInterval(h.interval),y.one(a+E,e),h.timer=setTimeout(e,f.duration+100),_=!0,h.interval=setInterval(h.set.labels,f.framerate)},labels:function(){h.verbose("Setting both bar progress and outer label text"),h.set.barLabel(),h.set.state()},label:function(e){e=e||"",e&&(e=h.get.text(e),h.debug("Setting label to text",e),O.text(e))},state:function(e){e=e!==i?e:h.percent,100===e?!f.autoSuccess||h.is.warning()||h.is.error()?(h.verbose("Reached 100% removing active state"),h.remove.active()):(h.set.success(),h.debug("Automatically triggering success at 100%")):e>0?(h.verbose("Adjusting active progress bar label",e),h.set.active()):(h.remove.active(),h.set.label(f.text.active))},barLabel:function(e){e!==i?I.text(h.get.text(e)):"ratio"==f.label&&h.total?(h.debug("Adding ratio to bar label"),I.text(h.get.text(f.text.ratio))):"percent"==f.label&&(h.debug("Adding percentage to bar label"),I.text(h.get.text(f.text.percent)))},active:function(e){e=e||f.text.active,h.debug("Setting active state"),f.showActivity&&!h.is.active()&&C.addClass(m.active),h.remove.warning(),h.remove.error(),h.remove.success(),e&&h.set.label(e),f.onActive.call(D,h.value,h.total)},success:function(e){e=e||f.text.success,h.debug("Setting success state"),C.addClass(m.success),h.remove.active(),h.remove.warning(),h.remove.error(),h.complete(),e&&h.set.label(e),f.onSuccess.call(D,h.total)},warning:function(e){e=e||f.text.warning,h.debug("Setting warning state"),C.addClass(m.warning),h.remove.active(),h.remove.success(),h.remove.error(),h.complete(),e&&h.set.label(e),f.onWarning.call(D,h.value,h.total)},error:function(e){e=e||f.text.error,h.debug("Setting error state"),C.addClass(m.error),h.remove.active(),h.remove.success(),h.remove.warning(),h.complete(),e&&h.set.label(e),f.onError.call(D,h.value,h.total)},transitionEvent:function(){a=h.get.transitionEnd()},total:function(e){h.total=e},value:function(e){h.value=e},progress:function(e){var t,n=h.get.numericValue(e);n===!1&&h.error(b.nonNumeric,e),h.has.total()?(h.set.value(n),t=n/h.total*100,h.debug("Calculating percent complete from total",t),h.set.percent(t)):(t=n,h.debug("Setting value to exact percentage value",t),h.set.percent(t))}},setting:function(t,n){if(h.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=R;return n=n||d,a=D||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(h.error(b.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(R===i&&h.initialize(),h.invoke(c)):(R!==i&&R.invoke("destroy"),h.initialize())}),o!==i?o:this},e.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.rating=function(t){var n,o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return o.each(function(){var d,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),f=h.namespace,m=h.className,g=h.metadata,p=h.selector,v=(h.error,"."+f),b="module-"+f,E=this,T=e(this).data(b),C=e(this),y=C.find(p.icon);d={initialize:function(){d.verbose("Initializing rating module",h),0===y.length&&d.setup.layout(),h.interactive?d.enable():d.disable(),d.set.rating(d.get.initialRating()),d.instantiate()},instantiate:function(){d.verbose("Instantiating module",h),T=d,C.data(b,d)},destroy:function(){d.verbose("Destroying previous instance",T),d.remove.events(),C.removeData(b)},refresh:function(){y=C.find(p.icon)},setup:{layout:function(){var t=d.get.maxRating(),n=e.fn.rating.settings.templates.icon(t);d.debug("Generating icon html dynamically"),C.html(n),d.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(m.selected),C.addClass(m.selected),t.addClass(m.selected).prevAll().addClass(m.selected)},mouseleave:function(){C.removeClass(m.selected),y.removeClass(m.selected)},click:function(){var t=e(this),n=d.get.rating(),i=y.index(t)+1,o="auto"==h.clearable?1===y.length:h.clearable;o&&n==i?d.clearRating():d.set.rating(i)}},clearRating:function(){d.debug("Clearing current rating"),d.set.rating(0)},bind:{events:function(){d.verbose("Binding events"),C.on("mouseenter"+v,p.icon,d.event.mouseenter).on("mouseleave"+v,p.icon,d.event.mouseleave).on("click"+v,p.icon,d.event.click)}},remove:{events:function(){d.verbose("Removing events"),C.off(v)}},enable:function(){d.debug("Setting rating to interactive mode"),d.bind.events(),C.removeClass(m.disabled)},disable:function(){d.debug("Setting rating to read-only mode"),d.remove.events(),C.addClass(m.disabled)},get:{initialRating:function(){return C.data(g.rating)!==i?(C.removeData(g.rating),C.data(g.rating)):h.initialRating},maxRating:function(){return C.data(g.maxRating)!==i?(C.removeData(g.maxRating),C.data(g.maxRating)):h.maxRating},rating:function(){var e=y.filter("."+m.active).length;return d.verbose("Current rating retrieved",e),e}},set:{rating:function(e){var t=e-1>=0?e-1:0,n=y.eq(t);C.removeClass(m.selected),y.removeClass(m.selected).removeClass(m.active),e>0&&(d.verbose("Setting current rating to",e),n.prevAll().andSelf().addClass(m.active)),h.onRate.call(E,e)}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},debug:function(){h.debug&&(h.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,h.name+":"),d.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,h.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=h.name+":",n=0;r=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,o,a){var r,s,l,c=T;return o=o||u,a=E||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(a,o):s!==i&&(l=s),e.isArray(n)?n.push(l):n!==i?n=[n,l]:l!==i&&(n=l),s}},c?(T===i&&d.initialize(),d.invoke(l)):(T!==i&&T.invoke("destroy"),d.initialize())}),n!==i?n:this},e.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,n="";e>=t;)n+='<i class="icon"></i>',t++;return n}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.search=function(o){var a,r=e(this),s=r.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,h=[].slice.call(arguments,1);return e(this).each(function(){var f,m=e.isPlainObject(o)?e.extend(!0,{},e.fn.search.settings,o):e.extend({},e.fn.search.settings),g=m.className,p=m.metadata,v=m.regExp,b=m.fields,E=m.selector,T=m.error,C=m.namespace,y="."+C,I=C+"-module",O=e(this),D=O.find(E.prompt),R=O.find(E.searchButton),_=O.find(E.results),k=(O.find(E.result),O.find(E.category),this),K=O.data(I);f={initialize:function(){f.verbose("Initializing module"),f.determine.searchFields(),f.bind.events(),f.set.type(),f.create.results(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),K=f,O.data(I,f)},destroy:function(){f.verbose("Destroying instance"),O.off(y).removeData(I)},bind:{events:function(){f.verbose("Binding events to search"),m.automatic&&(O.on(f.get.inputEvent()+y,E.prompt,f.event.input),D.attr("autocomplete","off")),O.on("focus"+y,E.prompt,f.event.focus).on("blur"+y,E.prompt,f.event.blur).on("keydown"+y,E.prompt,f.handleKeyboard).on("click"+y,E.searchButton,f.query).on("mousedown"+y,E.results,f.event.result.mousedown).on("mouseup"+y,E.results,f.event.result.mouseup).on("click"+y,E.result,f.event.result.click)}},determine:{searchFields:function(){o&&o.searchFields!==i&&(m.searchFields=o.searchFields)}},event:{input:function(){clearTimeout(f.timer),f.timer=setTimeout(f.query,m.searchDelay)},focus:function(){f.set.focus(),f.has.minimumCharacters()&&(f.query(),f.can.show()&&f.showResults())},blur:function(e){var t=n.activeElement===this,i=function(){f.cancel.query(),f.remove.focus(),f.timer=setTimeout(f.hideResults,m.hideDelay)};t||(f.resultsClicked?(f.debug("Determining if user action caused search to close"),O.one("click",E.results,function(e){f.is.animating()||f.is.hidden()||i()})):(f.debug("Input blurred without user action, closing results"),i()))},result:{mousedown:function(){f.resultsClicked=!0},mouseup:function(){f.resultsClicked=!1},click:function(n){f.debug("Search result selected");var i=e(this),o=i.find(E.title).eq(0),a=i.find("a[href]").eq(0),r=a.attr("href")||!1,s=a.attr("target")||!1,l=(o.html(),o.length>0?o.text():!1),c=f.get.results(),u=i.data(p.result)||f.get.result(l,c);return e.isFunction(m.onSelect)&&m.onSelect.call(k,u,c)===!1?void f.debug("Custom onSelect callback cancelled default select action"):(f.hideResults(),l&&f.set.value(l),void(r&&(f.verbose("Opening search link found in result",a),"_blank"==s||n.ctrlKey?t.open(r):t.location.href=r)))}}},handleKeyboard:function(e){var t,n=O.find(E.result),i=O.find(E.category),o=n.index(n.filter("."+g.active)),a=n.length,r=e.which,s={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(r==s.escape&&(f.verbose("Escape key pressed, blurring search field"),f.trigger.blur()),f.is.visible())if(r==s.enter){if(f.verbose("Enter key pressed, selecting active result"),n.filter("."+g.active).length>0)return f.event.result.click.call(n.filter("."+g.active),e),e.preventDefault(),!1}else r==s.upArrow?(f.verbose("Up key pressed, changing active result"),t=0>o-1?o:o-1,i.removeClass(g.active),n.removeClass(g.active).eq(t).addClass(g.active).closest(i).addClass(g.active),e.preventDefault()):r==s.downArrow&&(f.verbose("Down key pressed, changing active result"),t=o+1>=a?o:o+1,i.removeClass(g.active),n.removeClass(g.active).eq(t).addClass(g.active).closest(i).addClass(g.active),e.preventDefault());else r==s.enter&&(f.verbose("Enter key pressed, executing query"),f.query(),f.set.buttonPressed(),D.one("keyup",f.remove.buttonFocus))},setup:{api:function(){var e={debug:m.debug,on:!1,cache:"local",action:"search",onError:f.error};f.verbose("First request, initializing API"),O.api(e)}},can:{useAPI:function(){return e.fn.api!==i},show:function(){return f.is.focused()&&!f.is.visible()&&!f.is.empty()},transition:function(){return m.transition&&e.fn.transition!==i&&O.transition("is supported")}},is:{animating:function(){return _.hasClass(g.animating)},hidden:function(){return _.hasClass(g.hidden)},empty:function(){return""===_.html()},visible:function(){return _.filter(":visible").length>0},focused:function(){return D.filter(":focus").length>0}},trigger:{blur:function(){var e=n.createEvent("HTMLEvents"),t=D[0];t&&(f.verbose("Triggering native blur event"),e.initEvent("blur",!1,!1),t.dispatchEvent(e))}},get:{inputEvent:function(){var e=D[0],t=e!==i&&e.oninput!==i?"input":e!==i&&e.onpropertychange!==i?"propertychange":"keyup";return t},value:function(){return D.val()},results:function(){var e=O.data(p.results);return e},result:function(t,n){var o=["title","id"],a=!1;return t=t!==i?t:f.get.value(),n=n!==i?n:f.get.results(),"category"===m.type?(f.debug("Finding result that matches",t),e.each(n,function(n,i){return e.isArray(i.results)&&(a=f.search.object(t,i.results,o)[0])?!1:void 0})):(f.debug("Finding result in results object",t),a=f.search.object(t,n,o)[0]),a||!1}},set:{focus:function(){O.addClass(g.focus)},loading:function(){O.addClass(g.loading)},value:function(e){f.verbose("Setting search input value",e),D.val(e)},type:function(e){e=e||m.type,"category"==m.type&&O.addClass(m.type)},buttonPressed:function(){R.addClass(g.pressed)}},remove:{loading:function(){O.removeClass(g.loading)},focus:function(){O.removeClass(g.focus)},buttonPressed:function(){R.removeClass(g.pressed)}},query:function(){var t=f.get.value(),n=f.read.cache(t);f.has.minimumCharacters()?(n?(f.debug("Reading result from cache",t),f.save.results(n.results),f.addResults(n.html),f.inject.id(n.results)):(f.debug("Querying for",t),e.isPlainObject(m.source)||e.isArray(m.source)?f.search.local(t):f.can.useAPI()?f.search.remote(t):f.error(T.source)),m.onSearchQuery.call(k,t)):f.hideResults()},search:{local:function(e){var t,n=f.search.object(e,m.content);f.set.loading(),f.save.results(n),f.debug("Returned local search results",n),t=f.generateResults({results:n}),f.remove.loading(),f.addResults(t),f.inject.id(n),f.write.cache(e,{html:t,results:n})},remote:function(t){var n={onSuccess:function(e){f.parse.response.call(k,e,t)},onFailure:function(){f.displayMessage(T.serverError)},urlData:{query:t}};O.api("get request")||f.setup.api(),e.extend(!0,n,m.apiSettings),f.debug("Executing search",n),f.cancel.query(),O.api("setting",n).api("query")},object:function(t,n,o){var a=[],r=[],s=t.toString().replace(v.escape,"\\$&"),l=new RegExp(v.beginsWith+s,"i"),c=function(t,n){var i=-1==e.inArray(n,a),o=-1==e.inArray(n,r);i&&o&&t.push(n)};return n=n||m.source,o=o!==i?o:m.searchFields,e.isArray(o)||(o=[o]),n===i||n===!1?(f.error(T.source),[]):(e.each(o,function(i,o){e.each(n,function(e,n){var i="string"==typeof n[o];i&&(-1!==n[o].search(l)?c(a,n):m.searchFullText&&f.fuzzySearch(t,n[o])&&c(r,n))})}),e.merge(a,r))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,a=0;i>o;o++){for(var r=e.charCodeAt(o);n>a;)if(t.charCodeAt(a++)===r)continue e;return!1}return!0},parse:{response:function(e,t){var n=f.generateResults(e);f.verbose("Parsing server response",e),e!==i&&t!==i&&e[b.results]!==i&&(f.addResults(n),f.inject.id(e[b.results]),f.write.cache(t,{html:n,results:e[b.results]}),f.save.results(e[b.results]))}},cancel:{query:function(){f.can.useAPI()&&O.api("abort")}},has:{minimumCharacters:function(){var e=f.get.value(),t=e.length;return t>=m.minCharacters}},clear:{cache:function(e){var t=O.data(p.cache);e?e&&t&&t[e]&&(f.debug("Removing value from cache",e),delete t[e],O.data(p.cache,t)):(f.debug("Clearing cache",e),O.removeData(p.cache))}},read:{cache:function(e){var t=O.data(p.cache);return m.cache?(f.verbose("Checking cache for generated html for query",e),"object"==typeof t&&t[e]!==i?t[e]:!1):!1}},create:{id:function(e,t){var n,o,a=e+1;return t!==i?(n=String.fromCharCode(97+t),o=n+a,f.verbose("Creating category result id",o)):(o=a,f.verbose("Creating result id",o)),o},results:function(){0===_.length&&(_=e("<div />").addClass(g.results).appendTo(O))}},inject:{result:function(e,t,n){f.verbose("Injecting result into results");var o=n!==i?_.children().eq(n).children(E.result).eq(t):_.children(E.result).eq(t);f.verbose("Injecting results metadata",o),o.data(p.result,e)},id:function(t){f.debug("Injecting unique ids into results");var n=0,o=0;return"category"===m.type?e.each(t,function(t,a){o=0,e.each(a.results,function(e,t){var r=a.results[e];r.id===i&&(r.id=f.create.id(o,n)),f.inject.result(r,o,n),o++}),n++}):e.each(t,function(e,n){var a=t[e];a.id===i&&(a.id=f.create.id(o)),f.inject.result(a,o),o++}),t}},save:{results:function(e){f.verbose("Saving current search results to metadata",e),O.data(p.results,e)}},write:{cache:function(e,t){var n=O.data(p.cache)!==i?O.data(p.cache):{};m.cache&&(f.verbose("Writing generated html to cache",e,t),n[e]=t,O.data(p.cache,n))}},addResults:function(t){return e.isFunction(m.onResultsAdd)&&m.onResultsAdd.call(_,t)===!1?(f.debug("onResultsAdd callback cancelled default action"),
!1):(_.html(t),void(f.can.show()&&f.showResults()))},showResults:function(){f.is.visible()||(f.can.transition()?(f.debug("Showing results with css animations"),_.transition({animation:m.transition+" in",debug:m.debug,verbose:m.verbose,duration:m.duration,queue:!0})):(f.debug("Showing results with javascript"),_.stop().fadeIn(m.duration,m.easing)),m.onResultsOpen.call(_))},hideResults:function(){f.is.visible()&&(f.can.transition()?(f.debug("Hiding results with css animations"),_.transition({animation:m.transition+" out",debug:m.debug,verbose:m.verbose,duration:m.duration,queue:!0})):(f.debug("Hiding results with javascript"),_.stop().fadeOut(m.duration,m.easing)),m.onResultsClose.call(_))},generateResults:function(t){f.debug("Generating html from response",t);var n=m.templates[m.type],i=e.isPlainObject(t[b.results])&&!e.isEmptyObject(t[b.results]),o=e.isArray(t[b.results])&&t[b.results].length>0,a="";return i||o?(m.maxResults>0&&(i?"standard"==m.type&&f.error(T.maxResults):t[b.results]=t[b.results].slice(0,m.maxResults)),e.isFunction(n)?a=n(t,b):f.error(T.noTemplate,!1)):a=f.displayMessage(T.noResults,"empty"),m.onResults.call(k,t),a},displayMessage:function(e,t){return t=t||"standard",f.debug("Displaying message",e,t),f.addResults(m.templates.message(e,t)),m.templates.message(e,t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+":",n=0;l=!1,clearTimeout(f.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),r.length>1&&(t+=" ("+r.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=K;return n=n||h,o=k||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(K===i&&f.initialize(),f.invoke(u)):(K!==i&&K.invoke("destroy"),f.initialize())}),a!==i?a:this},e.fn.search.settings={name:"Search",namespace:"search",debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},message:function(e,t){var n="";return e!==i&&t!==i&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(t,n){var o="";e.fn.search.settings.templates.escape;return t[n.categoryResults]!==i?(e.each(t[n.categoryResults],function(t,a){a[n.results]!==i&&a.results.length>0&&(o+='<div class="category">',a[n.categoryName]!==i&&(o+='<div class="name">'+a[n.categoryName]+"</div>"),e.each(a.results,function(e,t){o+=t[n.url]?'<a class="result" href="'+t[n.url]+'">':'<a class="result">',t[n.image]!==i&&(o+='<div class="image"> <img src="'+t[n.image]+'"></div>'),o+='<div class="content">',t[n.price]!==i&&(o+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==i&&(o+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==i&&(o+='<div class="description">'+t[n.description]+"</div>"),o+="</div>",o+="</a>"}),o+="</div>")}),t[n.action]&&(o+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),o):!1},standard:function(t,n){var o="";return t[n.results]!==i?(e.each(t[n.results],function(e,t){o+=t[n.url]?'<a class="result" href="'+t[n.url]+'">':'<a class="result">',t[n.image]!==i&&(o+='<div class="image"> <img src="'+t[n.image]+'"></div>'),o+='<div class="content">',t[n.price]!==i&&(o+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==i&&(o+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==i&&(o+='<div class="description">'+t[n.description]+"</div>"),o+="</div>",o+="</a>"}),t[n.action]&&(o+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),o):!1}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.shape=function(o){var a,r=e(this),s=(e("body"),(new Date).getTime()),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1),h=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var t,f,m,g=r.selector||"",p=e.isPlainObject(o)?e.extend(!0,{},e.fn.shape.settings,o):e.extend({},e.fn.shape.settings),v=p.namespace,b=p.selector,E=p.error,T=p.className,C="."+v,y="module-"+v,I=e(this),O=I.find(b.sides),D=I.find(b.side),R=!1,_=this,k=I.data(y);m={initialize:function(){m.verbose("Initializing module for",_),m.set.defaultSide(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),k=m,I.data(y,k)},destroy:function(){m.verbose("Destroying previous module for",_),I.removeData(y).off(C)},refresh:function(){m.verbose("Refreshing selector cache for",_),I=e(_),O=e(this).find(b.shape),D=e(this).find(b.side)},repaint:function(){m.verbose("Forcing repaint event");var e=O[0]||n.createElement("div");e.offsetWidth},animate:function(e,n){m.verbose("Animating box with properties",e),n=n||function(e){m.verbose("Executing animation callback"),e!==i&&e.stopPropagation(),m.reset(),m.set.active()},p.beforeChange.call(f[0]),m.get.transitionEvent()?(m.verbose("Starting CSS animation"),I.addClass(T.animating),O.css(e).one(m.get.transitionEvent(),n),m.set.duration(p.duration),h(function(){I.addClass(T.animating),t.addClass(T.hidden)})):n()},queue:function(e){m.debug("Queueing animation of",e),O.one(m.get.transitionEvent(),function(){m.debug("Executing queued animation"),setTimeout(function(){I.shape(e)},0)})},reset:function(){m.verbose("Animating states reset"),I.removeClass(T.animating).attr("style","").removeAttr("style"),O.attr("style","").removeAttr("style"),D.attr("style","").removeAttr("style").removeClass(T.hidden),f.removeClass(T.animating).attr("style","").removeAttr("style")},is:{complete:function(){return D.filter("."+T.active)[0]==f[0]},animating:function(){return I.hasClass(T.animating)}},set:{defaultSide:function(){t=I.find("."+p.className.active),f=t.next(b.side).length>0?t.next(b.side):I.find(b.side).first(),R=!1,m.verbose("Active side set to",t),m.verbose("Next side set to",f)},duration:function(e){e=e||p.duration,e="number"==typeof e?e+"ms":e,m.verbose("Setting animation duration",e),(p.duration||0===p.duration)&&O.add(D).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},currentStageSize:function(){var e=I.find("."+p.className.active),t=e.outerWidth(!0),n=e.outerHeight(!0);I.css({width:t,height:n})},stageSize:function(){var e=I.clone().addClass(T.loading),t=e.find("."+p.className.active),n=R?e.find(b.side).eq(R):t.next(b.side).length>0?t.next(b.side):e.find(b.side).first(),i={};m.set.currentStageSize(),t.removeClass(T.active),n.addClass(T.active),e.insertAfter(I),i={width:n.outerWidth(!0),height:n.outerHeight(!0)},e.remove(),I.css(i),m.verbose("Resizing stage to fit new content",i)},nextSide:function(e){R=e,f=D.filter(e),R=D.index(f),0===f.length&&(m.set.defaultSide(),m.error(E.side)),m.verbose("Next side manually set to",f)},active:function(){m.verbose("Setting new side to active",f),D.removeClass(T.active),f.addClass(T.active),p.onChange.call(f[0]),m.set.defaultSide()}},flip:{up:function(){return!m.is.complete()||m.is.animating()||p.allowRepeats?void(m.is.animating()?m.queue("flip up"):(m.debug("Flipping up",f),m.set.stageSize(),m.stage.above(),m.animate(m.get.transform.up()))):void m.debug("Side already visible",f)},down:function(){return!m.is.complete()||m.is.animating()||p.allowRepeats?void(m.is.animating()?m.queue("flip down"):(m.debug("Flipping down",f),m.set.stageSize(),m.stage.below(),m.animate(m.get.transform.down()))):void m.debug("Side already visible",f)},left:function(){return!m.is.complete()||m.is.animating()||p.allowRepeats?void(m.is.animating()?m.queue("flip left"):(m.debug("Flipping left",f),m.set.stageSize(),m.stage.left(),m.animate(m.get.transform.left()))):void m.debug("Side already visible",f)},right:function(){return!m.is.complete()||m.is.animating()||p.allowRepeats?void(m.is.animating()?m.queue("flip right"):(m.debug("Flipping right",f),m.set.stageSize(),m.stage.right(),m.animate(m.get.transform.right()))):void m.debug("Side already visible",f)},over:function(){return!m.is.complete()||m.is.animating()||p.allowRepeats?void(m.is.animating()?m.queue("flip over"):(m.debug("Flipping over",f),m.set.stageSize(),m.stage.behind(),m.animate(m.get.transform.over()))):void m.debug("Side already visible",f)},back:function(){return!m.is.complete()||m.is.animating()||p.allowRepeats?void(m.is.animating()?m.queue("flip back"):(m.debug("Flipping back",f),m.set.stageSize(),m.stage.behind(),m.animate(m.get.transform.back()))):void m.debug("Side already visible",f)}},get:{transform:{up:function(){var e={y:-((t.outerHeight(!0)-f.outerHeight(!0))/2),z:-(t.outerHeight(!0)/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-((t.outerHeight(!0)-f.outerHeight(!0))/2),z:-(t.outerHeight(!0)/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-((t.outerWidth(!0)-f.outerWidth(!0))/2),z:-(t.outerWidth(!0)/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-((t.outerWidth(!0)-f.outerWidth(!0))/2),z:-(t.outerWidth(!0)/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){var e={x:-((t.outerWidth(!0)-f.outerWidth(!0))/2)};return{transform:"translateX("+e.x+"px) rotateY(180deg)"}},back:function(){var e={x:-((t.outerWidth(!0)-f.outerWidth(!0))/2)};return{transform:"translateX("+e.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==i)return o[e]},nextSide:function(){return t.next(b.side).length>0?t.next(b.side):I.find(b.side).first()}},stage:{above:function(){var e={origin:(t.outerHeight(!0)-f.outerHeight(!0))/2,depth:{active:f.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};m.verbose("Setting the initial animation position as above",f,e),O.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(T.animating).css({top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(t.outerHeight(!0)-f.outerHeight(!0))/2,depth:{active:f.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};m.verbose("Setting the initial animation position as below",f,e),O.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(T.animating).css({top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};m.verbose("Setting the initial animation position as left",f,n),O.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),f.addClass(T.animating).css({left:n.origin+"px",transform:"rotateY(-90deg) translateZ("+n.depth.next+"px)"})},right:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};m.verbose("Setting the initial animation position as left",f,n),O.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),f.addClass(T.animating).css({left:n.origin+"px",transform:"rotateY(90deg) translateZ("+n.depth.next+"px)"})},behind:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};m.verbose("Setting the initial animation position as behind",f,n),t.css({transform:"rotateY(0deg)"}),f.addClass(T.animating).css({left:n.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){if(m.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){p.debug&&(p.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,p.name+":"),m.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,p.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:_,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=p.name+":",n=0;s=!1,clearTimeout(m.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",g&&(t+=" '"+g+"'"),r.length>1&&(t+=" ("+r.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var r,s,l,c=k;return n=n||d,o=_||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},u?(k===i&&m.initialize(),m.invoke(c)):(k!==i&&k.invoke("destroy"),m.initialize())}),a!==i?a:this},e.fn.shape.settings={name:"Shape",debug:!1,verbose:!1,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.sidebar=function(o){var a,r=e(this),s=e(t),l=e(n),c=e("html"),u=e("head"),d=r.selector||"",h=(new Date).getTime(),f=[],m=arguments[0],g="string"==typeof m,p=[].slice.call(arguments,1),v=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,b,E,T,C,y,I=e.isPlainObject(o)?e.extend(!0,{},e.fn.sidebar.settings,o):e.extend({},e.fn.sidebar.settings),O=I.selector,D=I.className,R=I.namespace,_=I.regExp,k=I.error,K="."+R,w="module-"+R,x=e(this),S=e(I.context),N=x.children(O.sidebar),A=S.children(O.fixed),L=S.children(O.pusher),P=this,F=x.data(w);y={initialize:function(){y.debug("Initializing sidebar",o),y.create.id(),C=y.get.transitionEvent(),y.is.ios()&&y.set.ios(),I.delaySetup?v(y.setup.layout):y.setup.layout(),v(function(){y.setup.cache()}),y.instantiate()},instantiate:function(){y.verbose("Storing instance of module",y),F=y,x.data(w,y)},create:{id:function(){E=(Math.random().toString(16)+"000000000").substr(2,8),b="."+E,y.verbose("Creating unique id for element",E)}},destroy:function(){y.verbose("Destroying previous module for",x),x.off(K).removeData(w),y.is.ios()&&y.remove.ios(),S.off(b),s.off(b),l.off(b)},event:{clickaway:function(e){var t=L.find(e.target).length>0||L.is(e.target),n=S.is(e.target);t&&(y.verbose("User clicked on dimmed page"),y.hide()),n&&(y.verbose("User clicked on dimmable context (scaled out page)"),y.hide())},touch:function(e){},containScroll:function(e){P.scrollTop<=0&&(P.scrollTop=1),P.scrollTop+P.offsetHeight>=P.scrollHeight&&(P.scrollTop=P.scrollHeight-P.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(O.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){y.verbose("Adding clickaway events to context",S),I.closable&&S.on("click"+b,y.event.clickaway).on("touchend"+b,y.event.clickaway)},scrollLock:function(){I.scrollLock&&(y.debug("Disabling page scroll"),s.on("DOMMouseScroll"+b,y.event.scroll)),y.verbose("Adding events to contain sidebar scroll"),l.on("touchmove"+b,y.event.touch),x.on("scroll"+K,y.event.containScroll)}},unbind:{clickaway:function(){y.verbose("Removing clickaway events from context",S),S.off(b)},scrollLock:function(){y.verbose("Removing scroll lock from page"),l.off(b),s.off(b),x.off("scroll"+K)}},add:{inlineCSS:function(){var t,n=y.cache.width||x.outerWidth(),i=y.cache.height||x.outerHeight(),o=y.is.rtl(),a=y.get.direction(),s={left:n,right:-n,top:i,bottom:-i};o&&(y.verbose("RTL detected, flipping widths"),s.left=-n,s.right=n),t="<style>","left"===a||"right"===a?(y.debug("Adding CSS rules for animation distance",n),t+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d("+s[a]+"px, 0, 0);           transform: translate3d("+s[a]+"px, 0, 0); }"):("top"===a||"bottom"==a)&&(t+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+s[a]+"px, 0);           transform: translate3d(0, "+s[a]+"px, 0); }"),y.is.ie()&&("left"===a||"right"===a?(y.debug("Adding CSS rules for animation distance",n),t+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+s[a]+"px, 0, 0);           transform: translate3d("+s[a]+"px, 0, 0); }"):("top"===a||"bottom"==a)&&(t+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+s[a]+"px, 0);           transform: translate3d(0, "+s[a]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),t+="</style>",r=e(t).appendTo(u),y.debug("Adding sizing css to head",r)}},refresh:function(){y.verbose("Refreshing selector cache"),S=e(I.context),N=S.children(O.sidebar),L=S.children(O.pusher),A=S.children(O.fixed),y.clear.cache()},refreshSidebars:function(){y.verbose("Refreshing other sidebars"),N=S.children(O.sidebar)},repaint:function(){y.verbose("Forcing repaint event"),P.style.display="none";P.offsetHeight;P.scrollTop=P.scrollTop,P.style.display=""},setup:{cache:function(){y.cache={width:x.outerWidth(),height:x.outerHeight(),rtl:"rtl"==x.css("direction")}},layout:function(){0===S.children(O.pusher).length&&(y.debug("Adding wrapper element for sidebar"),y.error(k.pusher),L=e('<div class="pusher" />'),S.children().not(O.omitted).not(N).wrapAll(L),y.refresh()),(0===x.nextAll(O.pusher).length||x.nextAll(O.pusher)[0]!==L[0])&&(y.debug("Moved sidebar to correct parent element"),y.error(k.movedSidebar,P),x.detach().prependTo(S),y.refresh()),y.clear.cache(),y.set.pushable(),y.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(y[n])?y[n]:y.toggle,i.length>0?(y.debug("Attaching sidebar events to element",t,n),i.on("click"+K,n)):y.error(k.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},y.is.hidden()){if(y.refreshSidebars(),I.overlay&&(y.error(k.overlay),I.transition="overlay"),y.refresh(),y.othersActive())if(y.debug("Other sidebars currently visible"),I.exclusive){if("overlay"!=I.transition)return void y.hideOthers(y.show);y.hideOthers()}else I.transition="overlay";y.pushPage(function(){t.call(P),I.onShow.call(P)}),I.onChange.call(P),I.onVisible.call(P)}else y.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},(y.is.visible()||y.is.animating())&&(y.debug("Hiding sidebar",t),y.refreshSidebars(),y.pullPage(function(){t.call(P),I.onHidden.call(P)}),I.onChange.call(P),I.onHide.call(P))},othersAnimating:function(){return N.not(x).filter("."+D.animating).length>0},othersVisible:function(){return N.not(x).filter("."+D.visible).length>0},othersActive:function(){return y.othersVisible()||y.othersAnimating()},hideOthers:function(e){var t=N.not(x).filter("."+D.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){i++,i==n&&e()})},toggle:function(){y.verbose("Determining toggled direction"),y.is.hidden()?y.show():y.hide()},pushPage:function(t){var n,i,o,a=y.get.transition(),r="overlay"===a||y.othersActive()?x:L;t=e.isFunction(t)?t:function(){},"scale down"==I.transition&&y.scrollToTop(),y.set.transition(a),y.repaint(),n=function(){y.bind.clickaway(),y.add.inlineCSS(),y.set.animating(),y.set.visible()},i=function(){y.set.dimmed()},o=function(e){e.target==r[0]&&(r.off(C+b,o),y.remove.animating(),y.bind.scrollLock(),t.call(P))},r.off(C+b),r.on(C+b,o),v(n),I.dimPage&&!y.othersVisible()&&v(i)},pullPage:function(t){var n,i,o=y.get.transition(),a="overlay"==o||y.othersActive()?x:L;t=e.isFunction(t)?t:function(){},y.verbose("Removing context push state",y.get.direction()),y.unbind.clickaway(),y.unbind.scrollLock(),n=function(){y.set.transition(o),y.set.animating(),y.remove.visible(),I.dimPage&&!y.othersVisible()&&L.removeClass(D.dimmed)},i=function(e){e.target==a[0]&&(a.off(C+b,i),y.remove.animating(),y.remove.transition(),y.remove.inlineCSS(),("scale down"==o||I.returnScroll&&y.is.mobile())&&y.scrollBack(),t.call(P))},a.off(C+b),a.on(C+b,i),v(n)},scrollToTop:function(){y.verbose("Scrolling to top of page to avoid animation issues"),T=e(t).scrollTop(),x.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){y.verbose("Scrolling back to original page position"),t.scrollTo(0,T)},clear:{cache:function(){y.verbose("Clearing cached dimensions"),y.cache={}}},set:{ios:function(){c.addClass(D.ios)},pushed:function(){S.addClass(D.pushed)},pushable:function(){S.addClass(D.pushable)},dimmed:function(){L.addClass(D.dimmed)},active:function(){x.addClass(D.active)},animating:function(){x.addClass(D.animating)},transition:function(e){e=e||y.get.transition(),x.addClass(e)},direction:function(e){e=e||y.get.direction(),x.addClass(D[e])},visible:function(){x.addClass(D.visible)},overlay:function(){x.addClass(D.overlay)}},remove:{inlineCSS:function(){y.debug("Removing inline css styles",r),r&&r.length>0&&r.remove()},ios:function(){c.removeClass(D.ios)},pushed:function(){S.removeClass(D.pushed)},pushable:function(){S.removeClass(D.pushable)},active:function(){x.removeClass(D.active)},animating:function(){x.removeClass(D.animating)},transition:function(e){e=e||y.get.transition(),x.removeClass(e)},direction:function(e){e=e||y.get.direction(),x.removeClass(D[e])},visible:function(){x.removeClass(D.visible)},overlay:function(){x.removeClass(D.overlay)}},get:{direction:function(){return x.hasClass(D.top)?D.top:x.hasClass(D.right)?D.right:x.hasClass(D.bottom)?D.bottom:D.left},transition:function(){var e,t=y.get.direction();return e=y.is.mobile()?"auto"==I.mobileTransition?I.defaultTransition.mobile[t]:I.mobileTransition:"auto"==I.transition?I.defaultTransition.computer[t]:I.transition,y.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==i)return o[e]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,n="ActiveXObject"in t;return e||n},ios:function(){var e=navigator.userAgent,t=e.match(_.ios),n=e.match(_.mobileChrome);return t&&!n?(y.verbose("Browser was found to be iOS",e),!0):!1},mobile:function(){var e=navigator.userAgent,t=e.match(_.mobile);return t?(y.verbose("Browser was found to be mobile",e),!0):(y.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!y.is.visible()},visible:function(){return x.hasClass(D.visible)},open:function(){return y.is.visible()},closed:function(){return y.is.hidden()},vertical:function(){return x.hasClass(D.top)},animating:function(){return S.hasClass(D.animating)},rtl:function(){return y.cache.rtl===i&&(y.cache.rtl="rtl"==x.css("direction")),y.cache.rtl}},setting:function(t,n){if(y.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,I,t);else{if(n===i)return I[t];I[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===i)return y[t];y[t]=n}},debug:function(){I.debug&&(I.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,I.name+":"),y.debug.apply(console,arguments)))},verbose:function(){I.verbose&&I.debug&&(I.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,I.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,I.name+":"),y.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;I.performance&&(t=(new Date).getTime(),i=h||t,n=t-i,h=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:P,"Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=I.name+":",n=0;h=!1,clearTimeout(y.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",d&&(t+=" '"+d+"'"),(console.group!==i||console.table!==i)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,o){var r,s,l,c=F;return n=n||p,o=P||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(y.error(k.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},g?(F===i&&y.initialize(),y.invoke(m)):(F!==i&&y.invoke("destroy"),y.initialize())}),a!==i?a:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.sticky=function(n){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return a.each(function(){var a,h,f,m,g=e.isPlainObject(n)?e.extend(!0,{},e.fn.sticky.settings,n):e.extend({},e.fn.sticky.settings),p=g.className,v=g.namespace,b=g.error,E="."+v,T="module-"+v,C=e(this),y=e(t),I=e(g.scrollContext),O=(C.selector||"",C.data(T)),D=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},R=this;m={initialize:function(){m.determineContainer(),m.determineContext(),m.verbose("Initializing sticky",g,a),m.save.positions(),m.checkErrors(),m.bind.events(),g.observeChanges&&m.observeChanges(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),O=m,C.data(T,m)},destroy:function(){m.verbose("Destroying previous instance"),m.reset(),f&&f.disconnect(),y.off("load"+E,m.event.load).off("resize"+E,m.event.resize),I.off("scrollchange"+E,m.event.scrollchange),C.removeData(T)},observeChanges:function(){var e=h[0];"MutationObserver"in t&&(f=new MutationObserver(function(e){clearTimeout(m.timer),m.timer=setTimeout(function(){m.verbose("DOM tree modified, updating sticky menu",e),m.refresh()},100)}),f.observe(R,{childList:!0,subtree:!0}),f.observe(e,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",f))},determineContainer:function(){a=C.offsetParent()},determineContext:function(){return h=g.context?e(g.context):a,0===h.length?void m.error(b.invalidContext,g.context,C):void 0},checkErrors:function(){return m.is.hidden()&&m.error(b.visible,C),m.cache.element.height>m.cache.context.height?(m.reset(),void m.error(b.elementSize,C)):void 0},bind:{events:function(){y.on("load"+E,m.event.load).on("resize"+E,m.event.resize),I.off("scroll"+E).on("scroll"+E,m.event.scroll).on("scrollchange"+E,m.event.scrollchange)}},event:{load:function(){m.verbose("Page contents finished loading"),D(m.refresh)},resize:function(){
m.verbose("Window resized"),D(m.refresh)},scroll:function(){D(function(){I.triggerHandler("scrollchange"+E,I.scrollTop())})},scrollchange:function(e,t){m.stick(t),g.onScroll.call(R)}},refresh:function(e){m.reset(),g.context||m.determineContext(),e&&m.determineContainer(),m.save.positions(),m.stick(),g.onReposition.call(R)},supports:{sticky:function(){var t=e("<div/>");t[0];return t.addClass(p.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){m.lastScroll=e},elementScroll:function(e){m.elementScroll=e},positions:function(){var e={height:I.height()},t={margin:{top:parseInt(C.css("margin-top"),10),bottom:parseInt(C.css("margin-bottom"),10)},offset:C.offset(),width:C.outerWidth(),height:C.outerHeight()},n={offset:h.offset(),height:h.outerHeight()};({height:a.outerHeight()});m.is.standardScroll()||(m.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=I.scrollTop(),e.left=I.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),m.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},m.set.containerSize(),m.set.size(),m.stick(),m.debug("Caching element positions",m.cache)}},get:{direction:function(e){var t="down";return e=e||I.scrollTop(),m.lastScroll!==i&&(m.lastScroll<e?t="down":m.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||I.scrollTop(),m.lastScroll?e-m.lastScroll:0},currentElementScroll:function(){return m.elementScroll?m.elementScroll:m.is.top()?Math.abs(parseInt(C.css("top"),10))||0:Math.abs(parseInt(C.css("bottom"),10))||0},elementScroll:function(e){e=e||I.scrollTop();var t=m.cache.element,n=m.cache.scrollContext,i=m.get.scrollChange(e),o=t.height-n.height+g.offset,a=m.get.currentElementScroll(),r=a+i;return a=m.cache.fits||0>r?0:r>o?o:r}},remove:{lastScroll:function(){delete m.lastScroll},elementScroll:function(e){delete m.elementScroll},offset:function(){C.css("margin-top","")}},set:{offset:function(){m.verbose("Setting offset on element",g.offset),C.css("margin-top",g.offset)},containerSize:function(){var e=a.get(0).tagName;"HTML"===e||"body"==e?m.determineContainer():Math.abs(a.outerHeight()-m.cache.context.height)>g.jitter&&(m.debug("Context has padding, specifying exact height for container",m.cache.context.height),a.css({height:m.cache.context.height}))},minimumSize:function(){var e=m.cache.element;a.css("min-height",e.height)},scroll:function(e){m.debug("Setting scroll on element",e),m.elementScroll!=e&&(m.is.top()&&C.css("bottom","").css("top",-e),m.is.bottom()&&C.css("top","").css("bottom",e))},size:function(){0!==m.cache.element.height&&0!==m.cache.element.width&&(R.style.setProperty("width",m.cache.element.width+"px","important"),R.style.setProperty("height",m.cache.element.height+"px","important"))}},is:{standardScroll:function(){return I[0]==t},top:function(){return C.hasClass(p.top)},bottom:function(){return C.hasClass(p.bottom)},initialPosition:function(){return!m.is.fixed()&&!m.is.bound()},hidden:function(){return!C.is(":visible")},bound:function(){return C.hasClass(p.bound)},fixed:function(){return C.hasClass(p.fixed)}},stick:function(e){var t=e||I.scrollTop(),n=m.cache,i=n.fits,o=n.element,a=n.scrollContext,r=n.context,s=m.is.bottom()&&g.pushing?g.bottomOffset:g.offset,e={top:t+s,bottom:t+s+a.height},l=(m.get.direction(e.top),i?0:m.get.elementScroll(e.top)),c=!i,u=0!==o.height;u&&(m.is.initialPosition()?e.top>=r.bottom?(m.debug("Initial element position is bottom of container"),m.bindBottom()):e.top>o.top&&(o.height+e.top-l>=r.bottom?(m.debug("Initial element position is bottom of container"),m.bindBottom()):(m.debug("Initial element position is fixed"),m.fixTop())):m.is.fixed()?m.is.top()?e.top<=o.top?(m.debug("Fixed element reached top of container"),m.setInitialPosition()):o.height+e.top-l>=r.bottom?(m.debug("Fixed element reached bottom of container"),m.bindBottom()):c&&(m.set.scroll(l),m.save.lastScroll(e.top),m.save.elementScroll(l)):m.is.bottom()&&(e.bottom-o.height<=o.top?(m.debug("Bottom fixed rail has reached top of container"),m.setInitialPosition()):e.bottom>=r.bottom?(m.debug("Bottom fixed rail has reached bottom of container"),m.bindBottom()):c&&(m.set.scroll(l),m.save.lastScroll(e.top),m.save.elementScroll(l))):m.is.bottom()&&(e.top<=o.top?(m.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),m.setInitialPosition()):g.pushing?m.is.bound()&&e.bottom<=r.bottom&&(m.debug("Fixing bottom attached element to bottom of browser."),m.fixBottom()):m.is.bound()&&e.top<=r.bottom-o.height&&(m.debug("Fixing bottom attached element to top of browser."),m.fixTop())))},bindTop:function(){m.debug("Binding element to top of parent container"),m.remove.offset(),C.css({left:"",top:"",marginBottom:""}).removeClass(p.fixed).removeClass(p.bottom).addClass(p.bound).addClass(p.top),g.onTop.call(R),g.onUnstick.call(R)},bindBottom:function(){m.debug("Binding element to bottom of parent container"),m.remove.offset(),C.css({left:"",top:""}).removeClass(p.fixed).removeClass(p.top).addClass(p.bound).addClass(p.bottom),g.onBottom.call(R),g.onUnstick.call(R)},setInitialPosition:function(){m.debug("Returning to initial position"),m.unfix(),m.unbind()},fixTop:function(){m.debug("Fixing element to top of page"),m.set.minimumSize(),m.set.offset(),C.css({left:m.cache.element.left,bottom:"",marginBottom:""}).removeClass(p.bound).removeClass(p.bottom).addClass(p.fixed).addClass(p.top),g.onStick.call(R)},fixBottom:function(){m.debug("Sticking element to bottom of page"),m.set.minimumSize(),m.set.offset(),C.css({left:m.cache.element.left,bottom:"",marginBottom:""}).removeClass(p.bound).removeClass(p.top).addClass(p.fixed).addClass(p.bottom),g.onStick.call(R)},unbind:function(){m.is.bound()&&(m.debug("Removing container bound position on element"),m.remove.offset(),C.removeClass(p.bound).removeClass(p.top).removeClass(p.bottom))},unfix:function(){m.is.fixed()&&(m.debug("Removing fixed position on element"),m.remove.offset(),C.removeClass(p.fixed).removeClass(p.top).removeClass(p.bottom),g.onUnstick.call(R))},reset:function(){m.debug("Reseting elements position"),m.unbind(),m.unfix(),m.resetCSS(),m.remove.offset(),m.remove.lastScroll()},resetCSS:function(){C.css({width:"",height:""}),a.css({height:""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+":"),m.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,g.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,0)},display:function(){var t=g.name+":",n=0;s=!1,clearTimeout(m.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=O;return n=n||d,a=R||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(O===i&&m.initialize(),m.invoke(c)):(O!==i&&O.invoke("destroy"),m.initialize())}),o!==i?o:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.tab=function(o){var a,r=e(e.isFunction(this)?t:this),s=r.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,h=[].slice.call(arguments,1),f=!1;return r.each(function(){var m,g,p,v,b,E,T=e.isPlainObject(o)?e.extend(!0,{},e.fn.tab.settings,o):e.extend({},e.fn.tab.settings),C=T.className,y=T.metadata,I=T.selector,O=T.error,D="."+T.namespace,R="module-"+T.namespace,_=e(this),k={},K=!0,w=0,x=this,S=_.data(R);b={initialize:function(){b.debug("Initializing tab menu item",_),b.fix.callbacks(),b.determineTabs(),b.debug("Determining tabs",T.context,g),T.auto&&b.set.auto(),b.bind.events(),T.history&&!f&&(b.initializeHistory(),f=!0),b.instantiate()},instantiate:function(){b.verbose("Storing instance of module",b),S=b,_.data(R,b)},destroy:function(){b.debug("Destroying tabs",_),_.removeData(R).off(D)},bind:{events:function(){e.isWindow(x)||(b.debug("Attaching tab activation events to element",_),_.on("click"+D,b.event.click))}},determineTabs:function(){var t;"parent"===T.context?(_.closest(I.ui).length>0?(t=_.closest(I.ui),b.verbose("Using closest UI element as parent",t)):t=_,m=t.parent(),b.verbose("Determined parent element for creating context",m)):T.context?(m=e(T.context),b.verbose("Using selector for tab context",T.context,m)):m=e("body"),T.childrenOnly?(g=m.children(I.tabs),b.debug("Searching tab context children for tabs",m,g)):(g=m.find(I.tabs),b.debug("Searching tab context for tabs",m,g))},fix:{callbacks:function(){e.isPlainObject(o)&&(o.onTabLoad||o.onTabInit)&&(o.onTabLoad&&(o.onLoad=o.onTabLoad,delete o.onTabLoad,b.error(O.legacyLoad,o.onLoad)),o.onTabInit&&(o.onFirstLoad=o.onTabInit,delete o.onTabInit,b.error(O.legacyInit,o.onFirstLoad)),T=e.extend(!0,{},e.fn.tab.settings,o))}},initializeHistory:function(){if(b.debug("Initializing page state"),e.address===i)return b.error(O.state),!1;if("state"==T.historyType){if(b.debug("Using HTML5 to manage state"),T.path===!1)return b.error(O.path),!1;e.address.history(!0).state(T.path)}e.address.bind("change",b.event.history.change)},event:{click:function(t){var n=e(this).data(y.tab);n!==i?(T.history?(b.verbose("Updating page state",t),e.address.value(n)):(b.verbose("Changing tab",t),b.changeTab(n)),t.preventDefault()):b.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||b.get.initialPath(),o=T.templates.determineTitle(n)||!1;b.performance.display(),b.debug("History change event",n,t),E=t,n!==i&&b.changeTab(n),o&&e.address.title(o)}}},refresh:function(){p&&(b.debug("Refreshing tab",p),b.changeTab(p))},cache:{read:function(e){return e!==i?k[e]:!1},add:function(e,t){e=e||p,b.debug("Adding cached content for",e),k[e]=t},remove:function(e){e=e||p,b.debug("Removing cached content for",e),delete k[e]}},set:{auto:function(){var t="string"==typeof T.path?T.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";b.verbose("Setting up automatic tab retrieval from server",t),e.isPlainObject(T.apiSettings)?T.apiSettings.url=t:T.apiSettings={url:t}},loading:function(e){var t=b.get.tabElement(e),n=t.hasClass(C.loading);n||(b.verbose("Setting loading state for",t),t.addClass(C.loading).siblings(g).removeClass(C.active+" "+C.loading),t.length>0&&T.onRequest.call(t[0],e))},state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState,o=i&&T.ignoreFirstLoad&&K,a=T.auto||e.isPlainObject(T.apiSettings),r=a&&!o?b.utilities.pathToArray(n):b.get.defaultPathArray(n);n=b.utilities.arrayToPath(r),e.each(r,function(t,i){var s,l,c,u,d=r.slice(0,t+1),h=b.utilities.arrayToPath(d),f=b.is.tab(h),g=t+1==r.length,I=b.get.tabElement(h);if(b.verbose("Looking for tab",i),f){if(b.verbose("Tab was found",i),p=h,v=b.utilities.filterArray(r,d),g?u=!0:(l=r.slice(0,t+2),c=b.utilities.arrayToPath(l),u=!b.is.tab(c),u&&b.verbose("Tab parameters found",l)),u&&a)return o?(b.debug("Ignoring remote content on first tab load",h),K=!1,b.cache.add(n,I.html()),b.activate.all(h),T.onFirstLoad.call(I[0],h,v,E),T.onLoad.call(I[0],h,v,E)):(b.activate.navigation(h),b.fetch.content(h,n)),!1;b.debug("Opened local tab",h),b.activate.all(h),b.cache.read(h)||(b.cache.add(h,!0),b.debug("First time tab loaded calling tab init"),T.onFirstLoad.call(I[0],h,v,E)),T.onLoad.call(I[0],h,v,E)}else{if(-1!=n.search("/")||""===n)return b.error(O.missingTab,_,m,h),!1;if(s=e("#"+n+', a[name="'+n+'"]'),h=s.closest("[data-tab]").data(y.tab),I=b.get.tabElement(h),s&&s.length>0&&h)return b.debug("Anchor link used, opening parent tab",I,s),I.hasClass(C.active)||setTimeout(function(){b.scrollTo(s)},0),b.activate.all(h),b.cache.read(h)||(b.cache.add(h,!0),b.debug("First time tab loaded calling tab init"),T.onFirstLoad.call(I[0],h,v,E)),T.onLoad.call(I[0],h,v,E),!1}})},scrollTo:function(t){var i=t&&t.length>0?t.offset().top:!1;i!==!1&&(b.debug("Forcing scroll to an in-page link in a hidden tab",i,t),e(n).scrollTop(i))},update:{content:function(e,t,n){var o=b.get.tabElement(e),a=o[0];n=n!==i?n:T.evaluateScripts,n?(b.debug("Updating HTML and evaluating inline scripts",e,t),o.html(t)):(b.debug("Updating HTML",e,t),a.innerHTML=t)}},fetch:{content:function(t,n){var o,a,r=b.get.tabElement(t),s={dataType:"html",encodeParameters:!1,on:"now",cache:T.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(e){b.cache.add(n,e),b.update.content(t,e),t==p?(b.debug("Content loaded",t),b.activate.tab(t)):b.debug("Content loaded in background",t),T.onFirstLoad.call(r[0],t,v,E),T.onLoad.call(r[0],t,v,E)},urlData:{tab:n}},l=r.api("get request")||!1,c=l&&"pending"===l.state();n=n||t,a=b.cache.read(n),T.cache&&a?(b.activate.tab(t),b.debug("Adding cached content",n),"once"==T.evaluateScripts?b.update.content(t,a,!1):b.update.content(t,a),T.onLoad.call(r[0],t,v,E)):c?(b.set.loading(t),b.debug("Content is already loading",n)):e.api!==i?(o=e.extend(!0,{},T.apiSettings,s),b.debug("Retrieving remote content",n,o),b.set.loading(t),r.api(o)):b.error(O.api)}},activate:{all:function(e){b.activate.tab(e),b.activate.navigation(e)},tab:function(e){var t=b.get.tabElement(e),n=t.hasClass(C.active);b.verbose("Showing tab content for",t),n||(t.addClass(C.active).siblings(g).removeClass(C.active+" "+C.loading),t.length>0&&T.onVisible.call(t[0],e))},navigation:function(e){var t=b.get.navElement(e),n=t.hasClass(C.active);b.verbose("Activating tab navigation for",t,e),n||t.addClass(C.active).siblings(r).removeClass(C.active+" "+C.loading)}},deactivate:{all:function(){b.deactivate.navigation(),b.deactivate.tabs()},navigation:function(){r.removeClass(C.active)},tabs:function(){g.removeClass(C.active+" "+C.loading)}},is:{tab:function(e){return e!==i?b.get.tabElement(e).length>0:!1}},get:{initialPath:function(){return r.eq(0).data(y.tab)||g.eq(0).data(y.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return b.utilities.pathToArray(b.get.defaultPath(e))},defaultPath:function(e){var t=r.filter("[data-"+y.tab+'^="'+e+'/"]').eq(0),n=t.data(y.tab)||!1;if(n){if(b.debug("Found default tab",n),w<T.maxDepth)return w++,b.get.defaultPath(n);b.error(O.recursion)}else b.debug("No default tabs found for",e,g);return w=0,e},navElement:function(e){return e=e||p,r.filter("[data-"+y.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,o;return e=e||p,i=b.utilities.pathToArray(e),o=b.utilities.last(i),t=g.filter("[data-"+y.tab+'="'+e+'"]'),n=g.filter("[data-"+y.tab+'="'+o+'"]'),t.length>0?t:n},tab:function(){return p}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return e.isArray(t)?t[t.length-1]:!1},pathToArray:function(e){return e===i&&(e=p),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return e.isArray(t)?t.join("/"):!1}},setting:function(t,n){if(b.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];T[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(n===i)return b[t];b[t]=n}},debug:function(){T.debug&&(T.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,T.name+":"),b.debug.apply(console,arguments)))},verbose:function(){T.verbose&&T.debug&&(T.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,T.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,T.name+":"),b.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;T.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:x,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var t=T.name+":",n=0;l=!1,clearTimeout(b.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=S;return n=n||h,o=x||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(b.error(O.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(S===i&&b.initialize(),b.invoke(u)):(S!==i&&S.invoke("destroy"),b.initialize())}),a!==i?a:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.transition=function(){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),l=[],c=arguments,u=c[0],d=[].slice.call(arguments,1),h="string"==typeof u;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(t){var f,m,g,p,v,b,E,T,C,y=e(this),I=this;C={initialize:function(){f=C.get.settings.apply(I,c),p=f.className,g=f.error,v=f.metadata,T="."+f.namespace,E="module-"+f.namespace,m=y.data(E)||C,b=C.get.animationEndEvent(),h&&(h=C.invoke(u)),h===!1&&(C.verbose("Converted arguments into settings object",f),f.interval?C.delay(f.animate):C.animate(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of module",C),m=C,y.data(E,m)},destroy:function(){C.verbose("Destroying previous module for",I),y.removeData(E)},refresh:function(){C.verbose("Refreshing display type on next animation"),delete C.displayType},forceRepaint:function(){C.verbose("Forcing element repaint");var e=y.parent(),t=y.next();0===t.length?y.detach().appendTo(e):y.detach().insertBefore(t)},repaint:function(){C.verbose("Repainting element");I.offsetWidth},delay:function(e){var n,o,r=C.get.animationDirection();r||(r=C.can.transition()?C.get.direction():"static"),e=e!==i?e:f.interval,n="auto"==f.reverse&&r==p.outward,o=n||1==f.reverse?(a.length-t)*f.interval:t*f.interval,C.debug("Delaying animation by",o),setTimeout(C.animate,o)},animate:function(e){if(f=e||f,!C.is.supported())return C.error(g.support),!1;if(C.debug("Preparing animation",f.animation),C.is.animating()){if(f.queue)return!f.allowRepeats&&C.has.direction()&&C.is.occurring()&&C.queuing!==!0?C.debug("Animation is currently occurring, preventing queueing same animation",f.animation):C.queue(f.animation),!1;if(!f.allowRepeats&&C.is.occurring())return C.debug("Animation is already occurring, will not execute repeated animation",f.animation),!1;C.debug("New animation started, completing previous early",f.animation),m.complete()}C.can.animate()?C.set.animating(f.animation):C.error(g.noAnimation,f.animation,I)},reset:function(){C.debug("Resetting animation to beginning conditions"),C.remove.animationCallbacks(),C.restore.conditions(),C.remove.animating()},queue:function(e){C.debug("Queueing animation of",e),C.queuing=!0,y.one(b+".queue"+T,function(){C.queuing=!1,C.repaint(),C.animate.apply(this,f)})},complete:function(e){C.debug("Animation complete",f.animation),C.remove.completeCallback(),C.remove.failSafe(),C.is.looping()||(C.is.outward()?(C.verbose("Animation is outward, hiding element"),C.restore.conditions(),C.hide()):C.is.inward()?(C.verbose("Animation is outward, showing element"),C.restore.conditions(),C.show()):(C.verbose("Static animation completed"),C.restore.conditions(),f.onComplete.call(I)))},force:{visible:function(){var e=y.attr("style"),t=C.get.userStyle(),n=C.get.displayType(),o=t+"display: "+n+" !important;",a=y.css("display"),r=e===i||""===e;a!==n?(C.verbose("Overriding default display to show element",n),y.attr("style",o)):r&&y.removeAttr("style")},hidden:function(){var e=y.attr("style"),t=y.css("display"),n=e===i||""===e;"none"===t||C.is.hidden()?n&&y.removeAttr("style"):(C.verbose("Overriding default display to hide element"),y.css("display","none"))}},has:{direction:function(t){var n=!1;return t=t||f.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){(t===p.inward||t===p.outward)&&(n=!0)})),n},inlineDisplay:function(){var t=y.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;C.remove.completeCallback(),e=e||f.animation,t=C.get.animationClass(e),C.save.animation(t),C.force.visible(),C.remove.hidden(),C.remove.direction(),C.start.animation(t)},duration:function(e,t){t=t||f.duration,t="number"==typeof t?t+"ms":t,(t||0===t)&&(C.verbose("Setting animation duration",t),y.css({"animation-duration":t}))},direction:function(e){e=e||C.get.direction(),e==p.inward?C.set.inward():C.set.outward()},looping:function(){C.debug("Transition set to loop"),y.addClass(p.looping)},hidden:function(){y.addClass(p.transition).addClass(p.hidden)},inward:function(){C.debug("Setting direction to inward"),y.removeClass(p.outward).addClass(p.inward)},outward:function(){C.debug("Setting direction to outward"),y.removeClass(p.inward).addClass(p.outward)},visible:function(){y.addClass(p.transition).addClass(p.visible)}},start:{animation:function(e){e=e||C.get.animationClass(),C.debug("Starting tween",e),y.addClass(e).one(b+".complete"+T,C.complete),f.useFailSafe&&C.add.failSafe(),C.set.duration(f.duration),f.onStart.call(I)}},save:{animation:function(e){C.cache||(C.cache={}),C.cache.animation=e},displayType:function(e){"none"!==e&&y.data(v.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,C.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=C.get.currentAnimation();e&&(y.removeClass(e),C.verbose("Removing animation class",C.cache)),C.remove.duration()}},add:{failSafe:function(){var e=C.get.duration();C.timer=setTimeout(function(){y.triggerHandler(b)},e+f.failSafeDelay),C.verbose("Adding fail safe timer",C.timer)}},remove:{animating:function(){y.removeClass(p.animating)},animationCallbacks:function(){C.remove.queueCallback(),C.remove.completeCallback()},queueCallback:function(){y.off(".queue"+T)},completeCallback:function(){y.off(".complete"+T)},display:function(){y.css("display","")},direction:function(){y.removeClass(p.inward).removeClass(p.outward)},duration:function(){y.css("animation-duration","")},failSafe:function(){C.verbose("Removing fail safe timer",C.timer),C.timer&&clearTimeout(C.timer)},hidden:function(){y.removeClass(p.hidden)},visible:function(){y.removeClass(p.visible)},looping:function(){C.debug("Transitions are no longer looping"),C.is.looping()&&(C.reset(),y.removeClass(p.looping))},transition:function(){y.removeClass(p.visible).removeClass(p.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||f.animation,n=C.can.transition()&&!C.has.direction()?C.get.direction()+" ":"";return p.animating+" "+p.transition+" "+n+t},currentAnimation:function(){return C.cache&&C.cache.animation!==i?C.cache.animation:!1},currentDirection:function(){return C.is.inward()?p.inward:p.outward},direction:function(){return C.is.hidden()||!C.is.visible()?p.inward:p.outward},animationDirection:function(t){var n;return t=t||f.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t===p.inward?n=p.inward:t===p.outward&&(n=p.outward)})),n?n:!1},duration:function(e){return e=e||f.duration,e===!1&&(e=y.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return f.displayType?f.displayType:(y.data(v.displayType)===i&&C.can.transition(!0),y.data(v.displayType))},userStyle:function(e){return e=e||y.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),o={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in o)if(t.style[e]!==i)return o[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),o={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in o)if(t.style[e]!==i)return o[e];return!1}},can:{transition:function(t){var n,o,a,r,s,l,c,u=f.animation,d=C.get.transitionExists(u);if(d===i||t){if(C.verbose("Determining whether animation exists"),n=y.attr("class"),o=y.prop("tagName"),a=e("<"+o+" />").addClass(n).insertAfter(y),r=a.addClass(u).removeClass(p.inward).removeClass(p.outward).addClass(p.animating).addClass(p.transition).css("animationName"),s=a.addClass(p.inward).css("animationName"),c=a.attr("class",n).removeAttr("style").removeClass(p.hidden).removeClass(p.visible).show().css("display"),C.verbose("Determining final display state",c),C.save.displayType(c),a.remove(),r!=s)C.debug("Direction exists for animation",u),l=!0;else{if("none"==r||!r)return void C.debug("No animation defined in css",u);C.debug("Static animation found",u,c),l=!1}C.save.transitionExists(u,l)}return d!==i?d:l},animate:function(){return C.can.transition()!==i}},is:{animating:function(){return y.hasClass(p.animating)},inward:function(){return y.hasClass(p.inward)},outward:function(){return y.hasClass(p.outward)},looping:function(){return y.hasClass(p.looping)},occurring:function(e){return e=e||f.animation,e="."+e.replace(" ","."),y.filter(e).length>0},visible:function(){return y.is(":visible")},hidden:function(){return"hidden"===y.css("visibility")},supported:function(){return b!==!1}},hide:function(){C.verbose("Hiding element"),C.is.animating()&&C.reset(),I.blur(),C.remove.display(),C.remove.visible(),C.set.hidden(),C.force.hidden(),f.onHide.call(I),f.onComplete.call(I)},show:function(e){C.verbose("Showing element",e),C.remove.hidden(),C.set.visible(),C.force.visible(),f.onShow.call(I),f.onComplete.call(I)},toggle:function(){C.is.visible()?C.hide():C.show()},stop:function(){C.debug("Stopping current animation"),y.triggerHandler(b)},stopAll:function(){C.debug("Stopping all animation"),C.remove.queueCallback(),y.triggerHandler(b)},clear:{queue:function(){C.debug("Clearing animation queue"),C.remove.queueCallback()}},enable:function(){C.verbose("Starting animation"),y.removeClass(p.disabled)},disable:function(){C.debug("Stopping animation"),y.addClass(p.disabled)},setting:function(t,n){if(C.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(n===i)return C[t];C[t]=n}},debug:function(){f.debug&&(f.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,f.name+":"),C.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,f.name+":"),C.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(C.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=m;return n=n||d,a=I||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s!==i?s:!1}},C.initialize()}),o!==i?o:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.video=function(n){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);
t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(){var h,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.video.settings,n):e.extend({},e.fn.video.settings),m=f.selector,g=f.className,p=f.error,v=f.metadata,b=f.namespace,E=f.templates,T="."+b,C="module-"+b,y=(e(t),e(this)),I=y.find(m.placeholder),O=y.find(m.playButton),D=y.find(m.embed),R=this,_=y.data(C);h={initialize:function(){h.debug("Initializing video"),h.create(),I.on("click"+T,h.play),O.on("click"+T,h.play),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),_=h,y.data(C,h)},create:function(){var e=y.data(v.image),t=E.video(e);y.html(t),h.refresh(),e||h.play(),h.debug("Creating html for video element",t)},destroy:function(){h.verbose("Destroying previous instance of video"),h.reset(),y.removeData(C).off(T),I.off(T),O.off(T)},refresh:function(){h.verbose("Refreshing selector cache"),I=y.find(m.placeholder),O=y.find(m.playButton),D=y.find(m.embed)},change:function(e,t,n){h.debug("Changing video to ",e,t,n),y.data(v.source,e).data(v.id,t).data(v.url,n),f.onChange()},reset:function(){h.debug("Clearing video embed and showing placeholder"),y.removeClass(g.active),D.html(" "),I.show(),f.onReset()},play:function(){h.debug("Playing video");var e=y.data(v.source)||!1,t=y.data(v.url)||!1,n=y.data(v.id)||!1;D.html(h.generate.html(e,n,t)),y.addClass(g.active),f.onPlay()},get:{source:function(e){return"string"!=typeof e?!1:-1!==e.search("youtube.com")?"youtube":-1!==e.search("vimeo.com")?"vimeo":!1},id:function(e){return e.match(f.regExp.youtube)?e.match(f.regExp.youtube)[1]:e.match(f.regExp.vimeo)?e.match(f.regExp.vimeo)[2]:!1}},generate:{html:function(e,t,n){h.debug("Generating embed html");var i;return e=e||f.source,t=t||f.id,e&&t||n?(e&&t||(e=h.get.source(n),t=h.get.id(n)),"vimeo"==e?i='<iframe src="//player.vimeo.com/video/'+t+"?="+h.generate.url(e)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':"youtube"==e&&(i='<iframe src="//www.youtube.com/embed/'+t+"?="+h.generate.url(e)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>')):h.error(p.noVideo),i},url:function(e){var t=f.api?1:0,n="auto"===f.autoplay?y.data("image")!==i:f.autoplay,o=f.hd?1:0,a=f.showUI?1:0,r=f.showUI?0:1,s="";return"vimeo"==e&&(s="api="+t+"&amp;title="+a+"&amp;byline="+a+"&amp;portrait="+a+"&amp;autoplay="+n,f.color&&(s+="&amp;color="+f.color)),"ustream"==e?(s="autoplay="+n,f.color&&(s+="&amp;color="+f.color)):"youtube"==e&&(s="enablejsapi="+t+"&amp;autoplay="+n+"&amp;autohide="+r+"&amp;hq="+o+"&amp;modestbranding=1",f.color&&(s+="&amp;color="+f.color)),s}},setting:function(t,n){if(h.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,100)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var r,s,l,c=_;return n=n||d,a=R||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(h.error(p.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(_===i&&h.initialize(),h.invoke(c)):(_!==i&&_.invoke("destroy"),h.initialize())}),o!==i?o:this},e.fn.video.settings={name:"Video",namespace:"video",debug:!1,verbose:!0,performance:!0,metadata:{id:"id",image:"image",source:"source",url:"url"},source:!1,url:!1,id:!1,aspectRatio:16/9,onPlay:function(){},onReset:function(){},onChange:function(){},onPause:function(){},onStop:function(){},width:"auto",height:"auto",autoplay:"auto",color:"#442359",hd:!0,showUI:!1,api:!0,regExp:{youtube:/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,vimeo:/http:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/},error:{noVideo:"No video specified",method:"The method you called is not defined"},className:{active:"active"},selector:{embed:".embed",placeholder:".placeholder",playButton:".play"}},e.fn.video.settings.templates={video:function(e){var t="";return e&&(t+='<i class="video play icon"></i><img class="placeholder" src="'+e+'">'),t+='<div class="embed"></div>'}}}(jQuery,window,document),function(){var e;e=function(){function e(e,t,n,i,o,a,r){this.name=e,this.baseRequestForFilter=t,this.baseLinkForShowAllRecords=n,this.linkForExport=i,this.parameterNameForQueryLoading=o,this.parameterNameForFocus=a,this.environment=r,this.filterDeclarations=new Array,this.checkIfJsFrameworkIsLoaded()}return e.prototype.checkIfJsFrameworkIsLoaded=function(){return jQuery?void 0:alert("jQuery not loaded, WiceGrid cannot proceed!")},e.prototype.toString=function(){return"<WiceGridProcessor instance for grid '"+this.name+"'>"},e.prototype.process=function(e){return this.visit(this.buildUrlWithParams(e))},e.prototype.visit=function(e){return"undefined"!=typeof Turbolinks&&null!==Turbolinks?Turbolinks.visit(e):window.location=e},e.prototype.setProcessTimer=function(e){var t;return this.timer&&(clearTimeout(this.timer),this.timer=null),t=this,this.timer=setTimeout(function(){return t.process(e)},1e3)},e.prototype.reloadPageForGivenGridState=function(e){var t;return t=this.gridStateToRequest(e),this.visit(this.appendToUrl(this.baseLinkForShowAllRecords,t))},e.prototype.gridStateToRequest=function(e){return jQuery.map(e,function(e){return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])}).join("&")},e.prototype.appendToUrl=function(e,t){var n;return n=-1!==e.indexOf("?")?/[&\?]$/.exec(e)?"":"&":"?",e+n+t},e.prototype.buildUrlWithParams=function(e){var t,n,i;return i=new Array,jQuery.each(this.filterDeclarations,function(e){return function(t,n){var o;return o=e.readValuesAndFormQueryString(n.filterName,n.detached,n.templates,n.ids),o&&""!==o?i.push(o):void 0}}(this)),n=this.baseRequestForFilter,0!==i.length&&(t=i.join("&"),n=this.appendToUrl(n,t)),e&&(n=this.appendToUrl(n,this.parameterNameForFocus+e)),n},e.prototype.reset=function(){return this.visit(this.baseRequestForFilter)},e.prototype.exportToCsv=function(){return this.visit(this.linkForExport)},e.prototype.register=function(e){return this.filterDeclarations.push(e)},e.prototype.readValuesAndFormQueryString=function(e,t,n,i){var o,a,r,s,l,c,u,d,h,f;for(h=new Array,a=s=0,u=n.length-1;u>=0?u>=s:s>=u;a=u>=0?++s:--s){if(null===$(i[a]))return"development"===this.environment&&(c='WiceGrid: Error reading state of filter "'+e+'". No DOM element with id "'+i[a]+'" found.',t&&(c+='You have declared "'+e+'" as a detached filter but have not output it anywhere in the template. Read documentation about detached filters.'),alert(c)),"";if(o=$("#"+i[a]),o[0]&&"checkbox"===o[0].type?o[0].checked&&(f=1):f=o.val(),f instanceof Array)for(r=l=0,d=f.length-1;d>=0?d>=l:l>=d;r=d>=0?++l:--l)f[r]&&""!==f[r]&&h.push(n[a]+encodeURIComponent(f[r]));else f&&""!==f&&h.push(n[a]+encodeURIComponent(f))}return h.join("&")},e}(),e._version="3.4",window.WiceGridProcessor=e}.call(this),function(){var e,t,n,i,o,a,r,s,l,c,u,d,h,f,m,g,p,v,b;$(document).on("page:load ready",function(){return i()}),n="wiceGrids",i=function(){return $(".wice-grid-container").each(function(t,i){var o,a,r,l,d,h,f,g,E;for(d=i.id,o=$(".wg-data",i),E=o.data("processor-initializer-arguments"),r=o.data("filter-declarations"),e(o.data("foc")),h=new WiceGridProcessor(d,E[0],E[1],E[2],E[3],E[4],E[5]),l=function(e){return null!=e?h.register({filterName:e.filterName,detached:e.detached,templates:e.declaration.templates,ids:e.declaration.ids}):void 0},f=0,g=r.length;g>f;f++)a=r[f],l(a);return window[n]||(window[n]={}),window[n][d]=h,b(i,h),u(i,h),m(i),v(i,h),p(i),s(i,h),c(i)}),r(),f(),h(),d(),p($(".wg-detached-filter"))},a=function(e,t,n,i,o){var a,r,s,l;return(r=t.data(e))&&(l=$(a="#"+r))&&(s=l.datepicker("getDate"))&&o(s,n)?(l.datepicker("setDate",n),l.next().next().html($.datepicker.formatDate(i,n))):void 0},d=function(){return 0!==$(".date-filter.wg-jquery-datepicker").length&&g(),0!==$(".date-filter.wg-bootstrap-datepicker").length?l():void 0},l=function(){return $.fn.datepicker?$(".date-filter.wg-bootstrap-datepicker input:text[data-provide=datepicker]").each(function(e,t){return $(t).datepicker().on("hide",function(e){var t,n,i;return t=$(e.currentTarget),i=t.data("close-calendar-event-name"),i?t.trigger(i):"fr"===t.attr("id").split("_").pop()&&(n=t.parent().next().find("input:text.check-for-bsdatepicker"),n.length>0)?n.datepicker("show"):void 0})}):void alert("Seems like you do not have Bootstrap datepicker gem (https://github.com/Nerian/bootstrap-datepicker-rails)\ninstalled. Either install it pick another filter with :filter_type.")},g=function(){var e;return $.datepicker||alert("Seems like you do not have jQuery datepicker (http://jqueryui.com/demos/datepicker/)\ninstalled. Either install it pick another filter with :filter_type."),(e=$(".date-filter.wg-jquery-datepicker input[type=hidden]").data("locale"))&&$.datepicker.setDefaults($.datepicker.regional[e]),$(".date-filter.wg-jquery-datepicker .date-label").each(function(e,t){var n,i,o,r,s,l,c,u;return o=$("#"+$(t).data("dom-id")),r=o.data("close-calendar-event-name"),$(t).click(function(e){return $(this).html(""),o.val(""),r&&o.trigger(r),e.preventDefault(),!1}),c=this,n=o.data("date-format"),u=o.data("date-year-range"),s=o.data("button-text"),o.datepicker({firstDay:1,dateFormat:n,changeMonth:!0,changeYear:!0,yearRange:u,onSelect:function(e,t){var i;return i=$(this).datepicker("getDate"),a("the-other-datepicker-id-to",o,i,n,function(e,t){return t>e}),a("the-other-datepicker-id-from",o,i,n,function(e,t){return e>t}),$(c).html(e),r?o.trigger(r):void 0}}),i=o.parent(),$(t).before(' <i class="fa fa-calendar ui-datepicker-trigger" title="'+s+'" ></i> '),l=$(".fa-calendar",i),l.click(function(){return o.datepicker("show")})})},m=function(e){var t,n,i;return n=".wg-hide-filter",i=".wg-show-filter",t=".wg-filter-row",$(n,e).click(function(){return $(this).hide(),$(i,e).show(),$(t,e).hide()}),$(i,e).click(function(){return $(this).hide(),$(n,e).show(),$(t,e).show()})},u=function(e,t){return $(".export-to-csv-button",e).click(function(){return t.exportToCsv()})},b=function(e,t){return $(".submit",e).click(function(){return t.process()}),$(".reset",e).click(function(){return t.reset()}),$(".wg-filter-row input[type=text], .wg-filter-row input:text[data-provide=datepicker]",e).keydown(function(e){return 13===e.keyCode?(e.preventDefault(),t.process()):void 0})},e=function(e){var t,n;return n=$("#"+e),(t=n[0])?(t.value=t.value,t.focus()):void 0},s=function(e,t){return $("select.auto-reload, input.native-datepicker.auto-reload",e).change(function(){return t.process()}),$("input.auto-reload",e).keyup(function(e){return o(e.which)?t.setProcessTimer(this.id):void 0}),$("input.negation-checkbox.auto-reload",e).click(function(){return t.process()}),$(document).bind("wg:calendarChanged_"+t.name,function(){return t.process()})},o=function(e,t){return-1===[37,38,39,40,9,27].indexOf(e)},r=function(){return $(".wg-detached-filter").each(function(e,n){var i;return i=t(n),i?($("select.auto-reload, input.native-datepicker.auto-reload",n).change(function(){return i.process()}),$("input.auto-reload",n).keyup(function(e){return o(e.which)?i.setProcessTimer(this.id):void 0}),$("input.negation-checkbox.auto-reload",n).click(function(){return i.process()})):void 0})},v=function(e,t){return $(".wg-show-all-link, .wg-back-to-pagination-link",e).click(function(e){var n,i,o;return e.preventDefault(),i=$(this).data("grid-state"),n=$(this).data("confim-message"),o=function(){return t.reloadPageForGivenGridState(i)},n?confirm(n)?o():void 0:o()})},p=function(e){return $(".expand-multi-select-icon",e).click(function(){return $(this).prev().each(function(e,t){return t.multiple=!0}),$(this).next().show(),$(this).hide()}),$(".collapse-multi-select-icon",e).click(function(){return $(this).prev().prev().each(function(e,t){return t.multiple=!1}),$(this).prev().show(),$(this).hide()})},c=function(e){return $(".select-all",e).click(function(){return $(".sel input",e).prop("checked",!0).trigger("change")}),$(".deselect-all",e).click(function(){return $(".sel input",e).prop("checked",!1).trigger("change")}),$(".wg-select-all",e).click(function(){return $(".sel input",e).prop("checked",$(this).prop("checked")).trigger("change")})},t=function(e){var t;return t=$(e).data("grid-name"),t&&window[n]?window[n][t]:null},h=function(){return $(".wg-external-csv-export-button").each(function(e,n){var i;return i=t(n),i?$(n).click(function(e){return i.exportToCsv()}):void 0})},f=function(){return $(".wg-external-submit-button").each(function(e,n){var i;return i=t(n),i?$(n).click(function(e){return i.process(),e.preventDefault(),!1}):void 0}),$(".wg-external-reset-button").each(function(e,n){var i;return i=t(n),i?$(n).click(function(e){return i.reset(),e.preventDefault(),!1}):void 0}),$(".wg-detached-filter").each(function(e,n){var i;return i=t(n),i?$("input[type=text], input:text[data-provide=datepicker]",this).keydown(function(e){return 13===e.keyCode?(i.process(),e.preventDefault(),!1):void 0}):void 0})},window.getGridProcessorForElement=t,window.initWiceGrid=i}.call(this),function(){var e,t,n,i,o;$(document).on("page:load ready",function(){return o()}),o=function(){return $(".wice-grid-save-query-field").keydown(function(e){return 13===e.keyCode?i($(this).next(),e):void 0}),$(".wice-grid-save-query-button").click(function(e){return i(this,e)}),$(".wice-grid-delete-query").click(function(t){return e(this,t)}),$(".wice-grid-query-load-link").click(function(e){return t(this,e)})},t=function(e,t){var n,i,o;return(n=window.getGridProcessorForElement(e))&&(i=$(e).data("query-id"),o=n.appendToUrl(n.buildUrlWithParams(),n.parameterNameForQueryLoading+encodeURIComponent(i)),n.visit(o)),t.preventDefault(),t.stopPropagation(),!1},e=function(e,t){var i,o,a;return i=$(e).data("wg-confirm"),a=i?function(){return confirm(i)}:function(){return!0},a()&&(o=window.getGridProcessorForElement(e))&&jQuery.ajax({url:$(e).attr("href"),async:!0,dataType:"json",success:function(e,t,i){return n(e,o.name)},type:"POST"}),t.preventDefault(),t.stopPropagation(),!1},i=function(e,t){var i,o,a,r,s,l,c,u;return(a=window.getGridProcessorForElement(e))?(i=$(e),o=i.data("base-path-to-query-controller"),r=i.data("parameters"),l=i.data("ids"),s=i.prev(),l instanceof Array&&l.each(function(e){return r.push(["extra["+e+"]",$("#"+e).val()])}),c=s.val(),u=a.gridStateToRequest(r),jQuery.ajax({url:o,async:!0,data:u+"&query_name="+encodeURIComponent(c),dataType:"json",success:function(e,t,i){return n(e,a.name,c,s)},type:"POST"}),t.preventDefault(),!1):void 0},n=function(n,i,o,a){var r,s,l,c,u;return c="#"+i+"_notification_messages",s="#"+i+"_title",u="#"+i+"_query_list",o&&a.val(""),(r=n.error_messages)?$(c).text(r):((l=n.notification_messages)&&$(c).text(l),o&&$(s).html("<h3>"+o+"</h3>"),$(u).replaceWith(n.query_list),jQuery.ui&&$(u).effect("highlight"),$(".wice-grid-delete-query",$(u)).click(function(t){return e(this,t)}),$(".wice-grid-query-load-link",$(u)).click(function(e){return t(this,e)}))}}.call(this),function(e){var t=0,n=function(){return(new Date).getTime()+t++},i=function(e){return"["+e+"]$1"},o=function(e){return"_"+e+"_$1"};e(document).on("click",".add_fields",function(t){t.preventDefault();var a=e(this),r=a.data("association"),s=a.data("associations"),l=a.data("association-insertion-template"),c=a.data("association-insertion-method")||a.data("association-insertion-position")||"before",u=a.data("association-insertion-node"),d=a.data("association-insertion-traversal"),h=parseInt(a.data("count"),10),f=new RegExp("\\[new_"+r+"\\](.*?\\s)","g"),m=new RegExp("_new_"+r+"_(\\w*)","g"),g=n(),p=l.replace(f,i(g)),v=[];for(p==l&&(f=new RegExp("\\[new_"+s+"\\](.*?\\s)","g"),m=new RegExp("_new_"+s+"_(\\w*)","g"),p=l.replace(f,i(g))),p=p.replace(m,o(g)),v=[p],h=isNaN(h)?1:Math.max(h,1),h-=1;h;)g=n(),p=l.replace(f,i(g)),p=p.replace(m,o(g)),v.push(p),h-=1;u=u?d?a[d](u):"this"==u?a:e(u):a.parent(),e.each(v,function(t,n){var i=e(n);u.trigger("cocoon:before-insert",[i]);u[c](i);u.trigger("cocoon:after-insert",[i])})}),e(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(t){var n=e(this),i=n.data("wrapper-class")||"nested-fields",o=n.closest("."+i),a=o.parent();t.preventDefault(),a.trigger("cocoon:before-remove",[o]);var r=a.data("remove-timeout")||0;setTimeout(function(){n.hasClass("dynamic")?o.remove():(n.prev("input[type=hidden]").val("1"),o.hide()),a.trigger("cocoon:after-remove",[o])},r)}),e(".remove_fields.existing.destroyed").each(function(t,n){var i=e(this),o=i.data("wrapper-class")||"nested-fields";i.closest("."+o).hide()})}(jQuery);var Lobibox=Lobibox||{};!function(){function e(e,t){this.$input=null,this.$type="prompt",this.$promptType=e,t=$.extend({},Lobibox.prompt.DEFAULT_OPTIONS,t),this.$options=this._processInput(t),this._init(),this.debug(this)}function t(e){this.$type="confirm",this.$options=this._processInput(e),this._init(),this.debug(this)}function n(e,t){this.$type=e,this.$options=this._processInput(t),this._init(),this.debug(this)}function i(e){this.$type="progress",this.$progressBarElement=null,this.$options=this._processInput(e),this.$progress=0,this._init(),this.debug(this)}function o(e,t){this.$type=e,this.$options=this._processInput(t),this._init(),this.debug(this)}Lobibox.prompt=function(t,n){return new e(t,n)},Lobibox.confirm=function(e){return new t(e)},Lobibox.progress=function(e){return new i(e)},Lobibox.error={},Lobibox.success={},Lobibox.warning={},Lobibox.info={},Lobibox.alert=function(e,t){return["success","error","warning","info"].indexOf(e)>-1?new n(e,t):void 0},Lobibox.window=function(e){return new o("window",e)};var a={$type:null,$el:null,$options:null,debug:function(){this.$options.debug&&window.console.debug.apply(window.console,arguments)},_processInput:function(e){if($.isArray(e.buttons)){for(var t={},n=0;n<e.buttons.length;n++)t[e.buttons[n]]=Lobibox.base.OPTIONS.buttons[e.buttons[n]];e.buttons=t}e.customBtnClass=e.customBtnClass?e.customBtnClass:Lobibox.base.DEFAULTS.customBtnClass;for(var n in e.buttons)if(e.buttons.hasOwnProperty(n)){var i=e.buttons[n];i=$.extend({},Lobibox.base.OPTIONS.buttons[n],i),i["class"]||(i["class"]=e.customBtnClass),e.buttons[n]=i}return e=$.extend({},Lobibox.base.DEFAULTS,e),void 0===e.showClass&&(e.showClass=Lobibox.base.OPTIONS.showClass),void 0===e.hideClass&&(e.hideClass=Lobibox.base.OPTIONS.hideClass),void 0===e.baseClass&&(e.baseClass=Lobibox.base.OPTIONS.baseClass),void 0===e.delayToRemove&&(e.delayToRemove=Lobibox.base.OPTIONS.delayToRemove),e.iconClass||(e.iconClass=Lobibox.base.OPTIONS.icons[e.iconSource][this.$type]),e},_init:function(){var e=this;e._createMarkup(),e.setTitle(e.$options.title),e.$options.draggable&&!e._isMobileScreen()&&(e.$el.addClass("draggable"),e._enableDrag()),e.$options.closeButton&&e._addCloseButton(),e.$options.closeOnEsc&&$(document).on("keyup.lobibox",function(t){27===t.which&&e.destroy()}),e.$options.baseClass&&e.$el.addClass(e.$options.baseClass),e.$options.showClass&&(e.$el.removeClass(e.$options.hideClass),e.$el.addClass(e.$options.showClass)),e.$el.data("lobibox",e)},_calculatePosition:function(e){var t,n=this;t="top"===e?30:"bottom"===e?$(window).outerHeight()-n.$el.outerHeight()-30:($(window).outerHeight()-n.$el.outerHeight())/2;var i=($(window).outerWidth()-n.$el.outerWidth())/2;return{left:i,top:t}},_createButton:function(e,t){var n=this,i=$("<button></button>").addClass(t["class"]).attr("data-type",e).html(t.text);return n.$options.callback&&"function"==typeof n.$options.callback&&i.on("click.lobibox",function(t){var i=$(this);n.$options.buttons[e]&&n.$options.buttons[e].closeOnClick&&n.destroy(),n.$options.callback(n,i.data("type"),t)}),i.click(function(){n.$options.buttons[e]&&n.$options.buttons[e].closeOnClick&&n.destroy()}),i},_generateButtons:function(){var e=this,t=[];for(var n in e.$options.buttons)if(e.$options.buttons.hasOwnProperty(n)){var i=e.$options.buttons[n],o=e._createButton(n,i);t.push(o)}return t},_createMarkup:function(){var e=this,t=$('<div class="lobibox"></div>');t.attr("data-is-modal",e.$options.modal);var n=$('<div class="lobibox-header"></div>').append('<span class="lobibox-title"></span>'),i=$('<div class="lobibox-body"></div>');if(t.append(n),t.append(i),e.$options.buttons&&!$.isEmptyObject(e.$options.buttons)){var o=$('<div class="lobibox-footer"></div>');o.append(e._generateButtons()),t.append(o),Lobibox.base.OPTIONS.buttonsAlign.indexOf(e.$options.buttonsAlign)>-1&&o.addClass("text-"+e.$options.buttonsAlign)}e.$el=t.addClass(Lobibox.base.OPTIONS.modalClasses[e.$type])},_setSize:function(){var e=this;e.setWidth(e.$options.width),"auto"===e.$options.height?e.setHeight(e.$el.outerHeight()):e.setHeight(e.$options.height)},_calculateBodyHeight:function(e){var t=this,n=t.$el.find(".lobibox-header").outerHeight(),i=t.$el.find(".lobibox-footer").outerHeight();return e-(n?n:0)-(i?i:0)},_addBackdrop:function(){0===$(".lobibox-backdrop").length&&$("body").append('<div class="lobibox-backdrop"></div>')},_triggerEvent:function(e){var t=this;t.$options[e]&&"function"==typeof t.$options[e]&&t.$options[e](t)},_calculateWidth:function(e){var t=this;return e=Math.min($(window).outerWidth(),e),e===$(window).outerWidth()&&(e-=2*t.$options.horizontalOffset),e},_calculateHeight:function(e){return Math.min($(window).outerHeight(),e)},_addCloseButton:function(){var e=this,t=$('<span class="btn-close">&times;</span>');e.$el.find(".lobibox-header").append(t),t.on("mousedown",function(e){e.stopPropagation()}),t.on("click.lobibox",function(){e.destroy()})},_position:function(){var e=this;e._setSize();var t=e._calculatePosition();e.setPosition(t.left,t.top)},_isMobileScreen:function(){return $(window).outerWidth()<768},_enableDrag:function(){var e=this.$el,t=e.find(".lobibox-header");t.on("mousedown.lobibox",function(t){e.attr("offset-left",t.offsetX),e.attr("offset-top",t.offsetY),e.attr("allow-drag","true")}),$(document).on("mouseup.lobibox",function(){e.attr("allow-drag","false")}),$(document).on("mousemove.lobibox",function(t){if("true"===e.attr("allow-drag")){var n=t.clientX-parseInt(e.attr("offset-left"),10)-parseInt(e.css("border-left-width"),10),i=t.clientY-parseInt(e.attr("offset-top"),10)-parseInt(e.css("border-top-width"),10);e.css({left:n,top:i})}})},_setContent:function(e){var t=this;return t.$el.find(".lobibox-body").html(e),t},hide:function(){function e(){t.$el.addClass("lobibox-hidden"),0===$(".lobibox[data-is-modal=true]:not(.lobibox-hidden)").length&&($(".lobibox-backdrop").remove(),$("body").removeClass(Lobibox.base.OPTIONS.bodyClass))}var t=this;return t.$options.hideClass?(t.$el.removeClass(t.$options.showClass),t.$el.addClass(t.$options.hideClass),setTimeout(function(){e()},t.$options.delayToRemove)):e(),this},destroy:function(){function e(){t.$el.remove(),0===$(".lobibox[data-is-modal=true]").length&&($(".lobibox-backdrop").remove(),$("body").removeClass(Lobibox.base.OPTIONS.bodyClass)),t._triggerEvent("closed")}var t=this;return t._triggerEvent("beforeClose"),t.$options.hideClass?(t.$el.removeClass(t.$options.showClass).addClass(t.$options.hideClass),setTimeout(function(){e()},t.$options.delayToRemove)):e(),this},setWidth:function(e){var t=this;return t.$el.css("width",t._calculateWidth(e)),t},setHeight:function(e){var t=this;return t.$el.css("height",t._calculateHeight(e)).find(".lobibox-body").css("height",t._calculateBodyHeight(t.$el.innerHeight())),t},setSize:function(e,t){var n=this;return n.setWidth(e),n.setHeight(t),n},setPosition:function(e,t){var n;return"number"==typeof e&&"number"==typeof t?n={left:e,top:t}:"string"==typeof e&&(n=this._calculatePosition(e)),this.$el.css(n),this},setTitle:function(e){return this.$el.find(".lobibox-title").html(e)},getTitle:function(){return this.$el.find(".lobibox-title").html()},show:function(){var e=this,t=$("body");if(e._triggerEvent("onShow"),e.$el.removeClass("lobibox-hidden"),t.append(e.$el),e.$options.buttons){var n=e.$el.find(".lobibox-footer").children();n[0].focus()}return e.$options.modal&&(t.addClass(Lobibox.base.OPTIONS.bodyClass),e._addBackdrop()),e._triggerEvent("shown"),e}};Lobibox.base={},Lobibox.base.OPTIONS={bodyClass:"lobibox-open",modalClasses:{error:"lobibox-error",success:"lobibox-success",info:"lobibox-info",warning:"lobibox-warning",confirm:"lobibox-confirm",progress:"lobibox-progress",prompt:"lobibox-prompt","default":"lobibox-default",window:"lobibox-window"},buttonsAlign:["left","center","right"],buttons:{ok:{"class":"lobibox-btn lobibox-btn-default",text:"OK",closeOnClick:!0},cancel:{"class":"lobibox-btn lobibox-btn-cancel",text:"Cancel",closeOnClick:!0},yes:{"class":"lobibox-btn lobibox-btn-yes",text:"Yes",closeOnClick:!0},no:{"class":"lobibox-btn lobibox-btn-no",text:"No",closeOnClick:!0}},icons:{bootstrap:{confirm:"glyphicon glyphicon-question-sign",success:"glyphicon glyphicon-ok-sign",error:"glyphicon glyphicon-remove-sign",warning:"glyphicon glyphicon-exclamation-sign",info:"glyphicon glyphicon-info-sign"},fontAwesome:{confirm:"fa fa-question-circle",success:"fa fa-check-circle",error:"fa fa-times-circle",warning:"fa fa-exclamation-circle",info:"fa fa-info-circle"}}},Lobibox.base.DEFAULTS={horizontalOffset:5,width:600,height:"auto",closeButton:!0,draggable:!1,customBtnClass:"lobibox-btn lobibox-btn-default",modal:!0,debug:!1,buttonsAlign:"center",closeOnEsc:!0,delayToRemove:200,baseClass:"animated-super-fast",showClass:"zoomIn",hideClass:"zoomOut",iconSource:"bootstrap",onShow:null,shown:null,beforeClose:null,closed:null},e.prototype=$.extend({},a,{constructor:e,_processInput:function(t){var n=this,i=a._processInput.call(n,t);return i.buttons={ok:Lobibox.base.OPTIONS.buttons.ok,cancel:Lobibox.base.OPTIONS.buttons.cancel},t=$.extend({},i,e.DEFAULT_OPTIONS,t)},_init:function(){var e=this;a._init.call(e),e.show(),e._setContent(e._createInput())._position(),e.$input.focus()},_createInput:function(){var e,t=this;return t.$options.multiline?t.$input=$("<textarea></textarea>").attr("rows",t.$options.lines):t.$input=$('<input type="'+t.$promptType+'"/>'),t.$input.addClass("lobibox-input").attr(t.$options.attrs),t.$options.value&&t.setValue(t.$options.value),t.$options.label&&(e=$("<label>"+t.$options.label+"</label>")),$("<div></div>").append(e,t.$input)},setValue:function(e){return this.$input.val(e),this},getValue:function(){return this.$input.val()}}),e.DEFAULT_OPTIONS={width:400,attrs:{},value:"",multiline:!1,lines:3,type:"text",label:""},t.prototype=$.extend({},a,{constructor:t,_processInput:function(e){var t=this,n=a._processInput.call(t,e);return n.buttons={yes:Lobibox.base.OPTIONS.buttons.yes,no:Lobibox.base.OPTIONS.buttons.no},e=$.extend({},n,Lobibox.confirm.DEFAULTS,e)},_init:function(){var e=this;a._init.call(e),e.show();var t=$("<div></div>");e.$options.iconClass&&t.append($('<div class="lobibox-icon-wrapper"></div>').append('<i class="lobibox-icon '+e.$options.iconClass+'"></i>')),t.append('<div class="lobibox-body-text-wrapper"><span class="lobibox-body-text">'+e.$options.msg+"</span></div>"),e._setContent(t.html()),e._position()}}),Lobibox.confirm.DEFAULTS={title:"Question",width:500},n.prototype=$.extend({},a,{constructor:n,_processInput:function(e){var t=this,n=a._processInput.call(t,e);return n.buttons={ok:Lobibox.base.OPTIONS.buttons.ok},e=$.extend({},n,Lobibox.alert.OPTIONS[t.$type],Lobibox.alert.DEFAULTS,e)},_init:function(){var e=this;a._init.call(e),e.show();var t=$("<div></div>");e.$options.iconClass&&t.append($('<div class="lobibox-icon-wrapper"></div>').append('<i class="lobibox-icon '+e.$options.iconClass+'"></i>')),t.append('<div class="lobibox-body-text-wrapper"><span class="lobibox-body-text">'+e.$options.msg+"</span></div>"),e._setContent(t.html()),e._position()}}),Lobibox.alert.OPTIONS={warning:{title:"Warning"},info:{title:"Information"},success:{title:"Success"},error:{title:"Error"}},Lobibox.alert.DEFAULTS={},i.prototype=$.extend({},a,{constructor:i,_processInput:function(e){var t=this,n=a._processInput.call(t,e);return e=$.extend({},n,Lobibox.progress.DEFAULTS,e)},_init:function(){var e=this;a._init.call(e),e.show(),e.$options.progressTpl?e.$progressBarElement=$(e.$options.progressTpl):e.$progressBarElement=e._createProgressbar();var t;e.$options.label&&(t=$("<label>"+e.$options.label+"</label>"));var n=$("<div></div>").append(t,e.$progressBarElement);e._setContent(n),e._position()},_createProgressbar:function(){var e=this,t=$('<div class="lobibox-progress-bar-wrapper lobibox-progress-outer"></div>').append('<div class="lobibox-progress-bar lobibox-progress-element"></div>');return e.$options.showProgressLabel&&t.append('<span class="lobibox-progress-text" data-role="progress-text"></span>'),t},setProgress:function(e){var t=this;if(100!==t.$progress)return e=Math.min(100,Math.max(0,e)),t.$progress=e,t._triggerEvent("progressUpdated"),100===t.$progress&&t._triggerEvent("progressCompleted"),t.$el.find(".lobibox-progress-element").css("width",e.toFixed(1)+"%"),t.$el.find('[data-role="progress-text"]').html(e.toFixed(1)+"%"),t},getProgress:function(){return this.$progress}}),Lobibox.progress.DEFAULTS={width:500,showProgressLabel:!0,label:"",progressTpl:!1,progressUpdated:null,progressCompleted:null},o.prototype=$.extend({},a,{constructor:o,_processInput:function(e){var t=this,n=a._processInput.call(t,e);return e.content&&"function"==typeof e.content&&(e.content=e.content()),e.content instanceof jQuery&&(e.content=e.content.clone()),e=$.extend({},n,Lobibox.window.DEFAULTS,e)},_init:function(){var e=this;a._init.call(e),e.setContent(e.$options.content),e.$options.url&&e.$options.autoload?(e.$options.showAfterLoad||(e.show(),e._position()),e.load(function(){e.$options.showAfterLoad&&(e.show(),e._position())})):(e.show(),e._position())},setParams:function(e){var t=this;return t.$options.params=e,t},getParams:function(){var e=this;return e.$options.params},setLoadMethod:function(e){var t=this;return t.$options.loadMethod=e,t},getLoadMethod:function(){var e=this;return e.$options.loadMethod},setContent:function(e){var t=this;return t.$options.content=e,t.$el.find(".lobibox-body").html("").append(e),t},getContent:function(){var e=this;return e.$options.content},setUrl:function(e){return this.$options.url=e,this},getUrl:function(){return this.$options.url},load:function(e){var t=this;return t.$options.url?($.ajax(t.$options.url,{method:t.$options.loadMethod,data:t.$options.params}).done(function(n){t.setContent(n),e&&"function"==typeof e&&e(n)}),t):t}}),Lobibox.window.DEFAULTS={width:480,height:600,content:"",url:"",draggable:!0,autoload:!0,loadMethod:"GET",showAfterLoad:!0,params:{}}}(),Math.randomString=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;e>i;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t};var Lobibox=Lobibox||{};!function(){var e=function(e,t){this.$type=null,this.$options=null,this.$el=null;var n=this,i=function(e){return("mini"===e.size||"large"===e.size)&&(e.width=e.width||Lobibox.notify.OPTIONS[e.size].width),e=$.extend({},Lobibox.notify.OPTIONS[n.$type],Lobibox.notify.DEFAULTS,e),"mini"!==e.size&&e.title===!0?e.title=Lobibox.notify.OPTIONS[n.$type].title:"mini"===e.size&&e.title===!0&&(e.title=!1),e.icon===!0&&(e.icon=Lobibox.notify.OPTIONS.icons[e.iconSource][n.$type]),e.sound===!0&&(e.sound=Lobibox.notify.OPTIONS[n.$type].sound),
e.sound&&(e.sound=e.soundPath+e.sound+e.soundExt),e},o=function(){var e=u(),t=c();if(a(e,t),n.$el=e,n.$options.sound){var i=new Audio(n.$options.sound);i.play()}n.$el.data("lobibox",n)},a=function(e,t){if("normal"===n.$options.size)t.append(e);else if("mini"===n.$options.size)e.addClass("notify-mini"),t.append(e);else if("large"===n.$options.size){var i=l().append(e),o=s(i.attr("id"));t.find(".lb-notify-wrapper").append(i),t.find(".lb-notify-tabs").append(o),r(o),o.find(">a").click(function(){r(o)})}},r=function(e){e.closest(".lb-notify-tabs").find(">li").removeClass("active"),e.addClass("active");var t=$(e.find(">a").attr("href"));t.closest(".lb-notify-wrapper").find(">.lb-tab-pane").removeClass("active"),t.addClass("active")},s=function(e){var t=$("<li></li>",{"class":Lobibox.notify.OPTIONS[n.$type]["class"]});return $("<a></a>",{href:"#"+e}).append('<i class="tab-control-icon '+n.$options.icon+'"></i>').appendTo(t),t},l=function(){return $("<div></div>",{"class":"lb-tab-pane",id:Math.randomString(10)})},c=function(){var e,t=("large"===n.$options.size?".lobibox-notify-wrapper-large":".lobibox-notify-wrapper")+"."+n.$options.position.replace(/\s/gi,".");return e=$(t),0===e.length&&(e=$("<div></div>").addClass(t.replace(/\./g," ").trim()).appendTo($("body")),"large"===n.$options.size&&e.append($('<ul class="lb-notify-tabs"></ul>')).append($('<div class="lb-notify-wrapper"></div>'))),e},u=function(){var e,t,i=Lobibox.notify.OPTIONS,o=$("<div></div>",{"class":"lobibox-notify "+i[n.$type]["class"]+" "+i["class"]+" "+n.$options.showClass});return e=$('<div class="lobibox-notify-icon"></div>').appendTo(o),n.$options.img?e.append('<img src="'+n.$options.img+'"/>'):n.$options.icon?e.append('<i class="'+n.$options.icon+'"></i>'):o.addClass("without-icon"),t=$("<div></div>",{"class":"lobibox-notify-body"}).append('<div class="lobibox-notify-msg">'+n.$options.msg+"</div>").appendTo(o),n.$options.title&&t.prepend('<div class="lobibox-notify-title">'+n.$options.title+"<div>"),d(o),("normal"===n.$options.size||"mini"===n.$options.size)&&(h(o),f(o)),n.$options.width&&o.css("width",g(n.$options.width)),o},d=function(e){n.$options.closable&&$('<span class="lobibox-close">&times;</span>').click(function(){n.remove()}).appendTo(e)},h=function(e){n.$options.closeOnClick&&e.click(function(){n.remove()})},f=function(e){if(n.$options.delay){if(n.$options.delayIndicator){var t=$('<div class="lobibox-delay-indicator"><div></div></div>');e.append(t)}var i=0,o=1e3/30,a=setInterval(function(){i+=o;var e=100*i/n.$options.delay;e>=100&&(e=100,n.remove(),a=clearInterval(a)),n.$options.delayIndicator&&t.find("div").css("width",e+"%")},o)}},m=function(e){var t=e.prev();return 0===t.length&&(t=e.next()),0===t.length?null:t},g=function(e){return e=Math.min($(window).outerWidth(),e)};this.remove=function(){n.$el.removeClass(n.$options.showClass).addClass(n.$options.hideClass);var e=n.$el.parent(),t=e.closest(".lobibox-notify-wrapper-large"),i="#"+e.attr("id"),o=t.find('>.lb-notify-tabs>li:has(a[href="'+i+'"])');return o.addClass(Lobibox.notify.OPTIONS["class"]).addClass(n.$options.hideClass),setTimeout(function(){if("normal"===n.$options.size||"mini"===n.$options.size)n.$el.remove();else if("large"===n.$options.size){var t=m(o);t&&r(t),o.remove(),e.remove()}},500),n},this.$type=e,this.$options=i(t),o()};Lobibox.notify=function(t,n){return["info","warning","error","success"].indexOf(t)>-1?new e(t,n):void 0},Lobibox.notify.DEFAULTS={title:!0,size:"normal",soundPath:"sounds/",soundExt:".ogg",showClass:"zoomIn",hideClass:"zoomOut",icon:!0,msg:"",img:null,closable:!0,delay:5e3,delayIndicator:!0,closeOnClick:!0,width:400,sound:!0,position:"bottom right",iconSource:"bootstrap"},Lobibox.notify.OPTIONS={"class":"animated-fast",large:{width:500},mini:{"class":"notify-mini"},success:{"class":"lobibox-notify-success",title:"Success",sound:"sound2"},error:{"class":"lobibox-notify-error",title:"Error",sound:"sound4"},warning:{"class":"lobibox-notify-warning",title:"Warning",sound:"sound5"},info:{"class":"lobibox-notify-info",title:"Information",sound:"sound6"},icons:{bootstrap:{success:"glyphicon glyphicon-ok-sign",error:"glyphicon glyphicon-remove-sign",warning:"glyphicon glyphicon-exclamation-sign",info:"glyphicon glyphicon-info-sign"},fontAwesome:{success:"fa fa-check-circle",error:"fa fa-times-circle",warning:"fa fa-exclamation-circle",info:"fa fa-info-circle"}}}}();var Lobibox=Lobibox||{};!function(){function e(e,t){this.$input=null,this.$type="prompt",this.$promptType=e,t=$.extend({},Lobibox.prompt.DEFAULT_OPTIONS,t),this.$options=this._processInput(t),this._init(),this.debug(this)}function t(e){this.$type="confirm",this.$options=this._processInput(e),this._init(),this.debug(this)}function n(e,t){this.$type=e,this.$options=this._processInput(t),this._init(),this.debug(this)}function i(e){this.$type="progress",this.$progressBarElement=null,this.$options=this._processInput(e),this.$progress=0,this._init(),this.debug(this)}function o(e,t){this.$type=e,this.$options=this._processInput(t),this._init(),this.debug(this)}Lobibox.prompt=function(t,n){return new e(t,n)},Lobibox.confirm=function(e){return new t(e)},Lobibox.progress=function(e){return new i(e)},Lobibox.error={},Lobibox.success={},Lobibox.warning={},Lobibox.info={},Lobibox.alert=function(e,t){return["success","error","warning","info"].indexOf(e)>-1?new n(e,t):void 0},Lobibox.window=function(e){return new o("window",e)};var a={$type:null,$el:null,$options:null,debug:function(){this.$options.debug&&window.console.debug.apply(window.console,arguments)},_processInput:function(e){if($.isArray(e.buttons)){for(var t={},n=0;n<e.buttons.length;n++)t[e.buttons[n]]=Lobibox.base.OPTIONS.buttons[e.buttons[n]];e.buttons=t}e.customBtnClass=e.customBtnClass?e.customBtnClass:Lobibox.base.DEFAULTS.customBtnClass;for(var n in e.buttons)if(e.buttons.hasOwnProperty(n)){var i=e.buttons[n];i=$.extend({},Lobibox.base.OPTIONS.buttons[n],i),i["class"]||(i["class"]=e.customBtnClass),e.buttons[n]=i}return e=$.extend({},Lobibox.base.DEFAULTS,e),void 0===e.showClass&&(e.showClass=Lobibox.base.OPTIONS.showClass),void 0===e.hideClass&&(e.hideClass=Lobibox.base.OPTIONS.hideClass),void 0===e.baseClass&&(e.baseClass=Lobibox.base.OPTIONS.baseClass),void 0===e.delayToRemove&&(e.delayToRemove=Lobibox.base.OPTIONS.delayToRemove),e.iconClass||(e.iconClass=Lobibox.base.OPTIONS.icons[e.iconSource][this.$type]),e},_init:function(){var e=this;e._createMarkup(),e.setTitle(e.$options.title),e.$options.draggable&&!e._isMobileScreen()&&(e.$el.addClass("draggable"),e._enableDrag()),e.$options.closeButton&&e._addCloseButton(),e.$options.closeOnEsc&&$(document).on("keyup.lobibox",function(t){27===t.which&&e.destroy()}),e.$options.baseClass&&e.$el.addClass(e.$options.baseClass),e.$options.showClass&&(e.$el.removeClass(e.$options.hideClass),e.$el.addClass(e.$options.showClass)),e.$el.data("lobibox",e)},_calculatePosition:function(e){var t,n=this;t="top"===e?30:"bottom"===e?$(window).outerHeight()-n.$el.outerHeight()-30:($(window).outerHeight()-n.$el.outerHeight())/2;var i=($(window).outerWidth()-n.$el.outerWidth())/2;return{left:i,top:t}},_createButton:function(e,t){var n=this,i=$("<button></button>").addClass(t["class"]).attr("data-type",e).html(t.text);return n.$options.callback&&"function"==typeof n.$options.callback&&i.on("click.lobibox",function(t){var i=$(this);n.$options.buttons[e]&&n.$options.buttons[e].closeOnClick&&n.destroy(),n.$options.callback(n,i.data("type"),t)}),i.click(function(){n.$options.buttons[e]&&n.$options.buttons[e].closeOnClick&&n.destroy()}),i},_generateButtons:function(){var e=this,t=[];for(var n in e.$options.buttons)if(e.$options.buttons.hasOwnProperty(n)){var i=e.$options.buttons[n],o=e._createButton(n,i);t.push(o)}return t},_createMarkup:function(){var e=this,t=$('<div class="lobibox"></div>');t.attr("data-is-modal",e.$options.modal);var n=$('<div class="lobibox-header"></div>').append('<span class="lobibox-title"></span>'),i=$('<div class="lobibox-body"></div>');if(t.append(n),t.append(i),e.$options.buttons&&!$.isEmptyObject(e.$options.buttons)){var o=$('<div class="lobibox-footer"></div>');o.append(e._generateButtons()),t.append(o),Lobibox.base.OPTIONS.buttonsAlign.indexOf(e.$options.buttonsAlign)>-1&&o.addClass("text-"+e.$options.buttonsAlign)}e.$el=t.addClass(Lobibox.base.OPTIONS.modalClasses[e.$type])},_setSize:function(){var e=this;e.setWidth(e.$options.width),"auto"===e.$options.height?e.setHeight(e.$el.outerHeight()):e.setHeight(e.$options.height)},_calculateBodyHeight:function(e){var t=this,n=t.$el.find(".lobibox-header").outerHeight(),i=t.$el.find(".lobibox-footer").outerHeight();return e-(n?n:0)-(i?i:0)},_addBackdrop:function(){0===$(".lobibox-backdrop").length&&$("body").append('<div class="lobibox-backdrop"></div>')},_triggerEvent:function(e){var t=this;t.$options[e]&&"function"==typeof t.$options[e]&&t.$options[e](t)},_calculateWidth:function(e){var t=this;return e=Math.min($(window).outerWidth(),e),e===$(window).outerWidth()&&(e-=2*t.$options.horizontalOffset),e},_calculateHeight:function(e){return Math.min($(window).outerHeight(),e)},_addCloseButton:function(){var e=this,t=$('<span class="btn-close">&times;</span>');e.$el.find(".lobibox-header").append(t),t.on("mousedown",function(e){e.stopPropagation()}),t.on("click.lobibox",function(){e.destroy()})},_position:function(){var e=this;e._setSize();var t=e._calculatePosition();e.setPosition(t.left,t.top)},_isMobileScreen:function(){return $(window).outerWidth()<768},_enableDrag:function(){var e=this.$el,t=e.find(".lobibox-header");t.on("mousedown.lobibox",function(t){e.attr("offset-left",t.offsetX),e.attr("offset-top",t.offsetY),e.attr("allow-drag","true")}),$(document).on("mouseup.lobibox",function(){e.attr("allow-drag","false")}),$(document).on("mousemove.lobibox",function(t){if("true"===e.attr("allow-drag")){var n=t.clientX-parseInt(e.attr("offset-left"),10)-parseInt(e.css("border-left-width"),10),i=t.clientY-parseInt(e.attr("offset-top"),10)-parseInt(e.css("border-top-width"),10);e.css({left:n,top:i})}})},_setContent:function(e){var t=this;return t.$el.find(".lobibox-body").html(e),t},hide:function(){function e(){t.$el.addClass("lobibox-hidden"),0===$(".lobibox[data-is-modal=true]:not(.lobibox-hidden)").length&&($(".lobibox-backdrop").remove(),$("body").removeClass(Lobibox.base.OPTIONS.bodyClass))}var t=this;return t.$options.hideClass?(t.$el.removeClass(t.$options.showClass),t.$el.addClass(t.$options.hideClass),setTimeout(function(){e()},t.$options.delayToRemove)):e(),this},destroy:function(){function e(){t.$el.remove(),0===$(".lobibox[data-is-modal=true]").length&&($(".lobibox-backdrop").remove(),$("body").removeClass(Lobibox.base.OPTIONS.bodyClass)),t._triggerEvent("closed")}var t=this;return t._triggerEvent("beforeClose"),t.$options.hideClass?(t.$el.removeClass(t.$options.showClass).addClass(t.$options.hideClass),setTimeout(function(){e()},t.$options.delayToRemove)):e(),this},setWidth:function(e){var t=this;return t.$el.css("width",t._calculateWidth(e)),t},setHeight:function(e){var t=this;return t.$el.css("height",t._calculateHeight(e)).find(".lobibox-body").css("height",t._calculateBodyHeight(t.$el.innerHeight())),t},setSize:function(e,t){var n=this;return n.setWidth(e),n.setHeight(t),n},setPosition:function(e,t){var n;return"number"==typeof e&&"number"==typeof t?n={left:e,top:t}:"string"==typeof e&&(n=this._calculatePosition(e)),this.$el.css(n),this},setTitle:function(e){return this.$el.find(".lobibox-title").html(e)},getTitle:function(){return this.$el.find(".lobibox-title").html()},show:function(){var e=this,t=$("body");if(e._triggerEvent("onShow"),e.$el.removeClass("lobibox-hidden"),t.append(e.$el),e.$options.buttons){var n=e.$el.find(".lobibox-footer").children();n[0].focus()}return e.$options.modal&&(t.addClass(Lobibox.base.OPTIONS.bodyClass),e._addBackdrop()),e._triggerEvent("shown"),e}};Lobibox.base={},Lobibox.base.OPTIONS={bodyClass:"lobibox-open",modalClasses:{error:"lobibox-error",success:"lobibox-success",info:"lobibox-info",warning:"lobibox-warning",confirm:"lobibox-confirm",progress:"lobibox-progress",prompt:"lobibox-prompt","default":"lobibox-default",window:"lobibox-window"},buttonsAlign:["left","center","right"],buttons:{ok:{"class":"lobibox-btn lobibox-btn-default",text:"OK",closeOnClick:!0},cancel:{"class":"lobibox-btn lobibox-btn-cancel",text:"Cancel",closeOnClick:!0},yes:{"class":"lobibox-btn lobibox-btn-yes",text:"Yes",closeOnClick:!0},no:{"class":"lobibox-btn lobibox-btn-no",text:"No",closeOnClick:!0}},icons:{bootstrap:{confirm:"glyphicon glyphicon-question-sign",success:"glyphicon glyphicon-ok-sign",error:"glyphicon glyphicon-remove-sign",warning:"glyphicon glyphicon-exclamation-sign",info:"glyphicon glyphicon-info-sign"},fontAwesome:{confirm:"fa fa-question-circle",success:"fa fa-check-circle",error:"fa fa-times-circle",warning:"fa fa-exclamation-circle",info:"fa fa-info-circle"}}},Lobibox.base.DEFAULTS={horizontalOffset:5,width:600,height:"auto",closeButton:!0,draggable:!1,customBtnClass:"lobibox-btn lobibox-btn-default",modal:!0,debug:!1,buttonsAlign:"center",closeOnEsc:!0,delayToRemove:200,baseClass:"animated-super-fast",showClass:"zoomIn",hideClass:"zoomOut",iconSource:"bootstrap",onShow:null,shown:null,beforeClose:null,closed:null},e.prototype=$.extend({},a,{constructor:e,_processInput:function(t){var n=this,i=a._processInput.call(n,t);return i.buttons={ok:Lobibox.base.OPTIONS.buttons.ok,cancel:Lobibox.base.OPTIONS.buttons.cancel},t=$.extend({},i,e.DEFAULT_OPTIONS,t)},_init:function(){var e=this;a._init.call(e),e.show(),e._setContent(e._createInput())._position(),e.$input.focus()},_createInput:function(){var e,t=this;return t.$options.multiline?t.$input=$("<textarea></textarea>").attr("rows",t.$options.lines):t.$input=$('<input type="'+t.$promptType+'"/>'),t.$input.addClass("lobibox-input").attr(t.$options.attrs),t.$options.value&&t.setValue(t.$options.value),t.$options.label&&(e=$("<label>"+t.$options.label+"</label>")),$("<div></div>").append(e,t.$input)},setValue:function(e){return this.$input.val(e),this},getValue:function(){return this.$input.val()}}),e.DEFAULT_OPTIONS={width:400,attrs:{},value:"",multiline:!1,lines:3,type:"text",label:""},t.prototype=$.extend({},a,{constructor:t,_processInput:function(e){var t=this,n=a._processInput.call(t,e);return n.buttons={yes:Lobibox.base.OPTIONS.buttons.yes,no:Lobibox.base.OPTIONS.buttons.no},e=$.extend({},n,Lobibox.confirm.DEFAULTS,e)},_init:function(){var e=this;a._init.call(e),e.show();var t=$("<div></div>");e.$options.iconClass&&t.append($('<div class="lobibox-icon-wrapper"></div>').append('<i class="lobibox-icon '+e.$options.iconClass+'"></i>')),t.append('<div class="lobibox-body-text-wrapper"><span class="lobibox-body-text">'+e.$options.msg+"</span></div>"),e._setContent(t.html()),e._position()}}),Lobibox.confirm.DEFAULTS={title:"Question",width:500},n.prototype=$.extend({},a,{constructor:n,_processInput:function(e){var t=this,n=a._processInput.call(t,e);return n.buttons={ok:Lobibox.base.OPTIONS.buttons.ok},e=$.extend({},n,Lobibox.alert.OPTIONS[t.$type],Lobibox.alert.DEFAULTS,e)},_init:function(){var e=this;a._init.call(e),e.show();var t=$("<div></div>");e.$options.iconClass&&t.append($('<div class="lobibox-icon-wrapper"></div>').append('<i class="lobibox-icon '+e.$options.iconClass+'"></i>')),t.append('<div class="lobibox-body-text-wrapper"><span class="lobibox-body-text">'+e.$options.msg+"</span></div>"),e._setContent(t.html()),e._position()}}),Lobibox.alert.OPTIONS={warning:{title:"Warning"},info:{title:"Information"},success:{title:"Success"},error:{title:"Error"}},Lobibox.alert.DEFAULTS={},i.prototype=$.extend({},a,{constructor:i,_processInput:function(e){var t=this,n=a._processInput.call(t,e);return e=$.extend({},n,Lobibox.progress.DEFAULTS,e)},_init:function(){var e=this;a._init.call(e),e.show(),e.$options.progressTpl?e.$progressBarElement=$(e.$options.progressTpl):e.$progressBarElement=e._createProgressbar();var t;e.$options.label&&(t=$("<label>"+e.$options.label+"</label>"));var n=$("<div></div>").append(t,e.$progressBarElement);e._setContent(n),e._position()},_createProgressbar:function(){var e=this,t=$('<div class="lobibox-progress-bar-wrapper lobibox-progress-outer"></div>').append('<div class="lobibox-progress-bar lobibox-progress-element"></div>');return e.$options.showProgressLabel&&t.append('<span class="lobibox-progress-text" data-role="progress-text"></span>'),t},setProgress:function(e){var t=this;if(100!==t.$progress)return e=Math.min(100,Math.max(0,e)),t.$progress=e,t._triggerEvent("progressUpdated"),100===t.$progress&&t._triggerEvent("progressCompleted"),t.$el.find(".lobibox-progress-element").css("width",e.toFixed(1)+"%"),t.$el.find('[data-role="progress-text"]').html(e.toFixed(1)+"%"),t},getProgress:function(){return this.$progress}}),Lobibox.progress.DEFAULTS={width:500,showProgressLabel:!0,label:"",progressTpl:!1,progressUpdated:null,progressCompleted:null},o.prototype=$.extend({},a,{constructor:o,_processInput:function(e){var t=this,n=a._processInput.call(t,e);return e.content&&"function"==typeof e.content&&(e.content=e.content()),e.content instanceof jQuery&&(e.content=e.content.clone()),e=$.extend({},n,Lobibox.window.DEFAULTS,e)},_init:function(){var e=this;a._init.call(e),e.setContent(e.$options.content),e.$options.url&&e.$options.autoload?(e.$options.showAfterLoad||(e.show(),e._position()),e.load(function(){e.$options.showAfterLoad&&(e.show(),e._position())})):(e.show(),e._position())},setParams:function(e){var t=this;return t.$options.params=e,t},getParams:function(){var e=this;return e.$options.params},setLoadMethod:function(e){var t=this;return t.$options.loadMethod=e,t},getLoadMethod:function(){var e=this;return e.$options.loadMethod},setContent:function(e){var t=this;return t.$options.content=e,t.$el.find(".lobibox-body").html("").append(e),t},getContent:function(){var e=this;return e.$options.content},setUrl:function(e){return this.$options.url=e,this},getUrl:function(){return this.$options.url},load:function(e){var t=this;return t.$options.url?($.ajax(t.$options.url,{method:t.$options.loadMethod,data:t.$options.params}).done(function(n){t.setContent(n),e&&"function"==typeof e&&e(n)}),t):t}}),Lobibox.window.DEFAULTS={width:480,height:600,content:"",url:"",draggable:!0,autoload:!0,loadMethod:"GET",showAfterLoad:!0,params:{}}}(),Math.randomString=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;e>i;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t};var Lobibox=Lobibox||{};!function(){var e=function(e,t){this.$type=null,this.$options=null,this.$el=null;var n=this,i=function(e){return("mini"===e.size||"large"===e.size)&&(e.width=e.width||Lobibox.notify.OPTIONS[e.size].width),e=$.extend({},Lobibox.notify.OPTIONS[n.$type],Lobibox.notify.DEFAULTS,e),"mini"!==e.size&&e.title===!0?e.title=Lobibox.notify.OPTIONS[n.$type].title:"mini"===e.size&&e.title===!0&&(e.title=!1),e.icon===!0&&(e.icon=Lobibox.notify.OPTIONS.icons[e.iconSource][n.$type]),e.sound===!0&&(e.sound=Lobibox.notify.OPTIONS[n.$type].sound),e.sound&&(e.sound=e.soundPath+e.sound+e.soundExt),e},o=function(){var e=u(),t=c();if(a(e,t),n.$el=e,n.$options.sound){var i=new Audio(n.$options.sound);i.play()}n.$el.data("lobibox",n)},a=function(e,t){if("normal"===n.$options.size)t.append(e);else if("mini"===n.$options.size)e.addClass("notify-mini"),t.append(e);else if("large"===n.$options.size){var i=l().append(e),o=s(i.attr("id"));t.find(".lb-notify-wrapper").append(i),t.find(".lb-notify-tabs").append(o),r(o),o.find(">a").click(function(){r(o)})}},r=function(e){e.closest(".lb-notify-tabs").find(">li").removeClass("active"),e.addClass("active");var t=$(e.find(">a").attr("href"));t.closest(".lb-notify-wrapper").find(">.lb-tab-pane").removeClass("active"),t.addClass("active")},s=function(e){var t=$("<li></li>",{"class":Lobibox.notify.OPTIONS[n.$type]["class"]});return $("<a></a>",{href:"#"+e}).append('<i class="tab-control-icon '+n.$options.icon+'"></i>').appendTo(t),t},l=function(){return $("<div></div>",{"class":"lb-tab-pane",id:Math.randomString(10)})},c=function(){var e,t=("large"===n.$options.size?".lobibox-notify-wrapper-large":".lobibox-notify-wrapper")+"."+n.$options.position.replace(/\s/gi,".");return e=$(t),0===e.length&&(e=$("<div></div>").addClass(t.replace(/\./g," ").trim()).appendTo($("body")),"large"===n.$options.size&&e.append($('<ul class="lb-notify-tabs"></ul>')).append($('<div class="lb-notify-wrapper"></div>'))),e},u=function(){var e,t,i=Lobibox.notify.OPTIONS,o=$("<div></div>",{"class":"lobibox-notify "+i[n.$type]["class"]+" "+i["class"]+" "+n.$options.showClass});return e=$('<div class="lobibox-notify-icon"></div>').appendTo(o),n.$options.img?e.append('<img src="'+n.$options.img+'"/>'):n.$options.icon?e.append('<i class="'+n.$options.icon+'"></i>'):o.addClass("without-icon"),t=$("<div></div>",{"class":"lobibox-notify-body"}).append('<div class="lobibox-notify-msg">'+n.$options.msg+"</div>").appendTo(o),n.$options.title&&t.prepend('<div class="lobibox-notify-title">'+n.$options.title+"<div>"),d(o),("normal"===n.$options.size||"mini"===n.$options.size)&&(h(o),f(o)),n.$options.width&&o.css("width",g(n.$options.width)),o},d=function(e){n.$options.closable&&$('<span class="lobibox-close">&times;</span>').click(function(){n.remove()}).appendTo(e)},h=function(e){n.$options.closeOnClick&&e.click(function(){n.remove()})},f=function(e){if(n.$options.delay){if(n.$options.delayIndicator){var t=$('<div class="lobibox-delay-indicator"><div></div></div>');e.append(t)}var i=0,o=1e3/30,a=setInterval(function(){i+=o;var e=100*i/n.$options.delay;e>=100&&(e=100,n.remove(),a=clearInterval(a)),n.$options.delayIndicator&&t.find("div").css("width",e+"%")},o)}},m=function(e){var t=e.prev();return 0===t.length&&(t=e.next()),0===t.length?null:t},g=function(e){return e=Math.min($(window).outerWidth(),e)};this.remove=function(){n.$el.removeClass(n.$options.showClass).addClass(n.$options.hideClass);var e=n.$el.parent(),t=e.closest(".lobibox-notify-wrapper-large"),i="#"+e.attr("id"),o=t.find('>.lb-notify-tabs>li:has(a[href="'+i+'"])');return o.addClass(Lobibox.notify.OPTIONS["class"]).addClass(n.$options.hideClass),setTimeout(function(){if("normal"===n.$options.size||"mini"===n.$options.size)n.$el.remove();else if("large"===n.$options.size){var t=m(o);t&&r(t),o.remove(),e.remove()}},500),n},this.$type=e,this.$options=i(t),o()};Lobibox.notify=function(t,n){return["info","warning","error","success"].indexOf(t)>-1?new e(t,n):void 0},Lobibox.notify.DEFAULTS={title:!0,size:"normal",soundPath:"sounds/",soundExt:".ogg",showClass:"zoomIn",hideClass:"zoomOut",icon:!0,msg:"",img:null,closable:!0,delay:5e3,delayIndicator:!0,closeOnClick:!0,width:400,sound:!0,position:"bottom right",iconSource:"bootstrap"},Lobibox.notify.OPTIONS={"class":"animated-fast",large:{width:500},mini:{"class":"notify-mini"},success:{"class":"lobibox-notify-success",title:"Success",sound:"sound2"},error:{"class":"lobibox-notify-error",title:"Error",sound:"sound4"},warning:{"class":"lobibox-notify-warning",title:"Warning",sound:"sound5"},info:{"class":"lobibox-notify-info",title:"Information",sound:"sound6"},icons:{bootstrap:{success:"glyphicon glyphicon-ok-sign",error:"glyphicon glyphicon-remove-sign",warning:"glyphicon glyphicon-exclamation-sign",info:"glyphicon glyphicon-info-sign"},fontAwesome:{success:"fa fa-check-circle",error:"fa fa-times-circle",warning:"fa fa-exclamation-circle",info:"fa fa-info-circle"}}}}(),$(function(){Lobibox.notify.DEFAULTS=$.extend({},Lobibox.notify.DEFAULTS,{position:"bottom left"}),$(".menu .dropdown.item").dropdown({on:"hover"}),$(".ui.sidebar").sidebar("attach events",".cart.item"),$(".message .close").on("click",function(){$(this).closest(".message").transition("fade")}),$(".ui.radio.checkbox").checkbox(),$(".ui.checkbox").checkbox(),$(".product.color a").click(function(){$(".product.color a").each(function(e,t){value=$(t).attr("data-value"),$(t).html(value)}),value=$(this).attr("data-value"),$(this).html("<i class='check square icon'></i>"+value),$("#buy_color").attr("value",value),$(".product.size a").each(function(e,t){value=$(t).attr("data-value"),$(t).html(value)}),$("#buy_buy_count").empty(),$("#lbl_itemcode").text("\u5c1a\u672a\u9078\u64c7\u5c3a\u5bf8")}),$(".product.size a").click(function(){$(".product.size a").each(function(e,t){value=$(t).attr("data-value"),$(t).html(value)}),value=$(this).attr("data-value"),$(this).html("<i class='check square icon'></i>"+value),$("#buy_size").attr("value",value),$.post("/site/spec",$(".form.buy").serialize(),function(e){if(e&&e.qty>0)for($("#sellout").hide(),$(".form.buy").show(),$("#buy_buy_count").empty(),i=1;i<=e.qty;i++)$("#buy_buy_count").append($("<option>",{value:i}).text(i)),$("#lbl_itemcode").text(e.itemcode),$("#buy_itemcode").attr("value",e.itemcode);else $("#sellout").show(),$(".form.buy").hide(),$("#lbl_itemcode").text("-")})})}),function(){var e,t,n,i,o,a,r,s,l,c,u,d,h,f,m,g,p,v,b,E,T,C,y,I,O,D,R,_,k,K,w,x,S,N,A,L,P,F,$,B,M,H,q,z,j,V,W,U,G,X,Y,Q,Z,J,ee,te,ne=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},ie=function(e,t){function n(){this.constructor=e}for(var i in t)oe.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},oe={}.hasOwnProperty,ae=[].slice,re=function(e,t){return function(){return e.apply(t,arguments)}};N={},h=10,Q=!1,$=null,b=null,x=null,H=null,te=null,i={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},I=function(e){var t;return e=new n(e),W(),d(),null!=$&&$.start(),Q&&(t=Z(e.absolute))?(O(t),D(e,null,!1)):D(e,X)},Z=function(e){var t;return t=N[e],t&&!t.transitionCacheDisabled?t:void 0},T=function(e){return null==e&&(e=!0),Q=e},E=function(e){return null==e&&(e=!0),c?e?null!=$?$:$=new a("html"):(null!=$&&$.uninstall(),$=null):void 0},D=function(e,t,n){return null==n&&(n=!0),J(i.FETCH,{url:e.absolute}),null!=te&&te.abort(),te=new XMLHttpRequest,te.open("GET",e.withoutHashForIE10compatibility(),!0),te.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),te.setRequestHeader("X-XHR-Referer",H),te.onload=function(){var n;return J(i.RECEIVE,{url:e.absolute}),(n=F())?(q(e),z(),f.apply(null,y(n)),S(),"function"==typeof t&&t(),J(i.LOAD)):document.location.href=v()||e.absolute},$&&n&&(te.onprogress=function(e){return function(e){var t;return t=e.lengthComputable?e.loaded/e.total*100:$.value+(100-$.value)/10,$.advanceTo(t)}}(this)),te.onloadend=function(){return te=null},te.onerror=function(){return document.location.href=e.absolute},te.send()},O=function(e){return null!=te&&te.abort(),f(e.title,e.body),B(e),J(i.RESTORE)},d=function(){var e;return e=new n(b.url),N[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},g(h)},L=function(e){return null==e&&(e=h),/^[\d]+$/.test(e)?h=parseInt(e):void 0},g=function(e){var t,n,o,a,r,s;for(r=Object.keys(N),t=r.map(function(e){return N[e].cachedAt}).sort(function(e,t){return t-e}),s=[],n=0,a=r.length;a>n;n++)o=r[n],N[o].cachedAt<=t[e]&&(J(i.EXPIRE,N[o]),s.push(delete N[o]));return s},f=function(t,n,o,a){return J(i.BEFORE_UNLOAD),document.title=t,document.documentElement.replaceChild(n,document.body),null!=o&&e.update(o),Y(),a&&C(),b=window.history.state,null!=$&&$.done(),J(i.CHANGE),J(i.UPDATE)},C=function(){var e,t,n,i,o,a,r,s,l,c,u,d;for(d=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),n=0,o=d.length;o>n;n++)if(u=d[n],""===(l=u.type)||"text/javascript"===l){for(t=document.createElement("script"),c=u.attributes,i=0,a=c.length;a>i;i++)e=c[i],t.setAttribute(e.name,e.value);u.hasAttribute("async")||(t.async=!1),t.appendChild(document.createTextNode(u.innerHTML)),s=u.parentNode,r=u.nextSibling,s.removeChild(u),s.insertBefore(t,r)}},U=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),e},Y=function(){var e,t;return e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1],e&&document.activeElement!==e?e.focus():void 0},q=function(e){return(e=new n(e)).absolute!==H?window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute):void 0},z=function(){var e,t;return(e=te.getResponseHeader("X-XHR-Redirected-To"))?(e=new n(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",e.href+t)):void 0},v=function(){var e;return null!=(e=te.getResponseHeader("Location"))&&new n(e).crossOrigin()?e:void 0},W=function(){return H=document.location.href},V=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},j=function(){return b=window.history.state},S=function(){var e;return navigator.userAgent.match(/Firefox/)&&!(e=new n).hasNoHash()?(window.history.replaceState(b,"",e.withoutHash()),document.location.hash=e.hash):void 0},B=function(e){return window.scrollTo(e.positionX,e.positionY)},X=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},m=function(e){var t,n,i;if(null==e||"object"!=typeof e)return e;t=new e.constructor;for(n in e)i=e[n],t[n]=m(i);return t},P=function(e){var t,n;return n=(null!=(t=document.cookie.match(new RegExp(e+"=(\\w+)")))?t[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n},J=function(e,t){var n;return"undefined"!=typeof Prototype&&Event.fire(document,e,t,!0),n=document.createEvent("Events"),t&&(n.data=t),n.initEvent(e,!0,!0),document.dispatchEvent(n)},A=function(e){return!J(i.BEFORE_CHANGE,{url:e})},F=function(){var e,t,n,i,o,a;return t=function(){var e;return 400<=(e=te.status)&&600>e},a=function(){var e;return null!=(e=te.getResponseHeader("Content-Type"))&&e.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(e){var t,n,i,o,a;for(o=e.querySelector("head").childNodes,a=[],t=0,n=o.length;n>t;t++)i=o[t],null!=("function"==typeof i.getAttribute?i.getAttribute("data-turbolinks-track"):void 0)&&a.push(i.getAttribute("src")||i.getAttribute("href"));return a},e=function(e){var t;return x||(x=i(document)),t=i(e),t.length!==x.length||o(t,x).length!==x.length},o=function(e,t){var n,i,o,a,r;for(e.length>t.length&&(o=[t,e],e=o[0],t=o[1]),a=[],n=0,i=e.length;i>n;n++)r=e[n],ne.call(t,r)>=0&&a.push(r);return a},!t()&&a()&&(n=p(te.responseText),n&&!e(n))?n:void 0},y=function(t){var n;return n=t.querySelector("title"),[null!=n?n.textContent:void 0,U(t.querySelector("body")),e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t&&"function"==typeof t.getAttribute?t.getAttribute("content"):void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},p=function(e){var t;return t=document.documentElement.cloneNode(),t.innerHTML=e,t.head=t.querySelector("head"),t.body=t.querySelector("body"),t},n=function(){function e(t){return this.original=null!=t?t:document.location.href,this.original.constructor===e?this.original:void this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return 0===this.hash.length},e.prototype.crossOrigin=function(){return this.origin!==(new e).origin},e.prototype._parse=function(){var e;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),o=function(e){function t(e){return this.link=e,this.link.constructor===t?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void t.__super__.constructor.apply(this,arguments))}return ie(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,n,i,o;for(n=1<=arguments.length?ae.call(arguments,0):[],i=0,o=n.length;o>i;i++)e=n[i],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){
return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new n).withoutHash()},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;for(t=this.originalElement;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},t.prototype._target=function(){return 0!==this.link.target.length},t}(n),t=function(){function e(e){this.event=e,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(A(this.link.absolute)||ee(this.link.href),this.event.preventDefault()))}return e.installHandlerLast=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1))},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;for(e=this.event.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return"A"===e.nodeName&&0!==e.href.length?this.link=new o(e):void 0},e.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),a=function(){function e(e){this.elementSelector=e,this._trickle=re(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var t;return t="turbolinks-progress-bar",e.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(t),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},e.prototype.uninstall=function(){return this.element.classList.remove(t),document.head.removeChild(this.styleElement)},e.prototype.start=function(){return this.advanceTo(5)},e.prototype.advanceTo=function(e){var t;if(e>(t=this.value)&&100>=t){if(this.value=e,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},e.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},e.prototype._reset=function(){var e;return e=this.opacity,setTimeout(function(e){return function(){return e.opacity=0,e._updateStyle()}}(this),this.speed/2),setTimeout(function(t){return function(){return t.value=0,t.opacity=e,t._withSpeed(0,function(){return t._updateStyle(!0)})}}(this),this.speed)},e.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},e.prototype._stopTrickle=function(){return delete this.trickling},e.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},e.prototype._withSpeed=function(e,t){var n,i;return n=this.speed,this.speed=e,i=t(),this.speed=n,i},e.prototype._updateStyle=function(e){return null==e&&(e=!1),e&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},e.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},e.prototype._createCSSRule=function(){return this.elementSelector+"."+t+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},e}(),u=function(e){return setTimeout(e,500)},k=function(){return document.addEventListener("DOMContentLoaded",function(){return J(i.CHANGE),J(i.UPDATE)},!0)},w=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,t,n){return jQuery.trim(t.responseText)?J(i.UPDATE):void 0}):void 0},K=function(e){var t,i;return(null!=(i=e.state)?i.turbolinks:void 0)?(t=N[new n(e.state.url).absolute])?(d(),O(t)):ee(e.target.location.href):void 0},_=function(){return V(),j(),document.addEventListener("click",t.installHandlerLast,!0),window.addEventListener("hashchange",function(e){return V(),j()},!1),u(function(){return window.addEventListener("popstate",K,!1)})},R=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&R,r=!navigator.userAgent.match(/CriOS\//),G="GET"===(M=P("request_method"))||""===M,c=l&&r&&G,s=document.addEventListener&&document.createEvent,s&&(k(),w()),c?(ee=I,_()):ee=function(e){return document.location.href=e},this.Turbolinks={visit:ee,pagesCached:L,enableTransitionCache:T,enableProgressBar:E,allowLinkExtensions:o.allowExtensions,supported:c,EVENTS:m(i)}}.call(this);